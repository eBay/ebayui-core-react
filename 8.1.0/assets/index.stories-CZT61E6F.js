import{a as Ee,j as Ya,c as Nh,F as GI}from"./index-Zi3BSDNR.js";import{r as Tn}from"./index-CBqU2yxZ.js";import{a as ur}from"./chunk-AY7I2SME-DUSEA8To.js";import{E as _E}from"./button-DcM8YBzX.js";import{g as zI,c as KI}from"./_commonjsHelpers-BosuxZz1.js";import"./array.polyfill.flat-CdgOAY5o.js";import{a as WI}from"./utils-CjxuFDP8.js";import{E as _h}from"./icon-D9XcPhU5.js";import{E as XI}from"./progress-spinner-DrS9rJl9.js";import{a as YI}from"./client-CUJjkEuk.js";import"./index-BtM5VmRH.js";var Vh={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(xe){(function(){var Xe=typeof window<"u"?window:KI,at={};(function(D,li,Ii){var p;function Ao(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var sr=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function Dl(e){e=[typeof globalThis=="object"&&globalThis,e,typeof D=="object"&&D,typeof self=="object"&&self,typeof li=="object"&&li];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var sn=Dl(this);function Oe(e,t){if(t)e:{var n=sn;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&t!=null&&sr(n,e,{configurable:!0,writable:!0,value:t})}}Oe("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(i+(o||"")+"_"+r++,o)}function n(o,a){this.g=o,sr(this,"description",{configurable:!0,writable:!0,value:a})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return t}),Oe("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=sn[t[n]];typeof i=="function"&&typeof i.prototype[e]!="function"&&sr(i.prototype,e,{configurable:!0,writable:!0,value:function(){return $a(Ao(this))}})}return e});function $a(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function m(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:Ao(e)}}function H(e){if(!(e instanceof Array)){e=m(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var Pl=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},xo;if(typeof Object.setPrototypeOf=="function")xo=Object.setPrototypeOf;else{var Co;e:{var Qa={a:!0},lr={};try{lr.__proto__=Qa,Co=lr.a;break e}catch{}Co=!1}xo=Co?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Io=xo;function se(e,t){if(e.prototype=Pl(t.prototype),e.prototype.constructor=e,Io)Io(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.Bk=t.prototype}function Mi(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function Mo(e){if(e.s)throw new TypeError("Generator is already running");e.s=!0}Mi.prototype.u=function(e){this.h=e};function Li(e,t){e.i={Qg:t,$g:!0},e.g=e.m||e.j}Mi.prototype.return=function(e){this.i={return:e},this.g=this.j};function y(e,t,n){return e.g=n,{value:t}}Mi.prototype.F=function(e){this.g=e};function O(e){e.g=0}function $(e,t,n){e.m=t,n!=null&&(e.j=n)}function pt(e,t){e.m=0,e.j=t||0}function oe(e,t,n){e.g=t,e.m=n||0}function Q(e,t){return e.m=t||0,t=e.i.Qg,e.i=null,t}function At(e){e.C=[e.i],e.m=0,e.j=0}function gt(e,t){var n=e.C.splice(0)[0];(n=e.i=e.i||n)?n.$g?e.g=e.m||e.j:n.F!=null&&e.j<n.F?(e.g=n.F,e.i=null):e.g=e.j:e.g=t}function Rl(e){this.g=new Mi,this.h=e}function Nl(e,t){Mo(e.g);var n=e.g.l;return n?Lo(e,"return"in n?n.return:function(i){return{value:i,done:!0}},t,e.g.return):(e.g.return(t),ki(e))}function Lo(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.s=!1,r;var o=r.value}catch(a){return e.g.l=null,Li(e.g,a),ki(e)}return e.g.l=null,i.call(e.g,o),ki(e)}function ki(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.s=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,Li(e.g,n)}if(e.g.s=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.$g)throw t.Qg;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function _l(e){this.next=function(t){return Mo(e.g),e.g.l?t=Lo(e,e.g.l.next,t,e.g.u):(e.g.u(t),t=ki(e)),t},this.throw=function(t){return Mo(e.g),e.g.l?t=Lo(e,e.g.l.throw,t,e.g.u):(Li(e.g,t),t=ki(e)),t},this.return=function(t){return Nl(e,t)},this[Symbol.iterator]=function(){return this}}function Ja(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function o(a){a.done?i(a.value):Promise.resolve(a.value).then(t,n).then(o,r)}o(e.next())})}function C(e){return Ja(new _l(new Rl(e)))}function Ge(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}Oe("Promise",function(e){function t(a){this.h=0,this.i=void 0,this.g=[],this.s=!1;var u=this.j();try{a(u.resolve,u.reject)}catch(s){u.reject(s)}}function n(){this.g=null}function i(a){return a instanceof t?a:new t(function(u){u(a)})}if(e)return e;n.prototype.h=function(a){if(this.g==null){this.g=[];var u=this;this.i(function(){u.l()})}this.g.push(a)};var r=sn.setTimeout;n.prototype.i=function(a){r(a,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var u=0;u<a.length;++u){var s=a[u];a[u]=null;try{s()}catch(l){this.j(l)}}}this.g=null},n.prototype.j=function(a){this.i(function(){throw a})},t.prototype.j=function(){function a(l){return function(d){s||(s=!0,l.call(u,d))}}var u=this,s=!1;return{resolve:a(this.H),reject:a(this.l)}},t.prototype.H=function(a){if(a===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof t)this.J(a);else{e:switch(typeof a){case"object":var u=a!=null;break e;case"function":u=!0;break e;default:u=!1}u?this.G(a):this.m(a)}},t.prototype.G=function(a){var u=void 0;try{u=a.then}catch(s){this.l(s);return}typeof u=="function"?this.K(u,a):this.m(a)},t.prototype.l=function(a){this.u(2,a)},t.prototype.m=function(a){this.u(1,a)},t.prototype.u=function(a,u){if(this.h!=0)throw Error("Cannot settle("+a+", "+u+"): Promise already settled in state"+this.h);this.h=a,this.i=u,this.h===2&&this.I(),this.C()},t.prototype.I=function(){var a=this;r(function(){if(a.D()){var u=sn.console;typeof u<"u"&&u.error(a.i)}},1)},t.prototype.D=function(){if(this.s)return!1;var a=sn.CustomEvent,u=sn.Event,s=sn.dispatchEvent;return typeof s>"u"?!0:(typeof a=="function"?a=new a("unhandledrejection",{cancelable:!0}):typeof u=="function"?a=new u("unhandledrejection",{cancelable:!0}):(a=sn.document.createEvent("CustomEvent"),a.initCustomEvent("unhandledrejection",!1,!0,a)),a.promise=this,a.reason=this.i,s(a))},t.prototype.C=function(){if(this.g!=null){for(var a=0;a<this.g.length;++a)o.h(this.g[a]);this.g=null}};var o=new n;return t.prototype.J=function(a){var u=this.j();a.Zd(u.resolve,u.reject)},t.prototype.K=function(a,u){var s=this.j();try{a.call(u,s.resolve,s.reject)}catch(l){s.reject(l)}},t.prototype.then=function(a,u){function s(f,h){return typeof f=="function"?function(g){try{l(f(g))}catch(v){d(v)}}:h}var l,d,c=new t(function(f,h){l=f,d=h});return this.Zd(s(a,l),s(u,d)),c},t.prototype.catch=function(a){return this.then(void 0,a)},t.prototype.Zd=function(a,u){function s(){switch(l.h){case 1:a(l.i);break;case 2:u(l.i);break;default:throw Error("Unexpected state: "+l.h)}}var l=this;this.g==null?o.h(s):this.g.push(s),this.s=!0},t.resolve=i,t.reject=function(a){return new t(function(u,s){s(a)})},t.race=function(a){return new t(function(u,s){for(var l=m(a),d=l.next();!d.done;d=l.next())i(d.value).Zd(u,s)})},t.all=function(a){var u=m(a),s=u.next();return s.done?i([]):new t(function(l,d){function c(g){return function(v){f[g]=v,h--,h==0&&l(f)}}var f=[],h=0;do f.push(void 0),h++,i(s.value).Zd(c(f.length-1),d),s=u.next();while(!s.done)})},t});function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Oe("WeakMap",function(e){function t(s){if(this.g=(u+=Math.random()+1).toString(),s){s=m(s);for(var l;!(l=s.next()).done;)l=l.value,this.set(l[0],l[1])}}function n(){}function i(s){var l=typeof s;return l==="object"&&s!==null||l==="function"}function r(s){if(!ut(s,a)){var l=new n;sr(s,a,{value:l})}}function o(s){var l=Object[s];l&&(Object[s]=function(d){return d instanceof n?d:(Object.isExtensible(d)&&r(d),l(d))})}if(function(){if(!e||!Object.seal)return!1;try{var s=Object.seal({}),l=Object.seal({}),d=new e([[s,2],[l,3]]);return d.get(s)!=2||d.get(l)!=3?!1:(d.delete(s),d.set(l,4),!d.has(s)&&d.get(l)==4)}catch{return!1}}())return e;var a="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(s,l){if(!i(s))throw Error("Invalid WeakMap key");if(r(s),!ut(s,a))throw Error("WeakMap key fail: "+s);return s[a][this.g]=l,this},t.prototype.get=function(s){return i(s)&&ut(s,a)?s[a][this.g]:void 0},t.prototype.has=function(s){return i(s)&&ut(s,a)&&ut(s[a],this.g)},t.prototype.delete=function(s){return i(s)&&ut(s,a)&&ut(s[a],this.g)?delete s[a][this.g]:!1},t}),Oe("Map",function(e){function t(){var u={};return u.Rb=u.next=u.head=u}function n(u,s){var l=u.g;return $a(function(){if(l){for(;l.head!=u.g;)l=l.Rb;for(;l.next!=l.head;)return l=l.next,{done:!1,value:s(l)};l=null}return{done:!0,value:void 0}})}function i(u,s){var l=s&&typeof s;l=="object"||l=="function"?o.has(s)?l=o.get(s):(l=""+ ++a,o.set(s,l)):l="p_"+s;var d=u.h[l];if(d&&ut(u.h,l))for(u=0;u<d.length;u++){var c=d[u];if(s!==s&&c.key!==c.key||s===c.key)return{id:l,list:d,index:u,entry:c}}return{id:l,list:d,index:-1,entry:void 0}}function r(u){if(this.h={},this.g=t(),this.size=0,u){u=m(u);for(var s;!(s=u.next()).done;)s=s.value,this.set(s[0],s[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var u=Object.seal({x:4}),s=new e(m([[u,"s"]]));if(s.get(u)!="s"||s.size!=1||s.get({x:4})||s.set({x:4},"t")!=s||s.size!=2)return!1;var l=s.entries(),d=l.next();return d.done||d.value[0]!=u||d.value[1]!="s"?!1:(d=l.next(),!(d.done||d.value[0].x!=4||d.value[1]!="t"||!l.next().done))}catch{return!1}}())return e;var o=new WeakMap;r.prototype.set=function(u,s){u=u===0?0:u;var l=i(this,u);return l.list||(l.list=this.h[l.id]=[]),l.entry?l.entry.value=s:(l.entry={next:this.g,Rb:this.g.Rb,head:this.g,key:u,value:s},l.list.push(l.entry),this.g.Rb.next=l.entry,this.g.Rb=l.entry,this.size++),this},r.prototype.delete=function(u){return u=i(this,u),u.entry&&u.list?(u.list.splice(u.index,1),u.list.length||delete this.h[u.id],u.entry.Rb.next=u.entry.next,u.entry.next.Rb=u.entry.Rb,u.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this.h={},this.g=this.g.Rb=t(),this.size=0},r.prototype.has=function(u){return!!i(this,u).entry},r.prototype.get=function(u){return(u=i(this,u).entry)&&u.value},r.prototype.entries=function(){return n(this,function(u){return[u.key,u.value]})},r.prototype.keys=function(){return n(this,function(u){return u.key})},r.prototype.values=function(){return n(this,function(u){return u.value})},r.prototype.forEach=function(u,s){for(var l=this.entries(),d;!(d=l.next()).done;)d=d.value,u.call(s,d[1],d[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var a=0;return r});function dr(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}Oe("Array.prototype.keys",function(e){return e||function(){return dr(this,function(t){return t})}}),Oe("Set",function(e){function t(n){if(this.g=new Map,n){n=m(n);for(var i;!(i=n.next()).done;)this.add(i.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),i=new e(m([n]));if(!i.has(n)||i.size!=1||i.add(n)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var r=i.entries(),o=r.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=r.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:r.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,i){var r=this;this.g.forEach(function(o){return n.call(i,o,o,r)})},t)}),Oe("Array.from",function(e){return e||function(t,n,i){n=n??function(u){return u};var r=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var a=0;!(o=t.next()).done;)r.push(n.call(i,o.value,a++))}else for(o=t.length,a=0;a<o;a++)r.push(n.call(i,t[a],a));return r}});function Hh(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{Xg:r,v:o}}return{Xg:-1,v:void 0}}Oe("Array.prototype.findIndex",function(e){return e||function(t,n){return Hh(this,t,n).Xg}}),Oe("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),Oe("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length;for(n=n||0,0>n&&(n=Math.max(n+r,0));n<r;n++){var o=i[n];if(o===t||Object.is(o,t))return!0}return!1}});function Ul(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}Oe("String.prototype.includes",function(e){return e||function(t,n){return Ul(this,t,"includes").indexOf(t,n||0)!==-1}}),Oe("Array.prototype.find",function(e){return e||function(t,n){return Hh(this,t,n).v}}),Oe("String.prototype.startsWith",function(e){return e||function(t,n){var i=Ul(this,t,"startsWith"),r=i.length,o=t.length;n=Math.max(0,Math.min(n|0,i.length));for(var a=0;a<o&&n<r;)if(i[n++]!=t[a++])return!1;return a>=o}}),Oe("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=m(n);for(var i;!(i=n.next()).done;)this.add(i.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),i=Object.seal({}),r=new e([n]);return!r.has(n)||r.has(i)?!1:(r.delete(n),r.add(i),!r.has(n)&&r.has(i))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)});var gT=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)ut(i,r)&&(e[r]=i[r])}return e};Oe("Object.assign",function(e){return e||gT}),Oe("Array.prototype.values",function(e){return e||function(){return dr(this,function(t,n){return n})}}),Oe("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),Oe("Array.prototype.entries",function(e){return e||function(){return dr(this,function(t,n){return[t,n]})}}),Oe("String.prototype.repeat",function(e){return e||function(t){var n=Ul(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}}),Oe("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),Oe("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),Oe("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)ut(t,i)&&n.push(t[i]);return n}}),Oe("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),Oe("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),Oe("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}}),Oe("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)ut(t,i)&&n.push([i,t[i]]);return n}});var vT=this||self;function N(e,t){e=e.split(".");var n=vT;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||t===void 0?n[i]&&n[i]!==Object.prototype[i]?n=n[i]:n=n[i]={}:n[i]=t}function B(e,t){if(t)if(t instanceof Map)for(var n=m(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=D.performance&&D.performance.now?D.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function jh(e){var t=new B(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}B.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},B.prototype.stopImmediatePropagation=function(){this.g=!0},B.prototype.stopPropagation=function(){},N("shaka.util.FakeEvent",B);var Za={Aj:"abrstatuschanged",Bj:"adaptation",Cj:"buffering",Dj:"complete",Ej:"downloadfailed",Fj:"downloadheadersreceived",Gj:"drmsessionupdate",Ij:"emsg",Yj:"prft",Error:"error",Jj:"expirationupdated",Kj:"firstquartile",Lj:"gapjumped",Oj:"keystatuschanged",Qj:"loaded",Rj:"loading",Tj:"manifestparsed",Uj:"manifestupdated",Vj:"mediaqualitychanged",Metadata:"metadata",Wj:"midpoint",Xj:"onstatechange",$j:"ratechange",bk:"segmentappended",ck:"sessiondata",dk:"stalldetected",ek:"started",fk:"statechanged",gk:"streaming",hk:"textchanged",ik:"texttrackvisibility",jk:"thirdquartile",kk:"timelineregionadded",lk:"timelineregionenter",nk:"timelineregionexit",pk:"trackschanged",rk:"unloading",vk:"variantchanged"};function yT(){}function di(){}function pe(){}function bi(e){var t=Ge.apply(1,arguments);Bh.has(e)||(Bh.add(e),pe.apply(yT,H(t)))}function ET(){}function eM(){}function tM(){}function nM(){}var Bh=new Set;D.console&&(pe=function(){return console.warn.apply(console,H(Ge.apply(0,arguments)))},di=function(){console.error.apply(console,H(Ge.apply(0,arguments)))});function eu(){this.g={}}p=eu.prototype,p.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},p.get=function(e){return(e=this.g[e])?e.slice():null},p.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},p.forEach=function(e){for(var t in this.g)e(t,this.g[t])},p.size=function(){return Object.keys(this.g).length},p.keys=function(){return Object.keys(this.g)};function fe(){this.Aa=new eu,this.we=this}fe.prototype.addEventListener=function(e,t){this.Aa&&this.Aa.push(e,t)},fe.prototype.removeEventListener=function(e,t){this.Aa&&this.Aa.remove(e,t)},fe.prototype.dispatchEvent=function(e){if(!this.Aa)return!0;var t=this.Aa.get(e.type)||[],n=this.Aa.get("All");for(n&&(t=t.concat(n)),t=m(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.we,e.currentTarget=this.we;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},fe.prototype.release=function(){this.Aa=null};function Ol(e,t){var n=[];e=m(e);for(var i=e.next();!i.done;i=e.next())n.push(t(i.value));return n}function TT(e,t){e=m(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function Fh(e,t){e=m(e);for(var n=e.next();!n.done;n=e.next())if(t(n.value))return!0;return!1}function cr(e,t){var n=[];e=m(e);for(var i=e.next();!i.done;i=e.next())i=i.value,t(i)&&n.push(i);return n}var ST=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function Fe(e){var t;e instanceof Fe?(tu(this,e.wb),this.Bc=e.Bc,nu(this,e.Kb),Vl(this,e.Tc),this.Ya=e.Ya,ko(this,e.g.clone()),this.pc=e.pc):e&&(t=String(e).match(ST))?(tu(this,t[1]||"",!0),this.Bc=bo(t[2]||""),nu(this,t[3]||"",!0),Vl(this,t[4]),this.Ya=bo(t[5]||"",!0),ko(this,t[6]||"",!0),this.pc=bo(t[7]||"")):this.g=new Po(null)}p=Fe.prototype,p.wb="",p.Bc="",p.Kb="",p.Tc=null,p.Ya="",p.pc="",p.toString=function(){var e=[],t=this.wb;if(t&&e.push(Do(t,qh,!0),":"),t=this.Kb){e.push("//");var n=this.Bc;n&&e.push(Do(n,qh,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Tc,t!=null&&e.push(":",String(t))}return(t=this.Ya)&&(this.Kb&&t.charAt(0)!="/"&&e.push("/"),e.push(Do(t,t.charAt(0)=="/"?xT:AT,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.pc)&&e.push("#",Do(t,IT)),e.join("")},p.resolve=function(e){var t=this.clone();t.wb==="data"&&(t=new Fe);var n=!!e.wb;n?tu(t,e.wb):n=!!e.Bc,n?t.Bc=e.Bc:n=!!e.Kb,n?nu(t,e.Kb):n=e.Tc!=null;var i=e.Ya;if(n)Vl(t,e.Tc);else if(n=!!e.Ya){if(i.charAt(0)!="/")if(this.Kb&&!this.Ya)i="/"+i;else{var r=t.Ya.lastIndexOf("/");r!=-1&&(i=t.Ya.substr(0,r+1)+i)}if(i==".."||i==".")i="";else if(i.indexOf("./")!=-1||i.indexOf("/.")!=-1){r=i.lastIndexOf("/",0)==0,i=i.split("/");for(var o=[],a=0;a<i.length;){var u=i[a++];u=="."?r&&a==i.length&&o.push(""):u==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),r&&a==i.length&&o.push("")):(o.push(u),r=!0)}i=o.join("/")}}return n?t.Ya=i:n=e.g.toString()!=="",n?ko(t,e.g.clone()):n=!!e.pc,n&&(t.pc=e.pc),t},p.clone=function(){return new Fe(this)};function tu(e,t,n){e.wb=n?bo(t,!0):t,e.wb&&(e.wb=e.wb.replace(/:$/,""))}function nu(e,t,n){e.Kb=n?bo(t,!0):t}function Vl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Tc=t}else e.Tc=null}function ko(e,t,n){t instanceof Po?e.g=t:(n||(t=Do(t,CT)),e.g=new Po(t))}function bo(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Do(e,t,n){return e!=null?(e=encodeURI(e).replace(t,wT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wT(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var qh=/[#\/\?@]/g,AT=/[#\?:]/g,xT=/[#\?]/g,CT=/[#\?@]/g,IT=/#/g;function Po(e){this.g=e||null}function iu(e){if(!e.Oa&&(e.Oa={},e.rd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),r=r||"",e.add(o,decodeURIComponent(r.replace(/\+/g," ")))}}p=Po.prototype,p.Oa=null,p.rd=null;function Gh(e){return iu(e),e.rd}p.add=function(e,t){iu(this),this.g=null;var n=this.Oa.hasOwnProperty(e)?this.Oa[e]:null;return n||(this.Oa[e]=n=[]),n.push(t),this.rd++,this},p.set=function(e,t){return iu(this),this.g=null,this.Oa.hasOwnProperty(e)?this.Oa[e]=[t]:this.add(e,t),this},p.get=function(e){return iu(this),this.Oa[e]||[]},p.toString=function(){if(this.g)return this.g;if(!this.Oa)return"";var e=[],t;for(t in this.Oa)for(var n=encodeURIComponent(t),i=this.Oa[t],r=0;r<i.length;r++){var o=n;i[r]!==""&&(o+="="+encodeURIComponent(i[r])),e.push(o)}return this.g=e.join("&")},p.clone=function(){var e=new Po;if(e.g=this.g,this.Oa){var t={},n;for(n in this.Oa)t[n]=this.Oa[n].concat();e.Oa=t,e.rd=this.rd}return e};function I(e,t,n){var i=Ge.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(r){this.stack=r.stack}}I.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},N("shaka.util.Error",I),I.Severity={RECOVERABLE:1,CRITICAL:2},I.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},I.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_CODEC_UNKNOWN:3021,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005};function ht(e,t){if(t.length==0)return e;if(e.length==1&&t.length==1){var n=new Fe(e[0]);return t=new Fe(t[0]),[n.resolve(t).toString()]}t=t.map(function(a){return new Fe(a)}),n=[],e=m(e);for(var i=e.next();!i.done;i=e.next()){i=new Fe(i.value);for(var r=m(t),o=r.next();!o.done;o=r.next())n.push(i.resolve(o.value).toString())}return n}function ci(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function pr(e,t){if(t.length==1)return t[0];if(e=kt(e,t),e!=null)return e;throw new I(2,4,4025,t)}function kt(e,t){for(var n=m(MT[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=m(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.test(o.trim()))return o.trim()}return e==me?"":null}var me="text",Ze={ia:"video",U:"audio",Da:me,cf:"image",yj:"application"},MT={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function ln(){}function ru(e,t){return e=ve(e),t=ve(t),e.split("-")[0]==t.split("-")[0]}function Ro(e,t){return e=ve(e),t=ve(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function Hl(e,t){return e=ve(e),t=ve(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function ve(e){e=m(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=m(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=Kh.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function zh(e,t){var n=hr(e),i=hr(t);return e!=n&&t!=i&&n==i}function Di(e,t){return e=ve(e),t=ve(t),t==e?4:Ro(t,e)?3:Hl(t,e)?2:Ro(e,t)?1:0}function hr(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=Kh.get(e)||e}function jl(e){return e.language?ve(e.language):e.audio&&e.audio.language?ve(e.audio.language):e.video&&e.video.language?ve(e.video.language):"und"}function ou(e,t){e=ve(e);var n=new Set,i=m(t);for(t=i.next();!t.done;t=i.next())n.add(ve(t.value));for(i=m(n),t=i.next();!t.done;t=i.next())if(t=t.value,t==e)return t;for(i=m(n),t=i.next();!t.done;t=i.next())if(t=t.value,Ro(t,e))return t;for(i=m(n),t=i.next();!t.done;t=i.next())if(t=t.value,Hl(t,e))return t;for(n=m(n),t=n.next();!t.done;t=n.next())if(t=t.value,Ro(e,t))return t;return null}N("shaka.util.LanguageUtils",ln),ln.findClosestLocale=ou,ln.getLocaleForVariant=jl,ln.getLocaleForText=function(e){return ve(e.language||"und")},ln.getBase=hr,ln.relatedness=Di,ln.areSiblings=zh,ln.normalize=ve,ln.isSiblingOf=Hl,ln.isParentOf=Ro,ln.areLanguageCompatible=ru,ln.areLocaleCompatible=function(e,t){return e=ve(e),t=ve(t),e==t};var Kh=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Ye(e){fe.call(this),this.j=ve(e),this.i=new Map,this.g=new Set,this.h=new Map}se(Ye,fe),p=Ye.prototype,p.release=function(){fe.prototype.release.call(this)},p.Ig=function(e){var t=this;this.g.clear(),e=m(e);for(var n=e.next();!n.done;n=e.next())this.g.add(ve(n.value));Wh(this),e=cr(this.g,function(i){return!t.h.has(i)}),e.length&&this.dispatchEvent(new B("unknown-locales",new Map().set("locales",e))),e=cr(this.g,function(i){return t.h.has(i)}),e=new Map().set("locales",e.length?e:[this.j]),this.dispatchEvent(new B("locale-changed",e))},p.ya=function(e,t,n){e=ve(e),n===void 0&&(n=Bl);var i=this.h.get(e)||new Map;return t.forEach(function(r,o){i.has(o)&&n!=Bl||i.set(o,r)}),this.h.set(e,i),Wh(this),this.dispatchEvent(new B("locale-updated")),this},p.ij=function(e){for(var t=m(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},p.resolve=function(e){var t=this.i.get(e);return t||(e=new Map().set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new B("unknown-localization",e)),"")},p.bi=function(){return this.g};function Wh(e){for(var t=e.h,n=e.j,i=e.g,r=new Set,o={},a=m(i),u=a.next();!u.done;o={Fc:o.Fc},u=a.next()){o.Fc=u.value,r.add(o.Fc),r.add(hr(o.Fc)),u=cr(t.keys(),function(l){return function(d){return zh(d,l.Fc)}}(o)),u.sort();var s=m(u);for(u=s.next();!u.done;u=s.next())r.add(u.value);for(u=cr(t.keys(),function(l){return function(d){return hr(d)==l.Fc}}(o)),u.sort(),s=m(u),u=s.next();!u.done;u=s.next())r.add(u.value)}for(r.add(n),n=[],r=m(r),u=r.next();!u.done;u=r.next())(u=t.get(u.value))&&n.push(u);for(n.reverse(),e.i.clear(),t=m(n),u=t.next();!u.done;u=t.next())u.value.forEach(function(l,d){e.i.set(d,l)});for(t=e.i.keys(),r=new Set,n=m(e.g),u=n.next();!u.done;u=n.next())u=e.h.get(u.value)||new Map,LT(u,t,r);0<r.size&&(i=new Map().set("locales",Array.from(i)).set("missing",Array.from(r)),e.dispatchEvent(new B("missing-localizations",i)))}function LT(e,t,n){t=m(t);for(var i=t.next();!i.done;i=t.next())i=i.value,e.get(i)||n.add(i)}N("shaka.ui.Localization",Ye),Ye.prototype.getCurrentLocales=Ye.prototype.bi,Ye.prototype.resolve=Ye.prototype.resolve,Ye.prototype.resolveDictionary=Ye.prototype.ij,Ye.prototype.insert=Ye.prototype.ya,Ye.prototype.changeLocale=Ye.prototype.Ig,Ye.prototype.release=Ye.prototype.release;var Bl=1;Ye.ConflictResolution={USE_OLD:0,USE_NEW:Bl},Ye.UNKNOWN_LOCALES="unknown-locales",Ye.UNKNOWN_LOCALIZATION="unknown-localization",Ye.MISSING_LOCALIZATIONS="missing-localizations",Ye.LOCALE_CHANGED="locale-changed",Ye.LOCALE_UPDATED="locale-updated";function fr(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}fr.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function au(e){return e.h/(1-Math.pow(e.g,e.i))}function No(){this.h=new fr(2),this.j=new fr(5),this.g=0,this.i=128e3,this.l=16e3}No.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},No.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},No.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(au(this.h),au(this.j))};function Ke(e){if(uu.has(e))return uu.get(e);if(D.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported(e);return uu.set(e,t),t}return D.MediaSource?(t=MediaSource.isTypeSupported(e),uu.set(e,t),t):!1}function Pi(){return!!D.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType}var uu=new Map;function _o(){}_o.prototype.extract=function(){},_o.prototype.decode=function(){return[]},_o.prototype.clear=function(){},_o.prototype.getStreams=function(){return[]};function Fl(){}Fl.prototype.init=function(){},Fl.prototype.parse=function(){return[]};function mr(){}function pi(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(ql(e)==ql(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=ae(e);t=ae(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function ql(e){return e instanceof ArrayBuffer?e:e.buffer}function Kt(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function ae(e,t,n){return n=n===void 0?1/0:n,Gl(e,t===void 0?0:t,n,Uint8Array)}function Xh(e,t,n){return n=n===void 0?1/0:n,Gl(e,t===void 0?0:t,n,Uint16Array)}function bt(e,t,n){return n=n===void 0?1/0:n,Gl(e,t===void 0?0:t,n,DataView)}function Gl(e,t,n,i){var r=ql(e),o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);var a=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,a))),new i(r,e,Math.floor(Math.min(e+Math.max(n,0),a))-e)}N("shaka.util.BufferUtils",mr),mr.toDataView=bt,mr.toUint16=Xh,mr.toUint8=ae,mr.toArrayBuffer=Kt,mr.equal=pi;function Uo(){}Uo.prototype.init=function(){},Uo.prototype.i=function(){},Uo.prototype.h=function(){},Uo.prototype.j=function(){},N("shaka.media.IClosedCaptionParser",Uo);function Ut(e){this.l=new Fl,(e=gr[e.toLowerCase()])&&(this.l=e()),this.g=new _o,(e=vr)&&(this.g=e())}Ut.prototype.init=function(e){this.l.init(e)},Ut.prototype.i=function(e){e=this.l.parse(e),e=m(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=ae(t.packet);0<n.length&&this.g.extract(n,t.pts)}return this.g.decode()},Ut.prototype.h=function(){this.g.clear()},Ut.prototype.j=function(){return this.g.getStreams()},N("shaka.media.ClosedCaptionParser",Ut),Ut.findDecoder=function(){return vr},Ut.unregisterDecoder=function(){vr=null},Ut.registerDecoder=function(e){vr=e},Ut.findParser=function(e){return gr[e]},Ut.unregisterParser=function(e){delete gr[e]},Ut.registerParser=function(e,t){gr[e]=t};var gr={},vr=null;function Yh(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function An(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function $h(e,t,n){if(n||(n=Yh),e.length!=t.length)return!1;t=t.slice();var i={};e=m(e);for(var r=e.next();!r.done;i={Ue:i.Ue},r=e.next()){if(i.Ue=r.value,r=t.findIndex(function(o){return function(a){return n(o.Ue,a)}}(i)),r==-1)return!1;t[r]=t[t.length-1],t.pop()}return t.length==0}function zl(e,t,n){if(n||(n=Yh),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Le(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Ni,this.position=null,this.positionAlign=su,this.size=0,this.textAlign=qn,this.direction=Vo,this.writingMode=Ho,this.lineInterpretation=lu,this.line=null,this.lineHeight="",this.lineAlign=Ri,this.displayAlign=Oo,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=tf,this.fontStyle=Yl,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={mc:32,rows:15}}function Qh(e,t){return e=new Le(e,t,""),e.lineBreak=!0,e}Le.prototype.clone=function(){var e=new Le(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function Kl(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!zl(e.nestedCues,t.nestedCues,Kl))return!1}else if(n=="region"||n=="cellResolution"){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!zl(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}N("shaka.text.Cue",Le),Le.equal=Kl,Le.prototype.clone=Le.prototype.clone;var su="auto";Le.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:su};var qn="center",Wl={LEFT:"left",RIGHT:"right",CENTER:qn,START:"start",END:"end"};Le.textAlign=Wl;var Oo="after",Jh={BEFORE:"before",CENTER:"center",AFTER:Oo};Le.displayAlign=Jh;var Vo="ltr";Le.direction={HORIZONTAL_LEFT_TO_RIGHT:Vo,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Ho="horizontal-tb";Le.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Ho,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var lu=0;Le.lineInterpretation={LINE_NUMBER:lu,PERCENTAGE:1};var Ri="start",Xl={CENTER:"center",START:Ri,END:"end"};Le.lineAlign=Xl;var Zh={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Le.defaultTextColor=Zh;var ef={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Le.defaultTextBackgroundColor=ef;var tf=400;Le.fontWeight={NORMAL:tf,BOLD:700};var Yl="normal",nf={NORMAL:Yl,ITALIC:"italic",OBLIQUE:"oblique"};Le.fontStyle=nf,Le.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function Ni(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Wt,this.scroll=rf}N("shaka.text.CueRegion",Ni);var Wt=1;Ni.units={PX:0,PERCENTAGE:Wt,LINES:2};var rf="";Ni.scrollMode={NONE:rf,UP:"up"};function hi(){}hi.prototype.destroy=function(){};function Gn(e,t,n){$l[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,Ge:t}}function _i(e,t){for(var n=e.toLowerCase().split(";")[0],i=m([of,Jl,Ql,fi]),r=i.next();!r.done;r=i.next())if(r=$l[n+"-"+r.value]){var o=r.Ge(),a=o.isSupported(e,t);if(o.destroy(),a)return r.Ge}return null}N("shaka.transmuxer.TransmuxerEngine",hi),hi.findTransmuxer=_i,hi.unregisterTransmuxer=function(e,t){delete $l[e.toLowerCase().split(";")[0]+"-"+t]},hi.registerTransmuxer=Gn,hi.prototype.destroy=hi.prototype.destroy;var $l={},fi=1,Ql=2,Jl=3,of=4;hi.PluginPriority={FALLBACK:fi,PREFERRED_SECONDARY:Ql,PREFERRED:Jl,APPLICATION:of};function Zl(){}function Ot(e,t){var n=e;return t&&!Tr.includes(e)&&(n+='; codecs="'+t+'"'),n}function yr(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Er(e,t,n){var i=Ot(e,t);return t=yr(e,t),_i(t)?(e=_i(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?i.replace("video","audio"):i,n}function dn(e){var t=af(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="dvh1":case e==="dvhe":return"dovi"}return e}function xn(e){var t=[];e=m(e.split(","));for(var n=e.next();!n.done;n=e.next())n=af(n.value),t.push(n[0]);return t.sort().join(",")}function zn(e){return e.split(";")[0]}function cn(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function af(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}N("shaka.util.MimeUtils",Zl),Zl.getFullTypeWithAllCodecs=yr,Zl.getFullType=Ot,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var Tr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Kn(e){this.i=null,this.j=e,this.C=!1,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.D="",this.s=new Map}function du(e){return nt[e]?!0:e=="application/cea-608"||e=="application/cea-708"?!!vr:!1}Kn.prototype.destroy=function(){return this.j=this.i=null,this.s.clear(),Promise.resolve()};function kT(e,t,n,i,r){var o,a,u,s;return C(function(l){if(l.g==1)return y(l,Promise.resolve(),2);if(!e.i||!e.j)return l.return();if(n==null||i==null)return e.i.parseInit(ae(t)),l.return();o=e.C?n:e.u,a={periodStart:e.u,segmentStart:n,segmentEnd:i,vttOffset:o},u=e.i.parseMedia(ae(t),a,r),s=u.filter(function(d){return d.startTime>=e.l&&d.startTime<e.m}),e.j.append(s),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(i,e.m),O(l)})}Kn.prototype.remove=function(e,t){var n=this;return C(function(i){if(i.g==1)return y(i,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),O(i)})};function bT(e,t,n){e.l=t,e.m=n}function uf(e,t,n){if(e.D=t,t=e.s.get(t))for(var i=m(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(o){return o.endTime<=n}))&&e.j.append(r)}function sf(e,t,n){t.startTime+=n,t.endTime+=n,t=m(t.nestedCues);for(var i=t.next();!i.done;i=t.next())sf(e,i.value,n)}function DT(e,t,n,i,r){var o=n+" "+i,a=new Map;t=m(t);for(var u=t.next();!u.done;u=t.next()){var s=u.value;u=s.stream,s=s.cue,a.has(u)||a.set(u,new Map),a.get(u).has(o)||a.get(u).set(o,[]),sf(e,s,r),s.startTime>=e.l&&s.startTime<e.m&&(a.get(u).get(o).push(s),u==e.D&&e.j.append([s]))}for(r=m(a.keys()),o=r.next();!o.done;o=r.next())for(o=o.value,e.s.has(o)||e.s.set(o,new Map),t=m(a.get(o).keys()),u=t.next();!u.done;u=t.next())u=u.value,s=a.get(o).get(u),e.s.get(o).set(u,s);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(i,e.m))}N("shaka.text.TextEngine",Kn),Kn.prototype.destroy=Kn.prototype.destroy,Kn.findParser=function(e){return nt[e]},Kn.unregisterParser=function(e){delete nt[e]},Kn.registerParser=function(e,t){nt[e]=t};var nt={};function PT(e,t){return e.concat(t)}function lf(){}function Sr(e){return e!=null}function Ui(e){function t(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||i.buffer&&i.buffer.constructor==ArrayBuffer)return i;if(n.has(i))return null;var r=i.constructor==Array;if(i.constructor!=Object&&!r)return null;n.add(i);var o=r?[]:{},a;for(a in i)o[a]=t(i[a]);return r&&(o.length=i.length),o}}var n=new WeakSet;return t(e)}function df(e){var t={},n;for(n in e)t[n]=e[n];return t}function jo(e){this.h=e,this.g=null}jo.prototype.S=function(e){var t=this;this.stop();var n=!0,i=null;return this.g=function(){D.clearTimeout(i),n=!1},i=D.setTimeout(function(){n&&t.h()},1e3*e),this},jo.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function re(e){this.h=e,this.g=null}re.prototype.Qa=function(){return this.stop(),this.h(),this},re.prototype.S=function(e){var t=this;return this.stop(),this.g=new jo(function(){t.h()}).S(e),this},re.prototype.za=function(e){var t=this;return this.stop(),this.g=new jo(function(){t.g.S(e),t.h()}).S(e),this},re.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},N("shaka.util.Timer",re),re.prototype.stop=re.prototype.stop,re.prototype.tickEvery=re.prototype.za,re.prototype.tickAfter=re.prototype.S,re.prototype.tickNow=re.prototype.Qa;function Cn(){var e=D.ManagedMediaSource||D.MediaSource;return!!(e&&e.isTypeSupported)}function Bo(e){return cf().canPlayType(e)!=""}function ed(){return!!navigator.userAgent.match(/Edge?\//)}function Fo(){return Ue("Xbox One")}function Oi(){return Ue("Tizen")}function cu(){return Ue("Tizen 3")}function pu(){return Ue("Tizen 2")}function td(){return Ue("Web0S")&&Ue("Chrome/38.0.2125.122 Safari/537.36")}function wr(){return Ue("CrKey")}function qo(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Oi()&&!Ue("PC=EOS")&&!Ue("PC=APL")&&!Ue("VirginMedia")&&!Ue("SOPOpenBrowser")&&!Ar()&&!Ue("AFT")&&!Ue("WPE")}function Ar(){return Ue("PlayStation 4")}function xr(){if(!qo())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Ue(e){return(navigator.userAgent||"").includes(e)}function cf(){return Cr||(nd||(nd=new re(function(){Cr=null})),(Cr=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Cr=document.createElement("video")),nd.S(1),Cr)}var nd=null,Cr=null;function pf(){}function hf(e,t,n,i){var r=e.variants;if((t.length||n.length)&&(r=RT(r,t,n)),i.length){for(t=new eu,n=m(r),r=n.next();!r.done;r=n.next())r=r.value,t.push(String(r.video.width||0),r);var o=[];t.forEach(function(g,v){g=0;var E=[],S={};v=m(v);for(var T=v.next();!T.done;S={md:S.md},T=v.next())S.md=T.value,T=i.filter(function(A){return function(w){return A.md.decodingInfos[0][w]}}(S)).length,T>g?(g=T,E=[S.md]):T==g&&E.push(S.md);o.push.apply(o,H(E))}),r=o}n=new Set,t=new Set;var a=m(r);for(r=a.next();!r.done;r=a.next())r=r.value,r.audio&&n.add(r.audio),r.video&&t.add(r.video);n=Array.from(n).sort(function(g,v){return g.bandwidth-v.bandwidth});var u=[];for(r=new Map,n=m(n),a=n.next();!a.done;a=n.next()){a=a.value;var s=a.language+(a.channelsCount||0)+(a.audioSamplingRate||0)+a.roles.join(",")+a.label+a.groupId+a.fastSwitching,l=r.get(s)||[];if(l.length){var d=l[l.length-1],c=dn(d.codecs),f=dn(a.codecs);c==f&&a.bandwidth>d.bandwidth&&(l.push(a),u.push(a.id))}else l.push(a),u.push(a.id);r.set(s,l)}n=Array.from(t).sort(function(g,v){return g.bandwidth&&v.bandwidth?g.bandwidth-v.bandwidth:g.width-v.width}),t=Pi();var h=[];for(r=new Map,n=m(n),a=n.next();!a.done;a=n.next()){if(a=a.value,s=Math.round(a.frameRate||0)+(a.hdr||"")+a.fastSwitching,l=r.get(s)||[],l.length){if(d=l[l.length-1],!t&&(c=dn(d.codecs),f=dn(a.codecs),c!==f))continue;a.width>d.width||a.height>d.height?(l.push(a),h.push(a.id)):a.width==d.width&&a.height==d.height&&(c=dn(d.codecs),f=dn(a.codecs),c==f&&a.bandwidth>d.bandwidth&&(l.push(a),h.push(a.id)))}else l.push(a),h.push(a.id);r.set(s,l)}e.variants=e.variants.filter(function(g){var v=g.audio;return g=g.video,!(v&&!u.includes(v.id)||g&&!h.includes(g.id))})}function RT(e,t,n){var i={};t=m(t);for(var r=t.next();!r.done;i={bf:i.bf},r=t.next())if(i.bf=r.value,r=e.filter(function(o){return function(a){return a.video&&a.video.codecs.startsWith(o.bf)}}(i)),r.length){e=r;break}for(i={},n=m(n),t=n.next();!t.done;i={Se:i.Se},t=n.next())if(i.Se=t.value,t=e.filter(function(o){return function(a){return a.audio&&a.audio.codecs.startsWith(o.Se)}}(i)),t.length){e=t;break}return e}function NT(e,t,n){e.variants=e.variants.filter(function(i){return hu(i,t,n)})}function hu(e,t,n){function i(o,a,u){return o>=a&&o<=u}var r=e.video;return!(r&&r.width&&r.height&&(!i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function ff(e,t,n){var i=!1;e=m(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var o=r.allowedByApplication;r.allowedByApplication=hu(r,t,n),o!=r.allowedByApplication&&(i=!0)}return i}function _T(e,t){return C(function(n){return n.g==1?y(n,mf(e,t,0<t.offlineSessionIds.length),2):(OT(t),y(n,VT(t),0))})}function mf(e,t,n){var i,r,o,a,u;return C(function(s){if(s.g==1)return y(s,yf(t.variants,n,!1,[]),2);i=null,e&&(r=e.g)&&(i=r.keySystem),o=Ze,a=Fo(),u=Ue("Firefox")&&Ue("Android"),t.variants=t.variants.filter(function(l){var d=l.video,c=d&&d.width||0,f=d&&d.height||0;if(a&&d&&(1920<c||1080<f)&&(d.codecs.includes("avc1.")||d.codecs.includes("avc3.")))return ud(l),!1;if(d){if(c=mu(d.codecs),d.codecs.includes(",")){f=d.codecs.split(","),c=pr(o.ia,f),c=mu(c),f=pr(o.U,f),f=fu(f);var h=Er(d.mimeType,f,o.U);if(!Ke(h))return!1;c=[c,f].join()}if(f=Er(d.mimeType,c,o.ia),!Ke(f))return!1;d.codecs=c}if(d=l.audio,u&&d&&d.encrypted&&d.codecs.toLowerCase().includes("opus"))return ud(l),!1;if(d){if(c=fu(d.codecs),f=Er(d.mimeType,c,o.U),!Ke(f))return!1;d.codecs=c}return(d=l.decodingInfos.some(function(g){return!(!g.supported||i&&(g=g.keySystemAccess)&&g.keySystem!=i)}))||(ud(l),void 0),d}),O(s)})}function gf(e){var t=[];for(n in e)t.push(n);t.sort();var n=[];t=m(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=JSON.stringify(r),r=e[r],r instanceof Object?(r=gf(r),n.push(i+":"+r)):(r=JSON.stringify(r),n.push(i+":"+r))}return"{"+n.join(",")+"}"}function vf(e,t){var n,i,r,o,a,u,s;return C(function(l){if(l.g==1)return n=gf(t),i=jT,i[n]?(e.decodingInfos.push(i[n]),l.F(0)):y(l,UT(t),3);if((r=l.h)&&r.length){for(o=null,a=m(r),u=a.next();!u.done;u=a.next())s=u.value,o?(o.supported=o.supported&&s.supported,o.powerEfficient=o.powerEfficient&&s.powerEfficient,o.smooth=o.smooth&&s.smooth,s.keySystemAccess||(o.keySystemAccess=null)):o=s;o&&(i[n]=o,e.decodingInfos.push(o))}O(l)})}function UT(e){var t=[""];e.video&&(t=cn(e.video.contentType).split(","));var n=[""];e.audio&&(n=cn(e.audio.contentType).split(","));var i=[];t=m(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;for(var o={},a=m(n),u=a.next();!u.done;o={ic:o.ic},u=a.next())u=u.value,o.ic=Ui(e),e.video&&(o.ic.video.contentType=Ot(zn(o.ic.video.contentType),r)),e.audio&&(o.ic.audio.contentType=Ot(zn(o.ic.audio.contentType),u)),i.push(new Promise(function(s){return function(l,d){navigator.mediaCapabilities.decodingInfo(s.ic).then(function(c){l(c)}).catch(d)}}(o)))}return Promise.all(i).catch(function(){return JSON.stringify(e),null})}function yf(e,t,n,i){var r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:if(e.some(function(x){return x.decodingInfos.length}))return w.return();r={},o=m(i),a=o.next();case 2:if(a.done){w.F(4);break}r.We=a.value,u=!1,s=m(e),l=s.next();case 5:if(l.done){w.F(7);break}d=l.value,c=Ef(d,t,n).filter(function(x){return function(M){return(M.keySystemConfiguration&&M.keySystemConfiguration.keySystem)===x.We}}(r)),f=m(c),h=f.next();case 8:if(h.done){w.F(10);break}return g=h.value,y(w,vf(d,g),9);case 9:h=f.next(),w.F(8);break;case 10:d.decodingInfos.length&&(u=!0),l=s.next(),w.F(5);break;case 7:if(u)return w.return();r={We:r.We},a=o.next(),w.F(2);break;case 4:v=m(e),l=v.next();case 12:if(l.done){w.F(0);break}E=l.value,S=Ef(E,t,n).filter(function(x){return x=x.keySystemConfiguration&&x.keySystemConfiguration.keySystem,!x||!i.includes(x)}),T=m(S),h=T.next();case 15:if(h.done){l=v.next(),w.F(12);break}return A=h.value,y(w,vf(E,A),16);case 16:h=T.next(),w.F(15)}})}function Ef(e,t,n){var i=e.audio,r=e.video;if(n={type:n?"file":"media-source"},r){var o=r.codecs;if(r.codecs.includes(",")){var a=r.codecs.split(",");o=pr("video",a),o=mu(o),a=pr("audio",a),a=fu(a),a=Er(r.mimeType,a,"audio"),n.audio={contentType:a,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=mu(o),o=Er(r.mimeType,o,"video"),n.video={contentType:o,width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||1},r.hdr)switch(r.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(i&&(o=fu(i.codecs),o=Er(i.mimeType,o,"audio"),n.audio={contentType:o,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio}),a=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!a.length)return[n];e=[],o=new Map,a=m(a);for(var u=a.next();!u.done;u=a.next()){var s=u.value;o.get(s.keySystem)||o.set(s.keySystem,[]),o.get(s.keySystem).push(s)}a=t?"required":"optional",t=t?["persistent-license"]:["temporary"],s=m(o.keys());for(var l=s.next();!l.done;l=s.next()){var d=l.value;l=Object.assign({},n);var c=o.get(d);for(d={keySystem:d,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:t},c=m(c),u=c.next();!u.done;u=c.next()){if(u=u.value,u.initData&&u.initData.length){for(var f=new Set,h=m(u.initData),g=h.next();!g.done;g=h.next())f.add(g.value.initDataType);d.initDataType=u.initData[0].initDataType}u.distinctiveIdentifierRequired&&(d.distinctiveIdentifier="required"),u.persistentStateRequired&&(d.persistentState="required"),u.sessionType&&(d.sessionTypes=[u.sessionType]),i&&(u.audioRobustness!=""?d.audio?d.audio.robustness=d.audio.robustness||u.audioRobustness:d.audio={robustness:u.audioRobustness}:d.audio||(d.audio={})),r&&(u.videoRobustness!=""?d.video?d.video.robustness=d.video.robustness||u.videoRobustness:d.video={robustness:u.videoRobustness}:d.video||(d.video={}))}l.keySystemConfiguration=d,e.push(l)}return e}function fu(e){return e!=="fLaC"||xr()?e==="Opus"?"opus":e:"flac"}function mu(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function OT(e){e.textStreams=e.textStreams.filter(function(t){return t=Ot(t.mimeType,t.codecs),du(t)})}function VT(e){var t,n,i,r,o,a,u;return C(function(s){switch(s.g){case 1:t=[],n=m(e.imageStreams),i=n.next();case 2:if(i.done){s.F(4);break}if(r=i.value,o=r.mimeType,o=="application/mp4"&&r.codecs=="mjpg"&&(o="image/jpg"),yu.has(o)){s.F(5);break}if(a=FT.get(o),!a){yu.set(o,!1),s.F(5);break}return y(s,HT(a),7);case 7:u=s.h,yu.set(o,u);case 5:yu.get(o)&&t.push(r),i=n.next(),s.F(2);break;case 4:e.imageStreams=t,O(s)}})}function HT(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function Ir(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,o=t?t.codecs:null,a=n?n.codecs:null,u=[];a&&u.push(a),o&&u.push(o);var s=[];n&&s.push(n.mimeType),t&&s.push(t.mimeType),s=s[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var d=new Set;if(t)for(var c=m(t.roles),f=c.next();!f.done;f=c.next())d.add(f.value);if(n)for(c=m(n.roles),f=c.next();!f.done;f=c.next())d.add(f.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:s,audioMimeType:i,videoMimeType:r,codecs:u.join(", "),audioCodec:o,videoCodec:a,primary:e.primary,roles:Array.from(d),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.videoLayout=n.videoLayout||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function gu(e){return{id:e.id,active:!1,type:me,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function id(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=e.segmentIndex.get(0));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&t!=null&&(t/=Number(r.split("x")[0])),r&&n!=null&&(n/=Number(r.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:r||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function rd(e){return e.__shaka_id||(e.__shaka_id=BT++),e.__shaka_id}function Tf(e){var t=Sf(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="application/cea-608"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function od(e){var t=Sf(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Sf(e){var t=e.language;return{id:rd(e),active:!1,type:"",bandwidth:0,language:ve(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function vu(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function ad(e){return e.filter(function(t){return vu(t)})}function Go(e,t,n,i){var r=e,o=e.filter(function(s){return s.primary});o.length&&(r=o);var a=r.length?r[0].language:"";if(r=r.filter(function(s){return s.language==a}),t){var u=ou(ve(t),e.map(function(s){return s.language}));u&&(r=e.filter(function(s){return ve(s.language)==u}))}if(r=r.filter(function(s){return s.forced==i}),n){if(e=wf(r,n),e.length)return e}else if(e=r.filter(function(s){return s.roles.length==0}),e.length)return e;return e=r.map(function(s){return s.roles}).reduce(PT,[]),e.length?wf(r,e[0]):r}function wf(e,t){return e.filter(function(n){return n.roles.includes(t)})}function ud(e){var t=[];return e.audio&&t.push(Af(e.audio)),e.video&&t.push(Af(e.video)),t.join(", ")}function Af(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}N("shaka.util.StreamUtils",pf),pf.meetsRestrictions=hu;var jT={},BT=0,yu=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),FT=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function be(){var e=this;this.u=null,this.l=!1,this.i=new No,this.D=null,navigator.connection&&navigator.connection.addEventListener&&(this.D=function(){if(e.l&&e.g.useNetworkInformation){e.i=new No,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.u(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}},navigator.connection.addEventListener("change",this.D)),this.s=[],this.G=1,this.I=!1,this.h=this.m=this.g=this.C=null,this.H=new re(function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.u(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.j=null}p=be.prototype,p.stop=function(){this.u=null,this.l=!1,this.s=[],this.G=1,this.m=this.C=null,this.h&&(this.h.disconnect(),this.h=null),this.H.stop(),this.j=null},p.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.D),this.D=null),this.H=null},p.init=function(e){this.u=e},p.chooseVariant=function(e){e=e===void 0?!1:e;var t=1/0,n=1/0;if(this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:D.devicePixelRatio,t=D.screen.height*n,n*=D.screen.width),this.h&&this.g.restrictToElementSize){var i=this.g.ignoreDevicePixelRatio?1:D.devicePixelRatio;t=Math.min(t,this.m.clientHeight*i),n=Math.min(n,this.m.clientWidth*i)}var r=this.s.filter(function(l){return!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)});if(r.length||(r=this.s),i=r,e&&r.length!=this.s.length&&(i=this.s.filter(function(l){return!!(l.audio&&l.audio.fastSwitching||l.video&&l.video.fastSwitching)})),e=sd(this,this.g.restrictions,i,1/0,1/0),t!=1/0||n!=1/0){for(e=qT(e),e=m(e),r=e.next();!r.done;r=e.next())if(r=r.value,r.height>=t&&r.width>=n){t=r.height,n=r.width;break}e=sd(this,this.g.restrictions,i,t,n)}for(t=this.getBandwidthEstimate(),i.length&&!e.length&&(e=sd(this,null,i,1/0,1/0),e=[e[0]]),n=e[0]||null,i=0;i<e.length;i++){r=e[i];for(var o=isNaN(this.G)?1:Math.abs(this.G),a=o*r.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},s=i+1;s<e.length;s++)if(r.bandwidth!=e[s].bandwidth){u=e[s];break}o=o*u.bandwidth/this.g.bandwidthUpgradeTarget,t>=a&&t<=o&&n.bandwidth!=r.bandwidth&&(n=r)}return this.C=Date.now(),n},p.enable=function(){this.l=!0},p.disable=function(){this.l=!1},p.segmentDownloaded=function(e,t,n){this.i.sample(e,t),n&&this.C!=null&&this.l&&xf(this)},p.trySuggestStreams=function(){this.C!=null&&this.l&&xf(this)},p.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e=this.i.getBandwidthEstimate(e),this.j?this.j.getBandwidthEstimate(e):e},p.setVariants=function(e){this.s=e},p.playbackRateChanged=function(e){this.G=e},p.setMediaElement=function(e){var t=this;this.m=e,this.h&&(this.h.disconnect(),this.h=null),this.m&&"ResizeObserver"in D&&(this.h=new ResizeObserver(function(){t.H.S(GT)}),this.h.observe(this.m))},p.setCmsdManager=function(e){this.j=e},p.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)};function xf(e){if(e.I){if(Date.now()-e.C<1e3*e.g.switchInterval)return}else{var t=e.i;if(!(t.g>=t.i))return;e.I=!0}t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.u(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}function sd(e,t,n,i,r){if(e.j){var o=e.j.Ug();o&&(n=n.filter(function(a){return a.bandwidth&&o?a.bandwidth<=o:!0}))}return t&&(n=n.filter(function(a){return hu(a,t,{width:r,height:i})})),n.sort(function(a,u){return a.bandwidth-u.bandwidth})}function qT(e){var t=[];e=m(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(i,r){return i.width-r.width})}N("shaka.abr.SimpleAbrManager",be),be.prototype.configure=be.prototype.configure,be.prototype.setCmsdManager=be.prototype.setCmsdManager,be.prototype.setMediaElement=be.prototype.setMediaElement,be.prototype.playbackRateChanged=be.prototype.playbackRateChanged,be.prototype.setVariants=be.prototype.setVariants,be.prototype.getBandwidthEstimate=be.prototype.getBandwidthEstimate,be.prototype.trySuggestStreams=be.prototype.trySuggestStreams,be.prototype.segmentDownloaded=be.prototype.segmentDownloaded,be.prototype.disable=be.prototype.disable,be.prototype.enable=be.prototype.enable,be.prototype.chooseVariant=be.prototype.chooseVariant,be.prototype.init=be.prototype.init,be.prototype.release=be.prototype.release,be.prototype.stop=be.prototype.stop;var GT=1;function ld(e,t){this.g=e,this.h=t}ld.prototype.toString=function(){return"v"+this.g+"."+this.h};function pn(e,t){var n=new ld(5,0),i=Cf,r=i.g,o=n.h-r.h;(0<(n.g-r.g||o)?i.i:i.h)(i.g,n,e,t)}function zT(e,t,n,i){pe([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function KT(e,t,n,i){di([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(" "))}var Cf=null;N("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),N("shaka.config.CodecSwitchingStrategy",{Zj:"reload",Eh:"smooth"});function Eu(e,t,n,i){for(n=n===void 0?!0:n,i=i===void 0?!1:i,this.h=e,this.g=new Set([e]),t=t||[],e=m(t),t=e.next();!t.done;t=e.next())this.add(t.value,n,i)}Eu.prototype.add=function(e,t,n){return If(this.h,e,t===void 0?!0:t,n===void 0?!1:n)?(this.g.add(e),!0):!1};function If(e,t,n,i){var r;if(!(r=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(r=e.audio&&t.audio)){r=e.audio;var o=t.audio;r=!!((!r.channelsCount||!o.channelsCount||2<r.channelsCount||2<o.channelsCount)&&r.channelsCount!=o.channelsCount||n&&!Mf(r,o)||!Lf(r.roles,o.roles)||i&&r.groupId!==o.groupId)}return!(i=r)&&(i=e.video&&t.video)&&(e=e.video,t=t.video,i=!((!n||Mf(e,t))&&Lf(e.roles,t.roles))),!i}Eu.prototype.values=function(){return this.g.values()};function Mf(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(i){return xn(i)}),t=t.codecs.split(",").map(function(i){return xn(i)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Lf(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=m(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function kf(e,t,n){t=t===void 0?"reload":t,n=n===void 0?!1:n,this.i=e,this.h=t,this.g=n,this.j=new Mr(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"",!1,"","","",t,n)}kf.prototype.create=function(e){var t=this,n=this.h=="smooth"&&Pi(),i=e.filter(function(r){return If(t.i,r,!n,t.g)});return i.length?new Eu(i[0],i,!n,this.g):this.j.create(e)};function Mr(e,t,n,i,r,o,a,u,s,l){this.u=e,this.C=t,this.h=n,this.i=i,this.D=r,this.l=o,this.g=a===void 0?"":a,this.j=u===void 0?"":u,this.m=s===void 0?"reload":s,this.s=l===void 0?!1:l}Mr.prototype.create=function(e){var t=[];t=WT(e,this.u);var n=e.filter(function(i){return i.primary});return t=t.length?t:n.length?n:e,e=XT(t,this.C),e.length&&(t=e),this.l&&(e=ZT(t,this.l),e.length&&(t=e)),this.i&&(e=JT(t,this.i),e.length&&(t=e)),this.h&&(e=QT(t,this.h),e.length&&(t=e)),this.g&&(e=YT(t,this.g),e.length&&(t=e)),this.j&&(e=$T(t,this.j),e.length&&(t=e)),e=eS(t,this.D),e.length&&(t=e),new Eu(t[0],t,!(this.m=="smooth"&&Pi()),this.s)};function WT(e,t){t=ve(t);var n=ou(t,e.map(function(i){return jl(i)}));return n?e.filter(function(i){return n==jl(i)}):[]}function XT(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function YT(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function $T(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function QT(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount!=t)})}function JT(e,t){return t=="AUTO"&&(t=D.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function ZT(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function eS(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function tS(){this.g=Tu,this.h=new Map().set(Tu,2).set(Lr,1)}function bf(e,t,n){e.h.set(Tu,n).set(Lr,t)}var Lr=0,Tu=1;function Df(e,t){var n=Un();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.s=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function Pf(e){var t,n;return C(function(i){if(i.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new I(2,7,1010);return t=e.g,e.g++,t==0?i.return():(n=e.h*(1+(2*Math.random()-1)*e.s),y(i,new Promise(function(r){new re(r).S(n/1e3)}),2))}e.h*=e.m,O(i)})}function Un(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function De(){var e,t,n=new Promise(function(i,r){e=i,t=r});return n.resolve=e,n.reject=t,n}De.prototype.resolve=function(){},De.prototype.reject=function(){};function je(e,t){this.promise=e,this.i=t,this.g=!1}function Vi(e){return new je(Promise.reject(e),function(){return Promise.resolve()})}function dd(){var e=Promise.reject(new I(2,7,7001));return e.catch(function(){}),new je(e,function(){return Promise.resolve()})}function kr(e){return new je(Promise.resolve(e),function(){return Promise.resolve()})}function Rf(e){return new je(e,function(){return e.catch(function(){})})}je.prototype.abort=function(){return this.g=!0,this.i()};function Nf(e){return new je(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}je.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},je.prototype.Fa=function(e,t){function n(u){return function(s){if(r.g&&u)o.reject(a);else{var l=u?e:t;l?i=nS(l,s,o):(u?o.resolve:o.reject)(s)}}}function i(){return o.reject(a),r.abort()}var r=this,o=new De,a=new I(2,7,7001);return this.promise.then(n(!0),n(!1)),new je(o,function(){return i()})};function nS(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}N("shaka.util.AbortableOperation",je),je.prototype.chain=je.prototype.Fa,je.prototype.finally=je.prototype.finally,je.all=Nf,je.prototype.abort=je.prototype.abort,je.notAbortable=Rf,je.completed=kr,je.aborted=dd,je.failed=Vi;function br(){this.g=[]}function Hi(e,t){e.g.push(t.finally(function(){An(e.g,t)}))}br.prototype.destroy=function(){for(var e=[],t=m(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function ke(e,t,n,i,r){fe.call(this),this.i=!1,this.m=new br,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.u=n||null,this.C=i||null,this.D=r||null,this.s=!1}se(ke,fe),p=ke.prototype,p.mg=function(e){this.s=e};function Wn(e,t,n,i){n=n||Vf;var r=wu[e];(!r||n>=r.priority)&&(wu[e]={priority:n,Ge:t,$i:i===void 0?!1:i})}p.aj=function(e){this.g.add(e)},p.uj=function(e){this.g.delete(e)},p.Lh=function(){this.g.clear()},p.bj=function(e){this.h.add(e)},p.vj=function(e){this.h.delete(e)},p.Mh=function(){this.h.clear()};function it(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}p.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),fe.prototype.release.call(this),this.m.destroy()},p.request=function(e,t,n){var i=this,r=new Of;if(this.i){var o=Promise.reject(new I(2,7,7001));return o.catch(function(){}),new Su(o,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Ui(t.retryParameters):Un(),t.uris=Ui(t.uris),o=iS(this,e,t,n);var a=o.Fa(function(){return _f(i,e,t,n,new Df(t.retryParameters,!1),0,null,r)}),u=a.Fa(function(f){return rS(i,e,f,n)}),s=Date.now(),l=0;o.promise.then(function(){l=Date.now()-s},function(){});var d=0;a.promise.then(function(){d=Date.now()},function(){});var c=u.Fa(function(f){var h=Date.now()-d,g=f.response;return g.timeMs+=l,g.timeMs+=h,f.Gi||!i.l||g.fromCache||t.method=="HEAD"||e!=In||i.l(g.timeMs,g.data.byteLength,Uf(n)),g},function(f){throw f&&(f.severity=2),f});return o=new Su(c.promise,function(){return c.abort()},r),Hi(this.m,o),o};function iS(e,t,n,i){function r(u){o=o.Fa(function(){return n.body&&(n.body=Kt(n.body)),u(t,n,i)})}var o=kr(void 0);e.C&&r(e.C),e=m(e.g);for(var a=e.next();!a.done;a=e.next())r(a.value);return o.Fa(void 0,function(u){throw u instanceof I&&u.code==7001?u:new I(2,1,1006,u)})}function _f(e,t,n,i,r,o,a,u){e.s&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.D&&e.D(t,i,n.uris[o],n.uris[o-1]);var s=new Fe(n.uris[o]),l=s.wb,d=!1;l||(l=location.protocol,l=l.slice(0,-1),tu(s,l),n.uris[o]=s.toString()),l=l.toLowerCase();var c=(l=wu[l])?l.Ge:null;if(!c)return Vi(new I(2,1,1e3,s));var f=l.$i,h=null,g=null,v=!1,E=!1,S;return Rf(Pf(r)).Fa(function(){if(e.i)return dd();S=Date.now();var T=c(n.uris[o],n,t,function(x,M,b){h&&h.stop(),g&&g.S(w/1e3),e.l&&t==In&&(e.l(x,M,Uf(i)),d=!0,u.g=b)},function(x){e.j&&e.j(x,n,t),E=!0});if(!f)return T;var A=n.retryParameters.connectionTimeout;A&&(h=new re(function(){v=!0,T.abort()}),h.S(A/1e3));var w=n.retryParameters.stallTimeout;return w&&(g=new re(function(){v=!0,T.abort()})),T}).Fa(function(T){h&&h.stop(),g&&g.stop(),T.timeMs==null&&(T.timeMs=Date.now()-S);var A={response:T,Gi:d};return!E&&e.j&&e.j(T.headers,n,t),A},function(T){if(h&&h.stop(),g&&g.stop(),e.u){var A=null,w=0;T instanceof I&&(A=T,T.code==1001&&(w=T.data[1])),e.u(n,A,w,v)}if(e.i)return dd();if(v&&(T=new I(1,1,1003,n.uris[o],t)),T instanceof I){if(T.code==7001)throw T;if(T.code==1010)throw a;if(T.severity==1)return A=new Map().set("error",T),A=new B("retry",A),e.dispatchEvent(A),o=(o+1)%n.uris.length,_f(e,t,n,i,r,o,T,u)}throw T})}function rS(e,t,n,i){var r=kr(void 0),o={};e=m(e.h);for(var a=e.next();!a.done;o={Ye:o.Ye},a=e.next())o.Ye=a.value,r=r.Fa(function(u){return function(){var s=n.response;return s.data&&(s.data=Kt(s.data)),u.Ye(t,s,i)}}(o));return r.Fa(function(){return n},function(u){var s=2;if(u instanceof I){if(u.code==7001)throw u;s=u.severity}throw new I(s,1,1007,u)})}function Uf(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.Fd)return!1}return!0}N("shaka.net.NetworkingEngine",ke),ke.prototype.request=ke.prototype.request,ke.prototype.destroy=ke.prototype.destroy,ke.makeRequest=it,ke.defaultRetryParameters=function(){return Un()},ke.prototype.clearAllResponseFilters=ke.prototype.Mh,ke.prototype.unregisterResponseFilter=ke.prototype.vj,ke.prototype.registerResponseFilter=ke.prototype.bj,ke.prototype.clearAllRequestFilters=ke.prototype.Lh,ke.prototype.unregisterRequestFilter=ke.prototype.uj,ke.prototype.registerRequestFilter=ke.prototype.aj,ke.unregisterScheme=function(e){delete wu[e]},ke.registerScheme=Wn,ke.prototype.setForceHTTPS=ke.prototype.mg;function Of(){this.g=0}ke.NumBytesRemainingClass=Of;function Su(e,t,n){je.call(this,e,t),this.h=n}se(Su,je),ke.PendingRequest=Su;var In=1;ke.RequestType={MANIFEST:0,SEGMENT:In,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},ke.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5};var Vf=3;ke.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Vf};var wu={};function Dr(e){this.g=!1,this.h=new De,this.i=e}Dr.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function we(e,t){if(e.g)throw t instanceof I&&t.code==7003?t:new I(2,7,7003,t)}function Ce(){this.g=new eu}p=Ce.prototype,p.release=function(){this.ub(),this.g=null},p.o=function(e,t,n,i){this.g&&(e=new Hf(e,t,n,i),this.g.push(t,e))},p.na=function(e,t,n,i){function r(a){o.hc(e,t,r),n(a)}var o=this;this.o(e,t,r,i)},p.hc=function(e,t,n){if(this.g){var i=this.g.get(t)||[];i=m(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.hc(),this.g.remove(t,r))}},p.ub=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,H(e.g[n]));for(e=m(t),t=e.next();!t.done;t=e.next())t.value.hc();this.g.g={}}},N("shaka.util.EventManager",Ce),Ce.prototype.removeAll=Ce.prototype.ub,Ce.prototype.unlisten=Ce.prototype.hc,Ce.prototype.listenOnce=Ce.prototype.na,Ce.prototype.listen=Ce.prototype.o,Ce.prototype.release=Ce.prototype.release;function Hf(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=oS(e,i),this.target.addEventListener(t,n,this.g)}Hf.prototype.hc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function oS(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(i){return!n.has(i)}),aS(e)?t:t.capture||!1}function aS(e){var t=jf;if(t==null){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch{t=!1}jf=t}return t||!1}var jf=void 0;function Pr(e){this.h=e,this.g=void 0}Pr.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function zo(e){for(var t=new Map,n=m(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function cd(e){var t={};return e.forEach(function(n,i){t[i]=n}),t}function ji(){}function Pe(e){if(!e)return"";if(e=ae(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),D.TextDecoder&&!Ar())return e=new TextDecoder().decode(e),e.includes("�")&&di('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(i=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(i=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(i=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):i=e[n],65535>=i)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+r)}}return t}function Xn(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new I(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=bt(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return hd.value()(i)}function mi(e){function t(i){return n.byteLength<=i||32<=n[i]&&126>=n[i]}if(!e)return"";var n=ae(e);if(n[0]==239&&n[1]==187&&n[2]==191)return Pe(n);if(n[0]==254&&n[1]==255)return Xn(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return Xn(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return Xn(e,!1);if(n[1]==0&&n[3]==0)return Xn(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Pe(e);throw new I(2,2,2003)}function Yn(e){if(D.TextEncoder&&!Ar()){var t=new TextEncoder;return Kt(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return Kt(t)}function pd(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}N("shaka.util.StringUtils",ji),ji.resetFromCharCode=function(){hd.g=void 0},ji.toUTF16=pd,ji.toUTF8=Yn,ji.fromBytesAutoDetect=mi,ji.fromUTF16=Xn,ji.fromUTF8=Pe;var hd=new Pr(function(){function e(n){try{var i=new Uint8Array(n);return 0<String.fromCharCode.apply(null,i).length}catch{return!1}}for(var t={Wb:65536};0<t.Wb;t={Wb:t.Wb},t.Wb/=2)if(e(t.Wb))return function(n){return function(i){for(var r="",o=0;o<i.length;o+=n.Wb)r+=String.fromCharCode.apply(null,i.subarray(o,o+n.Wb));return r}}(t);return null});function Ae(e,t){this.h=bt(e),this.i=t==Bf,this.g=0}p=Ae.prototype,p.xa=function(){return this.g<this.h.byteLength},p.Ga=function(){return this.g},p.getLength=function(){return this.h.byteLength},p.ra=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw $n()}},p.Ua=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw $n()}},p.O=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw $n()}},p.ih=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw $n()}},p.Uc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw $n()}if(2097151<t)throw new I(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},p.Sb=function(e){if(this.g+e>this.h.byteLength)throw $n();var t=ae(this.h,this.g,e);return this.g+=e,t},p.skip=function(e){if(this.g+e>this.h.byteLength)throw $n();this.g+=e},p.jj=function(e){if(this.g<e)throw $n();this.g-=e},p.seek=function(e){if(0>e||e>this.h.byteLength)throw $n();this.g=e},p.Hd=function(){for(var e=this.g;this.xa()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=ae(this.h,e,this.g-e),this.g+=1,Pe(e)};function $n(){return new I(2,3,3e3)}N("shaka.util.DataViewReader",Ae),Ae.prototype.readTerminatedString=Ae.prototype.Hd,Ae.prototype.seek=Ae.prototype.seek,Ae.prototype.rewind=Ae.prototype.jj,Ae.prototype.skip=Ae.prototype.skip,Ae.prototype.readBytes=Ae.prototype.Sb,Ae.prototype.readUint64=Ae.prototype.Uc,Ae.prototype.readInt32=Ae.prototype.ih,Ae.prototype.readUint32=Ae.prototype.O,Ae.prototype.readUint16=Ae.prototype.Ua,Ae.prototype.readUint8=Ae.prototype.ra,Ae.prototype.getLength=Ae.prototype.getLength,Ae.prototype.getPosition=Ae.prototype.Ga,Ae.prototype.hasMoreData=Ae.prototype.xa;var Bf=1;Ae.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Bf};function Ie(){this.i=[],this.h=[],this.g=!1}p=Ie.prototype,p.box=function(e,t){return e=Ff(e),this.i[e]=uS,this.h[e]=t,this},p.T=function(e,t){return e=Ff(e),this.i[e]=qf,this.h[e]=t,this},p.stop=function(){this.g=!0},p.parse=function(e,t,n){for(e=new Ae(e,0),this.g=!1;e.xa()&&!this.g;)this.Ed(0,e,t,n)},p.Ed=function(e,t,n,i){var r=t.Ga();if(i&&r+8>t.getLength())this.g=!0;else{var o=t.O(),a=t.O(),u=xu(a),s=!1;switch(o){case 0:o=t.getLength()-r;break;case 1:if(i&&t.Ga()+8>t.getLength()){this.g=!0;return}o=t.Uc(),s=!0}var l=this.h[a];if(l){var d=null,c=null;if(this.i[a]==qf){if(i&&t.Ga()+4>t.getLength()){this.g=!0;return}c=t.O(),d=c>>>24,c&=16777215}a=r+o,n&&a>t.getLength()&&(a=t.getLength()),i&&a>t.getLength()?this.g=!0:(i=a-t.Ga(),t=0<i?t.Sb(i):new Uint8Array(0),t=new Ae(t,0),l({name:u,parser:this,partialOkay:n||!1,version:d,flags:c,reader:t,size:o,start:r+e,has64BitSize:s}))}else t.skip(Math.min(r+o-t.Ga(),t.getLength()-t.Ga()))}};function Te(e){for(var t=Ko(e);e.reader.xa()&&!e.parser.g;)e.parser.Ed(e.start+t,e.reader,e.partialOkay)}function Rr(e){for(var t=Ko(e),n=e.reader.O(),i=0;i<n&&(e.parser.Ed(e.start+t,e.reader,e.partialOkay),!e.parser.g);i++);}function Au(e){var t=Ko(e);for(e.reader.skip(78);e.reader.xa()&&!e.parser.g;)e.parser.Ed(e.start+t,e.reader,e.partialOkay)}function Bi(e){return function(t){e(t.reader.Sb(t.reader.getLength()-t.reader.Ga()))}}function Ff(e){var t=0;e=m(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function xu(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Ko(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}N("shaka.util.Mp4Parser",Ie),Ie.headerSize=Ko,Ie.typeToString=xu,Ie.allData=Bi,Ie.visualSampleEntry=Au,Ie.sampleDescription=Rr,Ie.children=Te,Ie.prototype.parseNext=Ie.prototype.Ed,Ie.prototype.parse=Ie.prototype.parse,Ie.prototype.stop=Ie.prototype.stop,Ie.prototype.fullBox=Ie.prototype.T,Ie.prototype.box=Ie.prototype.box;var uS=0,qf=1;function vt(){}function Gf(e){return e=ae(e),e=hd.value()(e),btoa(e)}function Fi(e,t){return t=t??!0,e=Gf(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function hn(e){e=D.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function qi(e){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=D.parseInt(e.substr(2*i,2),16);return n}function Nr(e){var t=ae(e);e="",t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function Ve(){for(var e=Ge.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var i=n=0;i<e.length;++i){var r=e[i];r instanceof Uint8Array?t.set(r,n):t.set(ae(r),n),n+=r.byteLength}return t}N("shaka.util.Uint8ArrayUtils",vt),vt.concat=Ve,vt.toHex=Nr,vt.fromHex=qi,vt.fromBase64=hn,vt.toBase64=Fi,vt.toStandardBase64=Gf;function zf(e){var t=this;this.g=[],this.h=[],this.data=[],new Ie().box("moov",Te).box("moof",Te).T("pssh",function(n){if(!(1<n.version)){var i=ae(n.reader.h,-12,n.size);if(t.data.push(i),t.g.push(Nr(n.reader.Sb(16))),0<n.version){i=n.reader.O();for(var r=0;r<i;r++){var o=Nr(n.reader.Sb(16));t.h.push(o)}}}}).parse(e)}function Cu(e,t,n,i){var r=e.length,o=t.length+16+r;0<i&&(o+=4+16*n.size);var a=new Uint8Array(o),u=bt(a),s=0;if(u.setUint32(s,o),s+=4,u.setUint32(s,1886614376),s+=4,1>i?u.setUint32(s,0):u.setUint32(s,16777216),s+=4,a.set(t,s),s+=t.length,0<i)for(u.setUint32(s,n.size),s+=4,t=m(n),n=t.next();!n.done;n=t.next())n=qi(n.value),a.set(n,s),s+=n.length;return u.setUint32(s,r),a.set(e,s+4),a}function fn(e,t){return e=Re(e,t),e.length!=1?null:e[0]}function Qn(e,t,n){return e=Kf(e,t,n),e.length!=1?null:e[0]}function Re(e,t){var n=[];e=m(e.childNodes);for(var i=e.next();!i.done;i=e.next())i=i.value,i instanceof Element&&i.tagName==t&&n.push(i);return n}function sS(e){return Array.from(e.childNodes).filter(function(t){return t instanceof Element})}function Kf(e,t,n){var i=[];e=m(e.childNodes);for(var r=e.next();!r.done;r=e.next())r=r.value,r instanceof Element&&r.localName==n&&r.namespaceURI==t&&i.push(r);return i}function Gi(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function On(e,t,n){t=m(t);for(var i=t.next();!i.done;i=t.next())if(i=i.value,e.hasAttributeNS(i,n))return e.getAttributeNS(i,n);return null}function zi(e){return Array.from(e.childNodes).every(fd)?e.textContent.trim():null}function fd(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function he(e,t,n,i){i=i===void 0?null:i;var r=null;return e=e.getAttribute(t),e!=null&&(r=n(e)),r??i}function Wf(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Jn(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Iu(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function Mu(e){return e=Number(e),e%1===0?e:null}function Zn(e){return e=Number(e),e%1===0&&0<e?e:null}function xt(e){return e=Number(e),e%1===0&&0<=e?e:null}function Wo(e){return e=Number(e),isNaN(e)?null:e}function md(e){return e?e.toLowerCase()==="true":!1}function lS(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function _r(e,t){var n=new DOMParser,i=dS.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function gd(e,t){try{var n=mi(e);return _r(n,t)}catch{return null}}var dS=new Pr(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Lu(e,t){var n=this;t=t===void 0?1:t,this.G=e,this.J=new Set,this.m=this.u=null,this.ha=this.$=!1,this.K=0,this.g=null,this.D=new Ce,this.i=new Map,this.C=new Map,this.l=new De,this.h=null,this.s=function(i){i.severity==2&&n.l.reject(i),e.onError(i)},this.V=new Map,this.aa=new Map,this.W=new re(function(){return SS(n)}),this.M=!1,this.L=[],this.N=!1,this.Aa=new re(function(){xS(n)}).za(t),this.l.catch(function(){}),this.j=new Dr(function(){return cS(n)}),this.Z=!1,this.H=this.I=null}p=Lu.prototype,p.destroy=function(){return this.j.destroy()};function cS(e){return C(function(t){switch(t.g){case 1:return e.D.release(),e.D=null,e.l.reject(),e.Aa.stop(),e.Aa=null,e.W.stop(),e.W=null,y(t,rm(e),2);case 2:if(!e.m){t.F(3);break}return $(t,4),y(t,e.m.setMediaKeys(null),6);case 6:oe(t,5);break;case 4:Q(t);case 5:e.m=null;case 3:e.g=null,e.J.clear(),e.u=null,e.C=new Map,e.h=null,e.s=function(){},e.G=null,e.Z=!1,e.I=null,O(t)}})}p.configure=function(e){this.h=e};function pS(e,t,n){return e.ha=!0,e.C=new Map,e.M=n,Yf(e,t)}function Xf(e,t,n){e.C=new Map,n=m(n);for(var i=n.next();!i.done;i=n.next())e.C.set(i.value,{initData:null,initDataType:null});for(n=m(e.h.persistentSessionsMetadata),i=n.next();!i.done;i=n.next())i=i.value,e.C.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.M=0<e.C.size,Yf(e,t)}function hS(e,t,n,i,r,o){var a=new Map;return r={audioCapabilities:r,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},r.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,serverCertificateUri:"",initData:null,keyIds:null}],a.set(t,r),em(e,a,[])}function Yf(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T;return C(function(A){if(A.g==1){if(n=ES(e))for(i=m(t),r=i.next();!r.done;r=i.next())o=r.value,o.video&&(o.video.drmInfos=[n]),o.audio&&(o.audio.drmInfos=[n]);for(a=t.some(function(w){return!!(w.video&&w.video.drmInfos.length||w.audio&&w.audio.drmInfos.length)}),a||(u=zo(e.h.servers),IS(t,u)),s=new Set,l=m(t),r=l.next();!r.done;r=l.next())for(d=r.value,c=am(d),f=m(c),h=f.next();!h.done;h=f.next())g=h.value,s.add(g);for(v=m(s),h=v.next();!h.done;h=v.next())E=h.value,MS(E,zo(e.h.servers),zo(e.h.advanced||{}),e.h.keySystemsMapping);return y(A,yf(t,e.M,e.Z,e.h.preferredKeySystems),2)}return S=a||Object.keys(e.h.servers).length,S?(T=em(e,void 0,t),A.return(a?T:T.catch(function(){}))):(e.$=!0,A.return(Promise.resolve()))})}function $f(e){var t;return C(function(n){switch(n.g){case 1:if(e.m.mediaKeys)return n.return();if(!e.I){n.F(2);break}return y(n,e.I,3);case 3:return we(e.j),n.return();case 2:return $(n,4),e.I=e.m.setMediaKeys(e.u),y(n,e.I,6);case 6:oe(n,5);break;case 4:t=Q(n),e.s(new I(2,6,6003,t.message));case 5:we(e.j),O(n)}})}function fS(e,t){return C(function(n){if(n.g==1)return y(n,$f(e),2);Xo(e,t.initDataType,ae(t.initData)),O(n)})}p.Gc=function(e){var t=this;return C(function(n){if(n.g==1)return t.u?(t.m=e,t.D.na(t.m,"play",function(){for(var i=m(t.L),r=i.next();!r.done;r=i.next())yd(t,r.value);t.N=!0,t.L=[]}),"webkitCurrentPlaybackTargetIsWireless"in t.m&&t.D.o(t.m,"webkitcurrentplaybacktargetiswirelesschanged",function(){return rm(t)}),t.H=t.g&&t.g.initData.find(function(i){return 0<i.initData.length})||null,t.H||t.g.keySystem!=="com.apple.fps"||t.C.size?y(n,$f(t),2):n.F(2)):(t.D.na(e,"encrypted",function(){t.s(new I(2,6,6010))}),n.return());Qf(t).catch(function(){}),t.H||t.C.size||t.h.parseInbandPsshEnabled||t.D.o(t.m,"encrypted",function(i){return fS(t,i)}),O(n)})};function mS(e){var t,n,i,r,o;return C(function(a){switch(a.g){case 1:if(!e.u||!e.g)return a.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){a.F(2);break}return t=it([e.g.serverCertificateUri],e.h.retryParameters),$(a,3),n=e.G.zc.request(5,t),y(a,n.promise,5);case 5:i=a.h,e.g.serverCertificate=ae(i.data),oe(a,4);break;case 3:throw r=Q(a),new I(2,6,6017,r);case 4:if(e.j.g)return a.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?a.return():($(a,6),y(a,e.u.setServerCertificate(e.g.serverCertificate),8));case 8:oe(a,0);break;case 6:throw o=Q(a),new I(2,6,6004,o.message)}})}function gS(e,t){var n,i,r;return C(function(o){if(o.g==1)return y(o,nm(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(i=[],(r=e.i.get(n))&&(r.Db=new De,i.push(r.Db)),i.push(n.remove()),y(o,Promise.all(i),3)):o.return();e.i.delete(n),O(o)})}function Qf(e){var t,n,i,r,o;return C(function(a){if(a.g==1)return e.C.size?(e.C.forEach(function(u,s){nm(e,s,u)}),y(a,e.l,3)):a.F(2);if(a.g!=2){if(t=e.g&&e.g.keyIds||new Set([]),0<t.size&&CS(e))return a.return(e.l);e.l=new De,e.l.catch(function(){})}for(n=(e.g?e.g.initData:[])||[],i=m(n),r=i.next();!r.done;r=i.next())o=r.value,Xo(e,o.initDataType,o.initData);return n.length||e.l.resolve(),a.return(e.l)})}function Xo(e,t,n){if(n.length){var i=e.i.values();i=m(i);for(var r=i.next();!r.done;r=i.next())if(pi(n,r.value.initData)&&e.h.ignoreDuplicateInitData)return;0<e.i.size&&Td(e)&&(e.l.resolve(),e.l=new De,e.l.catch(function(){})),TS(e,t,n,e.g.sessionType)}}function Jf(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function Zf(e){return e=e.i.keys(),e=Ol(e,function(t){return t.sessionId}),Array.from(e)}p.Ff=function(){var e=this,t=this.i.keys();return t=Ol(t,function(n){var i=e.i.get(n);return{sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType}}),Array.from(t)},p.td=function(){var e=1/0,t=this.i.keys();t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},p.ge=function(){return cd(this.aa)};function em(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S;return C(function(T){switch(T.g){case 1:if(i=new Map,n.length){r=vS(e,n,i),T.F(2);break}return y(T,yS(e,t),3);case 3:r=T.h;case 2:if(o=r,!o)throw new I(2,6,6001);for(we(e.j),$(T,4),e.J.clear(),a=o.getConfiguration(),u=a.audioCapabilities||[],s=a.videoCapabilities||[],l=m(u),d=l.next();!d.done;d=l.next())c=d.value,e.J.add(c.contentType.toLowerCase());for(f=m(s),d=f.next();!d.done;d=f.next())h=d.value,e.J.add(h.contentType.toLowerCase());if(n.length){var A=o.keySystem,w=i.get(o.keySystem),x=[],M=[],b=[],L=[],k=new Set;um(w,x,b,M,L,k);var R=e.M?"persistent-license":"temporary";for(A={keySystem:A,licenseServerUri:x[0],distinctiveIdentifierRequired:w[0].distinctiveIdentifierRequired,persistentStateRequired:w[0].persistentStateRequired,sessionType:w[0].sessionType||R,audioRobustness:w[0].audioRobustness||"",videoRobustness:w[0].videoRobustness||"",serverCertificate:b[0],serverCertificateUri:M[0],initData:L,keyIds:k},w=m(w),x=w.next();!x.done;x=w.next())x=x.value,x.distinctiveIdentifierRequired&&(A.distinctiveIdentifierRequired=x.distinctiveIdentifierRequired),x.persistentStateRequired&&(A.persistentStateRequired=x.persistentStateRequired);w=A}else w=o.keySystem,A=t.get(o.keySystem),x=[],M=[],b=[],L=[],k=new Set,um(A.drmInfos,x,b,M,L,k),w={keySystem:w,licenseServerUri:x[0],distinctiveIdentifierRequired:A.distinctiveIdentifier=="required",persistentStateRequired:A.persistentState=="required",sessionType:A.sessionTypes[0]||"temporary",audioRobustness:(A.audioCapabilities?A.audioCapabilities[0].robustness:"")||"",videoRobustness:(A.videoCapabilities?A.videoCapabilities[0].robustness:"")||"",serverCertificate:b[0],serverCertificateUri:M[0],initData:L,keyIds:k};if(e.g=w,!e.g.licenseServerUri)throw new I(2,6,6012,e.g.keySystem);return y(T,o.createMediaKeys(),6);case 6:if(g=T.h,we(e.j),e.u=g,!(e.h.minHdcpVersion!=""&&"getStatusForPolicy"in e.u)){T.F(7);break}return $(T,8),y(T,e.u.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if(v=T.h,v!="usable")throw new I(2,6,6018);we(e.j),oe(T,7,4);break;case 8:throw E=Q(T,4),E instanceof I?E:new I(2,6,6019,E.message);case 7:return e.$=!0,y(T,mS(e),11);case 11:we(e.j),oe(T,0);break;case 4:throw S=Q(T),we(e.j,S),e.g=null,e.J.clear(),S instanceof I?S:new I(2,6,6002,S.message)}})}function vS(e,t,n){for(var i=m(t),r=i.next();!r.done;r=i.next()){var o=m(am(r.value));for(r=o.next();!r.done;r=o.next())r=r.value,n.has(r.keySystem)||n.set(r.keySystem,[]),n.get(r.keySystem).push(r)}if(n.size==1&&n.has(""))throw new I(2,6,6e3);for(i={},e=m(e.h.preferredKeySystems),r=e.next();!r.done;i={Xe:i.Xe},r=e.next())for(i.Xe=r.value,o=m(t),r=o.next();!r.done;r=o.next())if(r=r.value.decodingInfos.find(function(l){return function(d){return d.supported&&d.keySystemAccess!=null&&d.keySystemAccess.keySystem==l.Xe}}(i)))return r.keySystemAccess;for(e=m([!0,!1]),r=e.next();!r.done;r=e.next())for(i=r.value,o=m(t),r=o.next();!r.done;r=o.next()){var a=m(r.value.decodingInfos);for(r=a.next();!r.done;r=a.next()){var u=r.value;if(u.supported&&u.keySystemAccess){r=n.get(u.keySystemAccess.keySystem);var s=m(r);for(r=s.next();!r.done;r=s.next())if(!!r.value.licenseServerUri==i)return u.keySystemAccess}}}return null}function yS(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g,v,E;return C(function(S){switch(S.g){case 1:if(t.size==1&&t.has(""))throw new I(2,6,6e3);for(i=m(t.values()),r=i.next();!r.done;r=i.next())o=r.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;a=m(e.h.preferredKeySystems),u=a.next();case 2:if(u.done){S.F(4);break}if(s=u.value,!t.has(s)){S.F(3);break}return l=t.get(s),$(S,6),y(S,navigator.requestMediaKeySystemAccess(s,[l]),8);case 8:return n=S.h,S.return(n);case 6:Q(S);case 7:we(e.j);case 3:u=a.next(),S.F(2);break;case 4:d=m([!0,!1]),c=d.next();case 9:if(c.done){S.F(11);break}f=c.value,h=m(t.keys()),u=h.next();case 12:if(u.done){c=d.next(),S.F(9);break}if(g=u.value,v=t.get(g),E=v.drmInfos.some(function(T){return!!T.licenseServerUri}),E!=f){S.F(13);break}return $(S,15),y(S,navigator.requestMediaKeySystemAccess(g,[v]),17);case 17:return n=S.h,S.return(n);case 15:Q(S);case 16:we(e.j);case 13:u=h.next(),S.F(12);break;case 11:return S.return(n)}})}function ES(e){if(e=zo(e.h.clearKeys),e.size==0)return null;var t=[],n=[];e.forEach(function(r,o){var a=o;a.length!=22&&(a=Fi(qi(o),!1)),o=r,o.length!=22&&(o=Fi(qi(r),!1)),r={kty:"oct",kid:a,k:o},t.push(r),n.push(r.kid)}),e=JSON.stringify({keys:t});var i=JSON.stringify({kids:n});return i=[{initData:ae(Yn(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+D.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(n)}}function vd(e){Td(e)&&e.l.resolve()}function tm(e,t){new re(function(){t.loaded=!0,vd(e)}).S(kS)}function nm(e,t,n){var i,r,o,a,u,s,l;return C(function(d){switch(d.g){case 1:try{i=e.u.createSession("persistent-license")}catch(c){return r=new I(2,6,6005,c.message),e.s(r),d.return(Promise.reject(r))}return e.D.o(i,"message",function(c){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.N?e.L.push(c):yd(e,c)}),e.D.o(i,"keystatuseschange",function(c){return im(e,c)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Yf:1/0,Db:null,type:"persistent-license"},e.i.set(i,o),$(d,2),y(d,i.load(t),4);case 4:return a=d.h,we(e.j),a||(e.i.delete(i),u=e.h.persistentSessionOnlinePlayback?1:2,e.s(new I(u,6,6013)),o.loaded=!0),tm(e,o),vd(e),d.return(i);case 2:s=Q(d),we(e.j,s),e.i.delete(i),l=e.h.persistentSessionOnlinePlayback?1:2,e.s(new I(l,6,6005,s.message)),o.loaded=!0,vd(e);case 3:return d.return(Promise.resolve())}})}function TS(e,t,n,i){try{var r=e.u.createSession(i)}catch(o){e.s(new I(2,6,6005,o.message));return}e.D.o(r,"message",function(o){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.N?e.L.push(o):yd(e,o)}),e.D.o(r,"keystatuseschange",function(o){return im(e,o)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Yf:1/0,Db:null,type:i});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){t=o,o instanceof I||(t=new I(2,6,6016,o)),e.s(t);return}e.h.logLicenseExchange&&Fi(n),r.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(r);var a=o.errorCode;if(a&&a.systemCode){var u=a.systemCode;0>u&&(u+=Math.pow(2,32)),u="0x"+u.toString(16)}e.s(new I(2,6,6006,o.message,o,u))}})}function yd(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g;C(function(v){switch(v.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Fi(t.message),i=e.i.get(n),r=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(r=o.individualizationServer),a=it([r],e.h.retryParameters),a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,a.sessionId=n.sessionId,a.drmInfo=e.g,i&&(a.initData=i.initData,a.initDataType=i.initDataType),Jf(e.g.keySystem)){var E=Xn(a.body,!0,!0);if(E.includes("PlayReadyKeyMessage")){E=_r(E,"PlayReadyKeyMessage");for(var S=m(E.getElementsByTagName("HttpHeader")),T=S.next();!T.done;T=S.next())T=T.value,a.headers[T.getElementsByTagName("name")[0].textContent]=T.getElementsByTagName("value")[0].textContent;a.body=hn(E.getElementsByTagName("Challenge")[0].textContent)}else a.headers["Content-Type"]="text/xml; charset=utf-8"}return u=Date.now(),$(v,2),l=e.G.zc.request(2,a),y(v,l.promise,4);case 4:s=v.h,oe(v,3);break;case 2:return d=Q(v),c=new I(2,6,6007,d),e.s(c),i&&i.Db&&i.Db.reject(c),v.return();case 3:return e.j.g?v.return():(e.K+=(Date.now()-u)/1e3,e.h.logLicenseExchange&&Fi(s.data),$(v,5),y(v,n.update(s.data),7));case 7:oe(v,6);break;case 5:return f=Q(v),h=new I(2,6,6008,f.message),e.s(h),i&&i.Db&&i.Db.reject(h),v.return();case 6:if(e.j.g)return v.return();g=new B("drmsessionupdate"),e.G.onEvent(g),i&&(i.Db&&i.Db.resolve(),tm(e,i)),O(v)}})}function im(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(o,a){if(typeof a=="string"){var u=a;a=o,o=u}if(Jf(e.g.keySystem)&&a.byteLength==16&&(ed()||Ar())){u=bt(a);var s=u.getUint32(0,!0),l=u.getUint16(4,!0),d=u.getUint16(6,!0);u.setUint32(0,s,!1),u.setUint16(4,l,!1),u.setUint16(6,d,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(i=!0),a=Nr(a).slice(0,32),e.V.set(a,o)});var r=t.expiration-Date.now();(0>r||i&&1e3>r)&&n&&!n.Db&&(e.i.delete(t),t.close().catch(function(){})),Td(e)&&(e.l.resolve(),e.W.S(bS))}function SS(e){var t=e.V,n=e.aa;n.clear(),t.forEach(function(i,r){return n.set(r,i)}),t=Array.from(n.values()),t.length&&t.every(function(i){return i=="expired"})&&e.s(new I(2,6,6014)),e.G.Fe(cd(n))}function wS(){var e,t,n,i,r,o,a,u;return C(function(s){return s.g==1?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={initDataTypes:["cenc"],videoCapabilities:t},i={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},r=[i,n],o=new Map,a=function(l){var d,c,f;return C(function(h){switch(h.g){case 1:if($(h,2),l==="org.w3.clearkey"&&xr())throw Error("Unsupported keySystem");return y(h,navigator.requestMediaKeySystemAccess(l,r),4);case 4:return d=h.h,f=(c=d.getConfiguration().sessionTypes)?c.includes("persistent-license"):!1,cu()&&(f=!1),o.set(l,{persistentState:f}),y(h,d.createMediaKeys(),5);case 5:oe(h,0);break;case 2:Q(h),o.set(l,null),O(h)}})},u=e.map(function(l){return a(l)}),y(s,Promise.all(u),2)):s.return(cd(o))})}function AS(e){var t;return C(function(n){if(n.g==1)return t=new Promise(function(i,r){new re(r).S(LS)}),$(n,2),y(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return oe(n,0);Q(n),O(n)})}function rm(e){var t;return C(function(n){return t=Array.from(e.i.entries()),e.i.clear(),y(n,Promise.all(t.map(function(i){i=m(i);var r=i.next().value,o=i.next().value;return C(function(a){if(a.g==1)return $(a,2),e.ha||e.C.has(r.sessionId)||o.type!=="persistent-license"||e.h.persistentSessionOnlinePlayback?y(a,AS(r),5):y(a,r.remove(),5);if(a.g!=2)return oe(a,0);Q(a),O(a)})})),0)})}function om(e,t){return e.length&&t.length&&e!==t?0<Ed(e,t).length:!0}function Ed(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=m(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r=m(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.keySystem==o.keySystem){r=new Map;for(var a=m((i.initData||[]).concat(o.initData||[])),u=a.next();!u.done;u=a.next())u=u.value,r.set(u.keyId,u);r=Array.from(r.values()),a=i.keyIds&&o.keyIds?new Set([].concat(H(i.keyIds),H(o.keyIds))):i.keyIds||o.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,serverCertificateUri:i.serverCertificateUri||o.serverCertificateUri,initData:r,keyIds:a});break}}return n}function am(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function xS(e){e.i.forEach(function(t,n){var i=t.Yf,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.G.onExpirationUpdated(n.sessionId,r),t.Yf=r)})}function Td(e){return e=e.i.values(),TT(e,function(t){return t.loaded})}function CS(e){for(var t=m(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.V.get(n.value)!=="usable")return!1;return!0}function IS(e,t){var n=[];for(t.forEach(function(i,r){n.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=m(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function um(e,t,n,i,r,o){var a={};e=m(e);for(var u=e.next();!u.done;a={Va:a.Va},u=e.next()){if(a.Va=u.value,t.includes(a.Va.licenseServerUri)||t.push(a.Va.licenseServerUri),i.includes(a.Va.serverCertificateUri)||i.push(a.Va.serverCertificateUri),a.Va.serverCertificate&&(n.some(function(d){return function(c){return pi(c,d.Va.serverCertificate)}}(a))||n.push(a.Va.serverCertificate)),a.Va.initData){u={};for(var s=m(a.Va.initData),l=s.next();!l.done;u={Sd:u.Sd},l=s.next())u.Sd=l.value,r.some(function(d){return function(c){var f=d.Sd;return c.keyId&&c.keyId==f.keyId?!0:c.initDataType==f.initDataType&&pi(c.initData,f.initData)}}(u))||r.push(u.Sd)}if(a.Va.keyIds)for(u=m(a.Va.keyIds),s=u.next();!s.done;s=u.next())o.add(s.value)}}function MS(e,t,n,i){var r=e.keySystem;r&&(r!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(r)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(r))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),i[r]&&(e.keySystem=i[r]),D.cast&&D.cast.__platform__&&r=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var LS=1,kS=5,bS=.5,ku=new Pr(function(){return Kt(new Uint8Array([0]))});function Yo(){}function sm(e,t){if(t){var n=mn[t.toLowerCase()];if(n)return n}throw new I(2,4,4e3,e,t)}N("shaka.media.ManifestParser",Yo),Yo.unregisterParserByMime=function(e){delete mn[e]},Yo.registerParserByMime=function(e,t){mn[e]=t},Yo.registerParserByExtension=function(){pn("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Yo.AccessibilityPurpose={tk:"visually impaired",Mj:"hard of hearing"};var mn={};function DS(e){function t(){i=!0}function n(l){o.push(l),Te(l)}e=ae(e);var i=!1,r,o=[],a=[];if(new Ie().box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).T("stsd",function(l){r=l,o.push(l),Rr(l)}).T("encv",t).T("enca",t).T("dvav",function(l){a.push({box:l,cb:1701733238})}).T("dva1",function(l){a.push({box:l,cb:1701733238})}).T("dvh1",function(l){a.push({box:l,cb:1701733238})}).T("dvhe",function(l){a.push({box:l,cb:1701733238})}).T("hev1",function(l){a.push({box:l,cb:1701733238})}).T("hvc1",function(l){a.push({box:l,cb:1701733238})}).T("avc1",function(l){a.push({box:l,cb:1701733238})}).T("avc3",function(l){a.push({box:l,cb:1701733238})}).T("ac-3",function(l){a.push({box:l,cb:1701733217})}).T("ec-3",function(l){a.push({box:l,cb:1701733217})}).T("ac-4",function(l){a.push({box:l,cb:1701733217})}).T("mp4a",function(l){a.push({box:l,cb:1701733217})}).parse(e),i)return e;if(a.length==0||!r)throw Nr(e),new I(2,3,3019);a.reverse();for(var u=m(a),s=u.next();!s.done;s=u.next())s=s.value,e=PS(e,r,s.box,o,s.cb);return e}function PS(e,t,n,i,r){var o=RS.value(),a=e.subarray(n.start,n.start+n.size),u=bt(a),s=new Uint8Array(n.size+o.byteLength);for(s.set(a,0),a=bt(s),a.setUint32(4,r),s.set(o,n.size),r=u.getUint32(4),a.setUint32(n.size+16,r),lm(s,0,s.byteLength),r=new Uint8Array(e.byteLength+s.byteLength),n=Fo()?n.start:n.start+n.size,o=e.subarray(n),r.set(e.subarray(0,n)),r.set(s,n),r.set(o,n+s.byteLength),e=m(i),i=e.next();!i.done;i=e.next())i=i.value,lm(r,i.start,i.size+s.byteLength);return s=bt(r,t.start),t=Ko(t),e=s.getUint32(t),s.setUint32(t,e+1),r}function lm(e,t,n){e=bt(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var RS=new Pr(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Xt(e,t,n,i,r,o,a){this.ba=e,this.hb=t,this.Na=n,this.Uf=i===void 0?null:i,this.timescale=r===void 0?null:r,this.g=o===void 0?null:o,this.aes128Key=a===void 0?null:a,this.mimeType=this.codecs=null}Xt.prototype.Pb=function(){return this.hb},Xt.prototype.Mb=function(){return this.Na};function dm(e,t){return e===t?!0:e&&t?e.Pb()==t.Pb()&&e.Mb()==t.Mb()&&zl(e.ba().sort(),t.ba().sort())&&pi(e.g,t.g):e==t}N("shaka.media.InitSegmentReference",Xt),Xt.prototype.getEndByte=Xt.prototype.Mb,Xt.prototype.getStartByte=Xt.prototype.Pb;function J(e,t,n,i,r,o,a,u,s,l,d,c,f,h,g,v){for(l=l===void 0?[]:l,h=h===void 0?gi:h,this.startTime=e,this.h=this.endTime=t,this.D=n,this.hb=i,this.Na=r,this.ka=o,this.timestampOffset=a,this.appendWindowStart=u,this.appendWindowEnd=s,this.g=l,this.tilesLayout=d===void 0?"":d,this.C=c===void 0?null:c,this.oa=f===void 0?null:f,this.status=h,this.l=!1,this.j=!0,this.m=!1,this.aes128Key=g===void 0?null:g,this.u=null,this.i=0,this.s=v===void 0?!1:v,this.ue=this.Fd=!1,e=m(this.g),t=e.next();!t.done;t=e.next())t.value.eh();this.s&&this.g.length&&this.g[this.g.length-1].dh(),this.mimeType=this.codecs=null}p=J.prototype,p.ba=function(){return this.D()},p.getStartTime=function(){return this.startTime},p.di=function(){return this.endTime},p.Pb=function(){return this.hb},p.Mb=function(){return this.Na},p.Bi=function(){return this.tilesLayout},p.Ai=function(){return this.C},p.sc=function(){return this.status},p.Ti=function(){this.status=cm},p.Tf=function(){this.l=!0},p.Ni=function(){return this.l},p.xe=function(){this.j=!1},p.Ki=function(){return this.j},p.eh=function(){this.Fd=!0},p.Mi=function(){return this.Fd},p.dh=function(){this.ue=!0},p.Li=function(){return this.ue},p.bh=function(){this.m=!0},p.Hi=function(){return this.m},p.rh=function(e){this.u=e},p.zi=function(){return this.u},p.offset=function(e){this.startTime+=e,this.endTime+=e,this.h+=e;for(var t=m(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.h+=e},p.sg=function(e){this.oa==null?di("Sync attempted without sync time!"):(e=this.oa-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},N("shaka.media.SegmentReference",J),J.prototype.syncAgainst=J.prototype.sg,J.prototype.offset=J.prototype.offset,J.prototype.getThumbnailSprite=J.prototype.zi,J.prototype.setThumbnailSprite=J.prototype.rh,J.prototype.hasByterangeOptimization=J.prototype.Hi,J.prototype.markAsByterangeOptimization=J.prototype.bh,J.prototype.isLastPartial=J.prototype.Li,J.prototype.markAsLastPartial=J.prototype.dh,J.prototype.isPartial=J.prototype.Mi,J.prototype.markAsPartial=J.prototype.eh,J.prototype.isIndependent=J.prototype.Ki,J.prototype.markAsNonIndependent=J.prototype.xe,J.prototype.isPreload=J.prototype.Ni,J.prototype.markAsPreload=J.prototype.Tf,J.prototype.markAsUnavailable=J.prototype.Ti,J.prototype.getStatus=J.prototype.sc,J.prototype.getTileDuration=J.prototype.Ai,J.prototype.getTilesLayout=J.prototype.Bi,J.prototype.getEndByte=J.prototype.Mb,J.prototype.getStartByte=J.prototype.Pb,J.prototype.getEndTime=J.prototype.di,J.prototype.getStartTime=J.prototype.getStartTime,J.prototype.getUris=J.prototype.ba;var gi=0,cm=1;J.Status={zj:gi,qk:cm,Sj:2};function Sd(e){return!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function wd(e,t){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1)?!1:t>=e.start(0)}function pm(e,t){if(!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0))return 0;var n=0;e=m(vi(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.start,r=r.end,r>t&&(n+=r-Math.max(i,t))}return n}function NS(e,t,n){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)?null:(e=vi(e).findIndex(function(i,r,o){return i.start>t&&(r==0||o[r-1].end-t<=n)}),0<=e?e:null)}function vi(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Ad(){}function hm(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function fm(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function xd(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function _S(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var i=Pe(ae(e.data,1,n)),r=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var a=Pe(ae(e.data,3+n,o)),u;return i==="-->"?u=Pe(ae(e.data,4+n+o)):u=Kt(e.data.subarray(4+n+o)),t.mimeType=i,t.pictureType=r,t.description=a,t.data=u,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=Pe(ae(e.data,1,i)),e=Pe(ae(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(i=e.data.subarray(1).indexOf(0),i===-1)?null:(n=Pe(ae(e.data,1,i)),e=Pe(ae(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=Pe(ae(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=Kt(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=Pe(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=Pe(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Kt(e.data),t):null}function Ki(e){for(var t=0,n=[];hm(e,t);){var i=xd(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,i=t+i;t+10<i;){var r=e.subarray(t),o=xd(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:o,data:r.subarray(10,10+o)},(o=_S(r))&&n.push(o),t+=r.size+10}fm(e,t)&&(t+=10)}return n}function $o(e,t){for(var n=t=t===void 0?0:t,i=0;hm(e,t);)e[t+5]>>6&1&&(i+=10),i+=10,i+=xd(e,t+6),fm(e,t+10)&&(i+=10),t+=i;return 0<i?e.subarray(n,n+i):new Uint8Array([])}N("shaka.util.Id3Utils",Ad),Ad.getID3Data=$o,Ad.getID3Frames=Ki;function mm(e,t){var n=null,i=null,r=null,o=e.O();return t&1&&(r=e.Uc()),t&2&&e.skip(4),t&8&&(n=e.O()),t&16&&(i=e.O()),{trackId:o,Og:n,Qh:i,wk:r}}function Cd(e,t){return t==1?(t=e.O(),e=e.O(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.O()}}function bu(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.O(),e.skip(4),e=e.Ua(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function gm(e,t,n){var i=e.O(),r=[],o=null;n&1&&(o=e.O()),n&4&&e.skip(4);for(var a=0;a<i;a++){var u={gg:null,sampleSize:null,Ke:null};n&256&&(u.gg=e.O()),n&512&&(u.sampleSize=e.O()),n&1024&&e.skip(4),n&2048&&(u.Ke=t==0?e.O():e.ih()),r.push(u)}return{Ak:i,lh:r,Ph:o}}function vm(e,t){t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4));var n=e.O();return t==1?e.skip(8):e.skip(4),e.skip(4),e.skip(8),e.skip(2),e.skip(2),e.skip(2),e.skip(2),e.skip(36),t=e.Ua()+e.Ua()/16,e=e.Ua()+e.Ua()/16,{trackId:n,width:t,height:e}}function US(e){for(var t="mp4a",n,i;e.xa();){n=e.ra();for(var r=e.ra();r&128;)r=e.ra();if(n==3)e.Ua(),r=e.ra(),r&128&&e.Ua(),r&64&&e.skip(e.ra()),r&32&&e.Ua();else if(n==4)i=e.ra(),e.skip(12);else if(n==5)break}return i&&(t+="."+this.g(i),n==5&&e.xa()&&(n=e.ra(),i=(n&248)>>3,i===31&&e.xa()&&(i=32+((n&7)<<3)+((e.ra()&224)>>5)),t+="."+i)),{wa:t}}function ym(e,t){return e.skip(87),{wa:t+"."+this.g(e.ra())+this.g(e.ra())+this.g(e.ra())}}function Em(e){return e=e.O(),{wa:xu(e)}}function ei(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,i=0;i<e.byteLength;i++)2<=i&&e[i]==3&&e[i-1]==0&&e[i-2]==0||(t[n]=e[i],n++);this.j=ae(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Id(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),i=Math.min(4,e.i);i!==0&&(n.set(e.j.subarray(t,t+i)),e.h=new Ae(n,0).O(),e.g=8*i,e.i-=i)}function Dt(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Id(e)}e.h<<=t,e.g-=t}function de(e,t){var n=Math.min(e.g,t),i=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Id(e),n=t-n,0<n?i<<n|de(e,n):i}function Md(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Id(e),t+Md(e)}function Ct(e){Dt(e,1+Md(e))}function V(e){var t=Md(e);return de(e,t+1)-1}function Ur(e){return e=V(e),1&e?1+e>>>1:-1*(e>>>1)}function G(e){return de(e,1)===1}function ge(e){return de(e,8)}function Du(e,t){for(var n=8,i=8,r=0;r<t;r++)i!==0&&(i=Ur(e),i=(n+i+256)%256),n=i===0?n:i}function OS(e){return ge(e),V(e),V(e)}N("shaka.util.ExpGolomb",ei);function Me(){this.D=null,this.G=!1,this.m=this.H=null,this.j=[],this.g=[],this.s=this.u=null,this.i=[],this.h=[],this.C=null,this.l=[]}p=Me.prototype,p.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},p.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,bd(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(e[r]==71){var o=!!(e[r+1]&64),a=((e[r+1]&31)<<8)+e[r+2];if(1<(e[r+3]&48)>>4){var u=r+5+e[r+4];if(u==r+188)continue}else u=r+4;switch(a){case 0:o&&(u+=e[u]+1),this.D=(e[u+10]&31)<<8|e[u+11];break;case 17:case 8191:break;case this.D:o&&(u+=e[u]+1),o=e,a={audio:-1,video:-1,pe:-1,audioCodec:"",videoCodec:""};var s=u+3+((o[u+1]&15)<<8|o[u+2])-4;for(u+=12+((o[u+10]&15)<<8|o[u+11]);u<s;){var l=(o[u+1]&31)<<8|o[u+2],d=(o[u+3]&15)<<8|o[u+4];switch(o[u]){case 6:if(a.audio==-1&&0<d)for(var c=u+5,f=d;2<f;){switch(o[c]){case 106:a.audio=l,a.audioCodec="ac3";break;case 122:a.audio=l,a.audioCodec="ec3"}var h=o[c+1]+2;c+=h,f-=h}break;case 15:a.audio==-1&&(a.audio=l,a.audioCodec="aac");break;case 21:a.pe==-1&&(a.pe=l);break;case 27:a.video==-1&&(a.video=l,a.videoCodec="avc");break;case 3:case 4:a.audio==-1&&(a.audio=l,a.audioCodec="mp3");break;case 36:a.video==-1&&(a.video=l,a.videoCodec="hvc");break;case 129:a.audio==-1&&(a.audio=l,a.audioCodec="ac3");break;case 132:case 135:a.audio==-1&&(a.audio=l,a.audioCodec="ec3")}u+=d+5}o=a,o.video!=-1&&(this.H=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.u=o.audio,this.s=o.audioCodec),o.pe!=-1&&(this.C=o.pe),i&&!this.G&&(i=!1,r=t-188),this.G=!0;break;case this.H:u=e.subarray(u,r+188),o?this.j.push([u]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(u);break;case this.u:u=e.subarray(u,r+188),o?this.i.push([u]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(u);break;case this.C:u=e.subarray(u,r+188),o?this.l.push([u]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(u);break;default:i=!0}}return this};function Ld(e){if((e[0]<<16|e[1]<<8|e[2])!==1)return null;var t={data:new Uint8Array(0),packetLength:e[4]<<8|e[5],pts:null,dts:null,nalus:[]};if(t.packetLength&&t.packetLength>e.byteLength-6)return null;var n=e[7];return n&192&&(t.pts=536870912*(e[9]&14)+4194304*(e[10]&255)+16384*(e[11]&254)+128*(e[12]&255)+(e[13]&254)/2,t.dts=t.pts,n&64&&(t.dts=536870912*(e[14]&14)+4194304*(e[15]&255)+16384*(e[16]&254)+128*(e[17]&255)+(e[18]&254)/2)),n=e[8]+9,e.byteLength<=n?null:(t.data=e.subarray(n),t)}p.Zi=function(e){return pn("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.ag(e)},p.ag=function(e,t,n){var i=e.pts?e.pts/9e4:null;e=e.data;var r=e.byteLength,o=1;this.m=="hvc"&&(o=2);for(var a=n||0,u=[],s=-1,l=0,d,c=0;c<r;++c){var f=e[c];if(f){if(2<=a&&f==1){if(t&&!u.length&&s==-1&&(f=c-(3<a?3:a),n&&f!=0&&(f=e.subarray(0,f),t.data=Ve(t.data,f),t.fullData=Ve(t.fullData,f))),0<=s?(a=c-((3<a?3:a)+1),u.push({data:e.subarray(s+o,a+1),fullData:e.subarray(s,a+1),type:l,time:i})):t&&!u.length&&(s=c-a,0<s&&(s=e.subarray(0,s),t.data=Ve(t.data,s),t.fullData=Ve(t.fullData,s))),c>=r-o)return u;c++,s=c,l=this.m=="hvc"?e[c]>>1&63:e[c]&31}a=0}else a++;c>=r-1&&0<=s&&0<=a&&(d={data:e.subarray(s+o,r),fullData:e.subarray(s,r),type:l,time:i})}return d&&u.push(d),!u.length&&t&&(t.data=Ve(t.data,e),t.fullData=Ve(t.fullData,e)),u},p.getMetadata=function(){for(var e=[],t=m(this.l),n=t.next();!n.done;n=t.next())n=Ve.apply(vt,H(n.value)),(n=Ld(n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ki(n.data),dts:n.dts,pts:n.pts});return e},p.qc=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=m(this.i),n=t.next();!n.done;n=t.next()){var i=Ve.apply(vt,H(n.value)),r=Ld(i);n=this.h.length?this.h[this.h.length-1]:null,r&&r.pts!=null&&r.dts!=null&&(!n||n.pts!=r.pts&&n.dts!=r.dts)?(this.h.length&&r.dts<(n.dts||0)&&(e=!0),this.h.push(r)):this.h.length&&(i=r?r.data:i)&&(n=this.h.pop(),n.data=Ve(n.data,i),this.h.push(n))}e&&(this.h=this.h.sort(function(o,a){var u=(o.pts||0)-(a.pts||0);return(o.dts||0)-(a.dts||0)||u}))}return this.h},p.Oc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=m(this.j),i=n.next();!i.done;i=n.next()){var r=Ve.apply(vt,H(i.value)),o=Ld(r);i=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!i||i.pts!=o.pts&&i.dts!=o.dts)?(this.g.length&&o.dts<(i.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(r=o?o.data:r)&&(i=this.g.pop(),i.data=Ve(i.data,r),this.g.push(i))}if(e){var a;for(n=m(this.g),i=n.next();!i.done;i=n.next())i=i.value,i.nalus=this.ag(i,a,void 0),i.nalus.length&&(a=i.nalus[i.nalus.length-1]);this.g=this.g.filter(function(u){return u.nalus.length})}t&&(this.g=this.g.sort(function(u,s){var l=(u.pts||0)-(s.pts||0);return(u.dts||0)-(s.dts||0)||l}))}return e?this.g:(e=this.g,this.g=[],e)},p.getStartTime=function(e){if(e=="audio"){e=null;var t=this.qc();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.Oc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},p.sd=function(){return{audio:this.s,video:this.m}},p.le=function(){for(var e=[],t=m(this.Oc()),n=t.next();!n.done;n=t.next())e.push.apply(e,H(n.value.nalus));return e},p.Ei=function(){pn("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Lf();return{height:e.height,width:e.width}},p.Lf=function(){return this.m=="hvc"?HS(this):VS(this)};function VS(e){var t={height:null,width:null,wa:null};if(e=e.le(),!e.length||(e=e.find(function(f){return f.type==7}),!e))return t;e=new ei(e.data);var n=ge(e),i=ge(e),r=ge(e);if(Ct(e),jS.includes(n)){var o=V(e);if(o===3&&Dt(e,1),Ct(e),Ct(e),Dt(e,1),G(e)){o=o!==3?8:12;for(var a=0;a<o;a++)G(e)&&(6>a?Du(e,16):Du(e,64))}}if(Ct(e),o=V(e),o===0)V(e);else if(o===1)for(Dt(e,1),Ct(e),Ct(e),o=V(e),a=0;a<o;a++)Ct(e);Ct(e),Dt(e,1),o=V(e),a=V(e);var u=de(e,1);u===0&&Dt(e,1),Dt(e,1);var s=0,l=0,d=0,c=0;return G(e)&&(s=V(e),l=V(e),d=V(e),c=V(e)),t.height=String((2-u)*(a+1)*16-2*d-2*c),t.width=String(16*(o+1)-2*s-2*l),t.wa="avc1."+("0"+n.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2),t}function HS(e){var t={height:null,width:null,wa:null};if(e=e.le(),!e.length||(e=e.find(function(w){return w.type==33}),!e))return t;var n=new ei(e.fullData,!0);ge(n),ge(n),de(n,4);var i=de(n,3);G(n);var r=de(n,2),o=de(n,1),a=de(n,5),u=de(n,32);e=ge(n);for(var s=ge(n),l=ge(n),d=ge(n),c=ge(n),f=ge(n),h=ge(n),g=[],v=[],E=0;E<i;E++)g.push(G(n)),v.push(G(n));if(0<i)for(E=i;8>E;E++)de(n,2);for(E=0;E<i;E++)g[E]&&de(n,88),v[E]&&ge(n);V(n),i=V(n),i==3&&de(n,1),g=V(n),v=V(n);var S=E=0,T=0,A=0;return G(n)&&(E+=V(n),S+=V(n),T+=V(n),A+=V(n)),t.width=String(g-(E+S)*(i===1||i===2?2:1)),t.height=String(v-(T+A)*(i===1?2:1)),n=function(w){for(var x=0,M=0;32>M;M++)x|=(w>>M&1)<<31-M;return x>>>0}(u),o=o==1?"H":"L",r="hvc1"+("."+["","A","B","C"][r]+a),r+="."+n.toString(16).toUpperCase(),r+="."+o+h,f&&(r+="."+f.toString(16).toUpperCase()),c&&(r+="."+c.toString(16).toUpperCase()),d&&(r+="."+d.toString(16).toUpperCase()),l&&(r+="."+l.toString(16).toUpperCase()),s&&(r+="."+s.toString(16).toUpperCase()),e&&(r+="."+e.toString(16).toUpperCase()),t.wa=r,t}function kd(e){return!(0>bd(e))}function bd(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}N("shaka.util.TsParser",Me),Me.syncOffset=bd,Me.probe=kd,Me.prototype.getVideoInfo=Me.prototype.Lf,Me.prototype.getVideoResolution=Me.prototype.Ei,Me.prototype.getVideoNalus=Me.prototype.le,Me.prototype.getCodecs=Me.prototype.sd,Me.prototype.getStartTime=Me.prototype.getStartTime,Me.prototype.getVideoData=Me.prototype.Oc,Me.prototype.getAudioData=Me.prototype.qc,Me.prototype.getMetadata=Me.prototype.getMetadata,Me.prototype.parseNalus=Me.prototype.ag,Me.prototype.parseAvcNalus=Me.prototype.Zi,Me.prototype.parse=Me.prototype.parse,Me.prototype.clearData=Me.prototype.clearData,Me.Timescale=9e4;var jS=[100,110,122,244,44,83,86,118,128,138,139,134];function Qo(e,t,n){this.g=null,this.s=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if(typeof libDPIModule>"u"&&pe("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,pn("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{pe("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(pe("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||pe(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Tm(e){e.g&&e.i.classList.add("shaka-hidden")}Qo.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Sm(e,t,n){var i=BS,r=KS;switch(t.mimeType){case"video/webm":i=FS;break;case"video/mp4":i=qS}switch(n){case"DASH":r=zS;break;case"HLS":r=GS}e.g&&(e.s=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(i),e.j||e.g.setStreamingFormat(r))}N("shaka.lcevc.Dec",Qo),Qo.prototype.release=Qo.prototype.release;var BS=0,FS=1,qS=2,GS=0,zS=1,KS=-1;function wm(e,t,n,i){var r=this;this.i=e,this.G=null,this.H=t,this.g={},this.I={},this.ha={},this.h=null,this.Z=!1,this.ua=n||function(){},this.N=i||null,this.j={},this.u=new Ce,this.m={},this.J=null,this.L=new De,this.M="",this.$=!1,this.l=Am(this,this.L),this.D=!1,this.K=new Dr(function(){return WS(r)}),this.C=!1,this.W="UNKNOWN",this.Aa=this.sa=!1,this.va=new De,this.s=!1,this.aa=!0,this.V=null}function Am(e,t){if(D.ManagedMediaSource){e.i.disableRemotePlayback=!0;var n=new ManagedMediaSource;return e.u.o(n,"startstreaming",function(){e.aa=!0}),e.u.o(n,"endstreaming",function(){e.aa=!1}),e.u.na(n,"sourceopen",function(){URL.revokeObjectURL(e.M),t.resolve()}),e.u.na(e.i,"playing",function(){e.$=!0}),e.M=Ou(n),e.i.src=e.M,n}return n=new MediaSource,e.u.na(n,"sourceopen",function(){URL.revokeObjectURL(e.M),t.resolve()}),e.u.na(e.i,"playing",function(){e.$=!0}),e.M=Ou(n),e.i.src=e.M,n}p=wm.prototype,p.destroy=function(){return this.K.destroy()};function WS(e){var t,n,i,r,o,a,u,s;return C(function(l){if(l.g==1){t=[];for(n in e.j)for(i=e.j[n],r=i[0],e.j[n]=i.slice(0,1),r&&t.push(r.p.catch(lf)),o=m(i.slice(1)),a=o.next();!a.done;a=o.next())u=a.value,u.p.reject(new I(2,7,7003,void 0));e.h&&t.push(e.h.destroy()),e.H&&t.push(e.H.destroy());for(s in e.m)t.push(e.m[s].destroy());return y(l,Promise.all(t),2)}e.u&&(e.u.release(),e.u=null),e.i&&(e.i.removeAttribute("src"),e.i.load(),e.i=null),e.G=null,e.l=null,e.h=null,e.H=null,e.g={},e.m={},e.J=null,e.j={},e.N=null,O(l)})}p.init=function(e,t,n,i){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,i=i===void 0?!1:i;var r=this,o,a,u,s,l;return C(function(d){if(d.g==1)return o=Ze,y(d,r.L,2);for(r.C=t,r.W=n,r.sa=i,r.Aa=!r.C&&r.W=="HLS"&&!r.sa,a=m(e.keys()),u=a.next();!u.done;u=a.next())s=u.value,l=e.get(s),Pu(r,s,l,l.codecs),r.s?(r.j[o.U]=[],r.j[o.ia]=[]):r.j[s]=[];O(d)})};function Pu(e,t,n,i,r){r=r===void 0?!1:r;var o=Ot(n.mimeType,i);if(t==me)Ru(e,o,e.C,n.external);else{var a=e.G.forceTransmux||r;if((!Ke(o)||!e.C&&Tr.includes(o))&&(a=!0),r=yr(n.mimeType,i),a){if(a=kt("audio",(i||"").split(",")),i=kt("video",(i||"").split(",")),a&&i){e.s=!0,Pu(e,"audio",n,a,!0),Pu(e,"video",n,i,!0);return}(i=_i(r))&&(o=i(),e.m[t]=o,o=o.convertCodecs(t,r))}r=o+e.G.sourceBufferExtraFeatures,we(e.K);try{var u=e.l.addSourceBuffer(r)}catch(s){throw new I(2,3,3015,s,"The mediaSource_ status was "+e.l.readyState+" expected 'open'")}e.C&&(u.mode=ow),e.u.o(u,"error",function(){e.j[t][0].p.reject(new I(2,3,3014,e.i.error?e.i.error.code:0))}),e.u.o(u,"updateend",function(){return ti(e,t)}),e.g[t]=u,e.I[t]=o,e.ha[t]=!!n.drmInfos.length}}p.configure=function(e){this.G=e};function Ru(e,t,n,i){e.h||(e.h=new Kn(e.H));var r=e.h;i=i||e.Z,e=e.W,t=="application/cea-608"||t=="application/cea-708"?r.i=null:(r.i=(0,nt[t])(),r.i.setSequenceMode?r.i.setSequenceMode(n):pe('Text parsers should have a "setSequenceMode" method!'),r.i.setManifestType?r.i.setManifestType(e):pe('Text parsers should have a "setManifestType" method!'),r.C=i)}function xm(e){return e.D?!1:e.l?e.l.readyState=="ended":!0}function Cm(e,t){return e.D||!Object.keys(e.g).length?e=null:t==me?e=e.h.g:(e=Or(e,t),e=!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null),e}function Nu(e,t){return e.D?null:t==me?e.h.h:Sd(Or(e,t))}function XS(e,t,n){return e.D?0:t==me?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=Or(e,t),pm(e,n))}p.Lb=function(){var e={total:this.D?[]:vi(this.i.buffered),audio:this.D?[]:vi(Or(this,"audio")),video:this.D?[]:vi(Or(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function Or(e,t){try{return e.g[t].buffered}catch{return null}}function YS(e,t,n,i,r,o){var a=null,u=ae(n);if(Tr.includes(r))o=Ki(u),o.length&&i&&((t=o.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&t.data&&(a=Math.round(t.data)/1e3),e.ua([{cueTime:i.startTime,data:u,frames:o,dts:i.startTime,pts:i.startTime}],0,i.endTime));else if(r.includes("/mp4")&&i&&i.timestampOffset==0&&i.ka&&i.ka.timescale){var s=i.ka.timescale;if(!isNaN(s)){var l=0,d=!1;new Ie().box("moof",Te).box("traf",Te).T("tfdt",function(c){l=Cd(c.reader,c.version).baseMediaDecodeTime/s,d=!0,c.parser.stop()}).parse(n,!0),d&&(a=l)}}else r.includes("/mp4")||r.includes("/webm")||!kd(u)||(u=new Me().parse(u),t=u.getStartTime(t),t!=null&&(a=t),u=u.getMetadata(),u.length&&e.ua(u,o,i?i.endTime:null));return a}function _u(e,t,n,i,r,o,a,u,s,l){a=a===void 0?!1:a,u=u===void 0?!1:u,s=s===void 0?!1:s,l=l===void 0?!1:l;var d,c,f,h,g,v,E,S,T,A,w;return C(function(x){switch(x.g){case 1:if(d=Ze,t!=d.Da){x.F(2);break}if(!e.C){x.F(3);break}return y(x,e.va,4);case 4:c=x.h,e.h.u=c;case 3:return y(x,kT(e.h,n,i?i.startTime:null,i?i.endTime:null,i?i.ba()[0]:null),5);case 5:return x.return();case 2:if(l||!e.s){x.F(6);break}return y(x,_u(e,d.U,n,i,r,o,a,u,s,!0),7);case 7:return y(x,_u(e,d.ia,n,i,r,o,a,u,s,!0),8);case 8:return x.return();case 6:if(!e.g[t])return x.return();if(f=e.g[t].timestampOffset,h=e.I[t],e.m[t]&&(h=e.m[t].getOriginalMimeType()),i&&(g=YS(e,t,n,i,h,f),g!=null&&(v=i.startTime-g,E=Math.abs(f-v),(.001<=E||a||u)&&(!s||0<v||!f)&&(f=v,e.Aa&&($e(e,t,function(){return Vr(e,t)}),$e(e,t,function(){return Hr(e,t,f)}))),S=t==d.ia||!(d.ia in e.g),e.C&&S&&e.va.resolve(f))),o&&t==d.ia&&(e.h||Ru(e,"application/cea-608",e.C,!1),e.J||(T=h.split(";",1)[0],e.J=new Ut(T)),i?(A=e.J.i(n),A.length&&DT(e.h,A,i.startTime,i.endTime,f)):e.J.init(n)),!e.m[t]){x.F(9);break}return y(x,e.m[t].transmux(n,r,i,e.l.duration,t),10);case 10:n=x.h;case 9:return n=ew(e,n,i?i.startTime:null,t),i&&e.C&&t!=d.Da&&(a||u)&&(w=i.startTime,$e(e,t,function(){return Vr(e,t)}),$e(e,t,function(){return Hr(e,t,w)})),y(x,$e(e,t,function(){var M=n;if(t=="video"&&e.N){var b=e.N;b.g&&b.g.appendBuffer(M,"video",b.s,-f)}e.g[t].appendBuffer(M)}),11);case 11:O(x)}})}function $S(e,t){var n=Nu(e,"video")||0;uf(e.h,t,n)}function QS(e){e.h&&uf(e.h,"",0)}p.remove=function(e,t,n){var i=this,r;return C(function(o){return o.g==1?(r=Ze,e==r.Da?y(o,i.h.remove(t,n),0):y(o,$e(i,e,function(){return Uu(i,e,t,n)}),4)):i.s?y(o,$e(i,r.U,function(){return Uu(i,r.U,t,n)}),0):o.F(0)})};function Im(e,t){var n;return C(function(i){return i.g==1?(n=Ze,t==n.Da?e.h?y(i,e.h.remove(0,1/0),0):i.return():y(i,$e(e,t,function(){return Uu(e,t,0,e.l.duration)}),4)):e.s?y(i,$e(e,n.U,function(){return Uu(e,n.U,0,e.l.duration)}),0):i.F(0)})}p.flush=function(e){var t=this,n;return C(function(i){return i.g==1?(n=Ze,e==n.Da?i.return():y(i,$e(t,e,function(){t.i.currentTime-=.001,ti(t,e)}),2)):t.s?y(i,$e(t,n.U,function(){var r=n.U;t.i.currentTime-=.001,ti(t,r)}),0):i.F(0)})};function JS(e,t,n,i,r,o,a,u,s){var l,d,c;return C(function(f){return f.g==1?(l=Ze,t==l.Da?(o||(e.h.u=n),bT(e.h,i,r),f.return()):(d=[],y(f,iw(e,t,a,u,s),2))):(c=f.h,c||(d.push($e(e,t,function(){return Vr(e,t)})),e.s&&d.push($e(e,l.U,function(){return Vr(e,l.U)}))),o||(d.push($e(e,t,function(){return Hr(e,t,n)})),e.s&&d.push($e(e,l.U,function(){return Hr(e,l.U,n)}))),d.push($e(e,t,function(){e.g[t].appendWindowStart=0,e.g[t].appendWindowEnd=r,e.g[t].appendWindowStart=i,ti(e,t)})),e.s&&d.push($e(e,l.U,function(){var h=l.U;e.g[h].appendWindowStart=0,e.g[h].appendWindowEnd=r,e.g[h].appendWindowStart=i,ti(e,h)})),y(f,Promise.all(d),0))})}function ZS(e,t,n){var i;return C(function(r){return r.g==1?(i=Ze,t==i.Da?r.return():($e(e,t,function(){return Vr(e,t)}),e.s&&$e(e,i.U,function(){return Vr(e,i.U)}),y(r,$e(e,t,function(){return Hr(e,t,n)}),2))):e.s?y(r,$e(e,i.U,function(){return Hr(e,i.U,n)}),0):r.F(0)})}p.endOfStream=function(e){var t=this;return C(function(n){return y(n,Dd(t,function(){xm(t)||t.l.readyState==="closed"||(e?t.l.endOfStream(e):t.l.endOfStream())}),0)})},p.gb=function(e){var t=this;return C(function(n){return y(n,Dd(t,function(){if(e<t.l.duration)for(var i in t.g){var r={start:function(){},p:new De};t.j[i].unshift(r)}t.l.duration=e,t.V=e}),0)})},p.getDuration=function(){return this.l.duration};function Uu(e,t,n,i){i<=n?ti(e,t):e.g[t].remove(n,i)}function Vr(e,t){var n=e.g[t].appendWindowStart,i=e.g[t].appendWindowEnd;e.g[t].abort(),e.g[t].appendWindowStart=n,e.g[t].appendWindowEnd=i,ti(e,t)}function Hr(e,t,n){0>n&&(n+=.001),e.g[t].timestampOffset=n,ti(e,t)}function ti(e,t){if(!e.D){var n=e.j[t][0];n&&(n.p.resolve(),Pd(e,t))}}function $e(e,t,n){return we(e.K),n={start:n,p:new De},e.j[t].push(n),e.j[t].length==1&&Mm(e,t),n.p}function Dd(e,t){var n,i,r,o,a,u,s;return C(function(l){switch(l.g){case 1:we(e.K),n=[],i={};for(r in e.g)i.dd=new De,o={start:function(d){return function(){return d.dd.resolve()}}(i),p:i.dd},e.j[r].push(o),n.push(i.dd),e.j[r].length==1&&o.start(),i={dd:i.dd};return $(l,2),y(l,Promise.all(n),4);case 4:oe(l,3);break;case 2:throw a=Q(l),a;case 3:return $(l,5,6),y(l,t(),6);case 6:At(l);for(u in e.g)Pd(e,u);gt(l,0);break;case 5:throw s=Q(l),new I(2,3,3015,s,e.i.error||"No error in the media element")}})}function Pd(e,t){e.j[t].shift(),Mm(e,t)}function Mm(e,t){var n=e.j[t][0];if(n)try{n.start()}catch(i){i.name=="QuotaExceededError"?n.p.reject(new I(2,3,3017,t)):n.p.reject(new I(2,3,3015,i,e.i.error||"No error in the media element")),Pd(e,t)}}function ew(e,t,n,i){var r=e.ha[i];return e.G.insertFakeEncryptionInInit&&n==null&&r&&(Oi()||Fo()||Ue("SOPOpenBrowser"))&&e.I[i].split(";")[0].split("/")[1]=="mp4"&&(t=DS(t)),t}function tw(e,t,n,i){return $e(e,t,function(){t!==me&&(Pi()&&(e.m[t]&&(e.m[t].destroy(),delete e.m[t]),i&&(e.m[t]=i),e.g[t].changeType(n+e.G.sourceBufferExtraFeatures),e.I[t]=n),ti(e,t))})}function nw(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L;return C(function(k){switch(k.g){case 1:n=Ze,e.D=!0,e.s=!1,i=e.i.currentTime,r=e.i.autoplay,o=e.i.paused,e.$&&(e.i.autoplay=!1),pt(k,2),e.u.ub(),a=[];for(u in e.m)a.push(e.m[u].destroy());for(s in e.j)for(l=e.j[s],d=l[0],e.j[s]=l.slice(0,1),d&&a.push(d.p.catch(lf)),c=m(l.slice(1)),f=c.next();!f.done;f=c.next())h=f.value,h.p.reject(new I(2,7,7003,void 0));for(g in e.g){v=e.g[g];try{e.l.removeSourceBuffer(v)}catch{}}return y(k,Promise.all(a),4);case 4:return e.m={},e.g={},E=e.l.duration,e.L=new De,e.l=Am(e,e.L),y(k,e.L,5);case 5:for(!isNaN(E)&&E?e.l.duration=E:!isNaN(e.V)&&e.V&&(e.l.duration=e.V),S=new De,T=e.l.sourceBuffers,A=t.size,w=0,e.u.o(T,"addsourcebuffer",function(){w++,w===A&&S.resolve()}),x=m(t.keys()),M=x.next();!M.done;M=x.next())b=M.value,L=t.get(b),Pu(e,b,L,L.codecs),e.s?(e.j[n.U]=[],e.j[n.ia]=[]):e.j[b]=[];return e.i.currentTime=i,y(k,S,2);case 2:At(k),e.D=!1,we(e.K),e.u.na(e.i,"canplaythrough",function(){we(e.K),e.i.autoplay=r,o||e.i.play()}),gt(k,0)}})}function Lm(e,t){return Dd(e,function(){return nw(e,t)})}function iw(e,t,n,i,r){var o,a,u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){return w.g==1?(o=Ze,t==o.Da||(a=xn(cn(e.I[t])),u=zn(e.I[t]),l=!1,d=Ot(n,i),c=e.G.forceTransmux,(!Ke(d)||!e.C&&Tr.includes(d)||i.includes(","))&&(c=!0),c&&(f=yr(n,i),h=_i(f))&&(s=h(),g=kt(o.U,(i||"").split(",")),v=kt(o.ia,(i||"").split(",")),g&&v?(l=!0,E=v,t==o.U&&(E=g),d=s.convertCodecs(t,yr(n,E))):d=s.convertCodecs(t,f)),S=xn(cn(d)),T=zn(d),a===S&&u===T)?w.return(!1):(A=!0,(e.s||l&&s&&!e.m[t])&&(A=!1),A&&e.G.codecSwitchingStrategy==="smooth"&&Pi()?y(w,tw(e,t,d,s),3):(s&&s.destroy(),y(w,Lm(e,r),3)))):w.return(!0)})}function rw(e,t,n){if(t==me)var i=!1;else{i=xn(cn(e.I[t]));var r=zn(e.I[t]),o=Ot(n.mimeType,n.codecs),a=e.G.forceTransmux;(!Ke(o)||!e.C&&Tr.includes(o)||n.codecs.includes(","))&&(a=!0),n=yr(n.mimeType,n.codecs),a&&(a=_i(n))&&(a=a(),o=a.convertCodecs(t,n),a.destroy()),t=xn(cn(o)),o=zn(o),i=i!==t||r!==o}return i?e.G.codecSwitchingStrategy!=="smooth"||!Pi()||e.s:!1}var Ou=D.URL.createObjectURL,ow="sequence";function ie(e,t,n){this.i=e,this.s=t,this.C=this.j=1/0,this.g=1,this.h=this.l=null,this.u=0,this.G=!0,this.H=0,this.D=n===void 0?!0:n,this.I=0,this.m=!1}p=ie.prototype,p.getDuration=function(){return this.j},p.mi=function(){return this.g},p.og=function(e){this.i=e},p.gb=function(e){this.j=e},p.pi=function(){return this.i},p.nh=function(e){this.u=e},p.Vc=function(e){this.G=e},p.Ne=function(e){this.C=e},p.oh=function(e){this.s=e},p.ci=function(){return this.s},p.hh=function(e,t){if(e.length!=0){var n=e[e.length-1].end+t;this.Ce(e[0].start+t),this.g=e.reduce(function(i,r){return Math.max(i,r.end-r.start)},this.g),this.h=Math.max(this.h,n),this.i!=null&&this.D&&!this.m&&(this.i=(Date.now()+this.u)/1e3-this.h-this.g)}},p.Dd=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.u)/1e3;e=m(e);for(var r=e.next();!r.done;r=e.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.g=Math.max(this.g,r.endTime-r.startTime));this.Ce(t),this.h=Math.max(this.h,n),this.i!=null&&this.D&&!this.m&&(this.i=i-this.h-this.g)}},p.ve=function(){this.m=!0},p.Pi=function(){return this.m},p.Ce=function(e){this.l=this.l==null?e:Math.min(this.l,e)},p.Wf=function(e){this.g=Math.max(this.g,e)},p.offset=function(e){this.l!=null&&(this.l+=e),this.h!=null&&(this.h+=e)},p.R=function(){return this.j==1/0&&!this.G},p.wc=function(){return this.j!=1/0&&!this.G},p.Ab=function(){return Math.max(this.H,this.ac()-this.C)},p.sh=function(e){this.H=e},p.ac=function(){return this.R()||this.wc()?Math.min(Math.max(0,(Date.now()+this.u)/1e3-this.g-this.i)+this.I,this.j):this.h?Math.min(this.h,this.j):this.j},p.ud=function(e){var t=Math.max(this.l,this.H);return this.C==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.ac()-this.C+e,this.Ob()))},p.Nc=function(){return this.ud(0)},p.Ob=function(){return Math.max(0,this.ac()-(this.R()||this.wc()?this.s:0))},p.yh=function(){return!(this.i==null||this.h!=null&&this.D)},p.mh=function(e){this.I=e},N("shaka.media.PresentationTimeline",ie),ie.prototype.setAvailabilityTimeOffset=ie.prototype.mh,ie.prototype.usingPresentationStartTime=ie.prototype.yh,ie.prototype.getSeekRangeEnd=ie.prototype.Ob,ie.prototype.getSeekRangeStart=ie.prototype.Nc,ie.prototype.getSafeSeekRangeStart=ie.prototype.ud,ie.prototype.getSegmentAvailabilityEnd=ie.prototype.ac,ie.prototype.setUserSeekStart=ie.prototype.sh,ie.prototype.getSegmentAvailabilityStart=ie.prototype.Ab,ie.prototype.isInProgress=ie.prototype.wc,ie.prototype.isLive=ie.prototype.R,ie.prototype.offset=ie.prototype.offset,ie.prototype.notifyMaxSegmentDuration=ie.prototype.Wf,ie.prototype.notifyMinSegmentStartTime=ie.prototype.Ce,ie.prototype.isStartTimeLocked=ie.prototype.Pi,ie.prototype.lockStartTime=ie.prototype.ve,ie.prototype.notifySegments=ie.prototype.Dd,ie.prototype.notifyTimeRange=ie.prototype.hh,ie.prototype.getDelay=ie.prototype.ci,ie.prototype.setDelay=ie.prototype.oh,ie.prototype.setSegmentAvailabilityDuration=ie.prototype.Ne,ie.prototype.setStatic=ie.prototype.Vc,ie.prototype.setClockOffset=ie.prototype.nh,ie.prototype.getPresentationStartTime=ie.prototype.pi,ie.prototype.setDuration=ie.prototype.gb,ie.prototype.setPresentationStartTime=ie.prototype.og,ie.prototype.getMaxSegmentDuration=ie.prototype.mi,ie.prototype.getDuration=ie.prototype.getDuration;function km(e,t,n){this.j=n,this.l=e,this.u=bm(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.s=0,this.C=t,this.i=function(){}}km.prototype.release=function(){this.j=this.l=null,this.i=function(){}};function aw(e,t){e.i=t}function uw(e){this.g=e}function bm(e){if(e.g.paused||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=m(vi(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Rd(e,t,n,i,r){var o=this;this.C=r,this.g=e,this.D=t,this.u=n,this.l=new Ce,this.j=!1,this.H=e.readyState,this.G=this.i=0,this.h=i,this.s=!1,this.l.o(e,"waiting",function(){return Nd(o)}),this.m=new re(function(){Nd(o)}).za(this.u.gapJumpTimerTime)}Rd.prototype.release=function(){this.l&&(this.l.release(),this.l=null),this.m!=null&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.D=this.C=null},Rd.prototype.Zf=function(){this.s=!0,Nd(this)};function Nd(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){e.g.readyState!=e.H&&(e.H=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.l,i=bm(n),r=n.g.currentTime,o=Date.now()/1e3;(t.g!=r||t.u!=i)&&(t.m=o,t.g=r,t.u=i,t.h=!1),r=o-t.m,(i=r>=t.C&&i&&!t.h)&&(t.i(t.g,r),t.h=!0,t.g=n.g.currentTime,t.s++,t.j(new B("stalldetected"))),t=!i}t&&(t=e.g.currentTime,n=e.g.buffered,i=NS(n,t,e.u.gapDetectionThreshold),i==null||i==0&&!e.s||(r=n.start(i),r>=e.D.Ob()||.001>r-t||(i!=0&&n.end(i-1),e.g.currentTime=r,t==e.i&&(e.i=r),e.G++,e.C(new B("gapjumped")))))}}}function jr(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=sw.value().get(t),n.na(e,t,i))}var sw=new Pr(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Dm(e,t,n,i){var r=this;this.g=e,this.m=t,this.u=n,this.l=null,this.j=function(){return r.l==null&&(r.l=i()),r.l},this.s=!1,this.h=new Ce,this.i=new _m(e),jr(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Rm(r,r.j())})}Dm.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function _d(e){return e.s?e.g.currentTime:e.j()}function Pm(e,t){0<e.g.readyState?Um(e.i,t):jr(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){Rm(e,e.j())})}function Rm(e,t){.001>Math.abs(e.g.currentTime-t)?Nm(e):(e.h.na(e.g,"seeking",function(){Nm(e)}),Um(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function Nm(e){e.s=!0,e.h.o(e.g,"seeking",function(){return e.m()}),e.u(e.g.currentTime)}function _m(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new re(function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)})}_m.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function Um(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.za(.1)}function Om(e){this.g=e,this.j=!1,this.h=null,this.i=new Ce}p=Om.prototype,p.df=function(){function e(){t.h==null||t.h==0?t.j=!0:(t.i.na(t.g,"seeking",function(){t.j=!0}),t.g.currentTime=Math.max(0,t.g.currentTime+t.h))}var t=this;jr(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},p.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},p.ef=function(e){this.h=this.j?this.h:e},p.Yd=function(){return(this.j?this.g.currentTime:this.h)||0},p.Cg=function(){return 0},p.Bg=function(){return 0},p.gh=function(){};function Vm(e,t,n,i,r,o){var a=this;this.i=e,this.g=t.presentationTimeline,this.D=t.minBufferTime||0,this.l=n,this.C=r,this.u=null,this.s=lw(e,n,o),this.j=new Rd(e,t.presentationTimeline,n,this.s,o),this.h=new Dm(e,function(){e:{var u=a.j;u.j=!0,u.s=!1;var s=_d(a.h);if(u=jm(a,s),.001<Math.abs(u-s)&&(s=Date.now()/1e3,!a.u||a.u<s-1)){a.u=s,Pm(a.h,u),u=void 0;break e}a.C(),u=void 0}return u},function(u){var s=a.j;s.g.seeking&&!s.j&&(s.j=!0,s.i=u)},function(){var u=i;return u==null?u=1/0>a.g.getDuration()?a.g.Nc():a.g.Ob():0>u&&(u=a.g.Ob()+u),Hm(a,Bm(a,u))}),this.m=new re(function(){if(a.i.readyState!=0&&!a.i.paused){var u=_d(a.h),s=a.g.Nc(),l=a.g.Ob();3>l-s&&(s=l-3),u<s&&(u=jm(a,u),a.i.currentTime=u)}})}p=Vm.prototype,p.df=function(){this.m.za(.25)},p.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.C=function(){}},p.ef=function(e){Pm(this.h,e)},p.Yd=function(){var e=_d(this.h);return 0<this.i.readyState&&!this.i.paused?Bm(this,e):e},p.Cg=function(){return this.s?this.s.s:0},p.Bg=function(){return this.j.G},p.gh=function(){this.j.Zf()};function Hm(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function jm(e,t){var n=Math.max(e.D,e.l.rebufferingGoal),i=e.l.safeSeekOffset,r=e.g.Nc(),o=e.g.Ob(),a=e.g.getDuration();3>o-r&&(r=o-3);var u=e.g.ud(n),s=e.g.ud(i);return n=e.g.ud(n+i),t>=a?Hm(e,t):t>o?o:t<r?wd(e.i.buffered,s)?s:n:t>=u||wd(e.i.buffered,t)?t:n}function Bm(e,t){var n=e.g.Nc();return t<n?n:(e=e.g.Ob(),t>e?e:t)}function lw(e,t,n){if(!t.stallEnabled)return null;var i=t.stallSkip;return t=new km(new uw(e),t.stallThreshold,n),aw(t,function(){i?e.currentTime+=i:(e.pause(),e.play())}),t}function ye(e){this.g=e,this.m=null,this.j=0,this.s=!1}p=ye.prototype,p.$b=function(){return this.g.length},p.release=function(){this.s||(this.g=[],this.m&&this.m.stop(),this.m=null)},p.Ui=function(){this.s=!0};function Ud(e,t){e=m(e.g);for(var n=e.next();!n.done;n=e.next())t(n.value)}p.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.j}return this.g.length&&e<this.g[0].startTime?this.j:null},p.get=function(e){return this.g.length==0?null:(e-=this.j,0>e||e>=this.g.length?null:this.g[e])},p.offset=function(e){if(!this.s)for(var t=m(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},p.ze=function(e){if(!this.s&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,H(e))}},p.Cd=function(e,t){var n=this;e=e.filter(function(i){return i.endTime>t&&(n.g.length==0||i.endTime>n.g[0].startTime)}),this.ze(e),this.yb(t)},p.yb=function(e){if(!this.s){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.j+=t-this.g.length}},p.Ic=function(e,t,n){if(n=n===void 0?!1:n,!this.s){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.j++;this.g.length!=0&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new J(e.startTime,t,e.D,e.hb,e.Na,e.ka,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.C,e.oa,e.status,e.aes128Key),this.g[this.g.length-1].i=e.i)}},p.Qe=function(e,t){var n=this;this.s||(this.m&&this.m.stop(),this.m=new re(function(){var i=t();i?n.g.push.apply(n.g,H(i)):(n.m.stop(),n.m=null)}),this.m.za(e))},ye.prototype[Symbol.iterator]=function(){return this.rc(0)},ye.prototype.rc=function(e){var t=this.find(e);if(t==null)return null;t--;var n=this.get(t+1),i=-1;if(n&&0<n.g.length)for(var r=n.g.length-1;0<=r;--r){var o=n.g[r];if(e>=o.startTime&&e<o.endTime){for(;r&&!o.j;)r--,o=n.g[r];if(!o.j)return di("No independent partial segment found!"),null;t++,i=r-1;break}}return new Mn(this,t,i)};function Od(e,t,n){return e=new J(e,e+t,function(){return n},0,null,null,e,e,e+t),new ye([e])}N("shaka.media.SegmentIndex",ye),ye.forSingleSegment=Od,ye.prototype.getIteratorForTime=ye.prototype.rc,ye.prototype.updateEvery=ye.prototype.Qe,ye.prototype.fit=ye.prototype.Ic,ye.prototype.evict=ye.prototype.yb,ye.prototype.mergeAndEvict=ye.prototype.Cd,ye.prototype.offset=ye.prototype.offset,ye.prototype.get=ye.prototype.get,ye.prototype.find=ye.prototype.find,ye.prototype.markImmutable=ye.prototype.Ui,ye.prototype.release=ye.prototype.release;function Mn(e,t,n){this.i=e,this.g=t,this.h=n}Mn.prototype.Oh=function(){return this.g},Mn.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.g.length&&e.s&&this.h>=e.g.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.g.length?e.g[this.h]:e},Mn.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.g.length?(this.h++,e.s&&this.h==e.g.length&&(this.g++,this.h=0)):(this.g++,this.h=0),e=this.current(),{value:e,done:!e}},N("shaka.media.SegmentIterator",Mn),Mn.prototype.next=Mn.prototype.next,Mn.prototype.current=Mn.prototype.current,Mn.prototype.currentPosition=Mn.prototype.Oh;function qe(){ye.call(this,[]),this.h=[]}se(qe,ye),p=qe.prototype,p.clone=function(){var e=new qe;return e.h=this.h.slice(),e},p.release=function(){for(var e=m(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},p.find=function(e){for(var t=0,n=m(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(r!=null)return r+t;t+=i.j+i.$b()}return null},p.get=function(e){for(var t=0,n=m(this.h),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;t+=i.j+i.$b()}return null},p.offset=function(){},p.ze=function(){},p.yb=function(){},p.Cd=function(){},p.Ic=function(){},p.Qe=function(){},N("shaka.media.MetaSegmentIndex",qe),qe.prototype.updateEvery=qe.prototype.Qe,qe.prototype.fit=qe.prototype.Ic,qe.prototype.mergeAndEvict=qe.prototype.Cd,qe.prototype.evict=qe.prototype.yb,qe.prototype.merge=qe.prototype.ze,qe.prototype.offset=qe.prototype.offset,qe.prototype.get=qe.prototype.get,qe.prototype.find=qe.prototype.find,qe.prototype.release=qe.prototype.release;function Jo(e){var t=this;this.g=e,this.h=this.g.ke(),this.i=new re(function(){t.g.fh(.25*t.h)})}Jo.prototype.release=function(){this.set(this.Lc()),this.i&&(this.i.stop(),this.i=null),this.g=null},Jo.prototype.set=function(e){if(this.h!=e)e:{if(this.h=e,this.i.stop(),0<=this.h)try{var t=this.h;this.g.ke()!=t&&this.g.pg(t);break e}catch{}this.i.za(.25),this.g.ke()!=0&&this.g.pg(0)}},Jo.prototype.Lc=function(){return this.g.Lc()};function Fm(e){var t=this;this.h=e,this.g=new Set,this.i=new re(function(){qm(t,!1)}).za(.25)}Fm.prototype.release=function(){this.i.stop();for(var e=m(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function qm(e,t){for(var n=m(e.g),i=n.next();!i.done;i=n.next())i.value.j(e.h.currentTime,t)}function Vu(e){fe.call(this),this.g=new Map,this.h=e}se(Vu,fe),Vu.prototype.release=function(){this.g.clear(),fe.prototype.release.call(this)};function dw(e,t){var n=e.g.get(t);return n||(n={Gd:[],Mg:null,contentType:t},e.g.set(t,n)),n}function cw(e,t,n){var i=dw(e,t.contentType);pw(e,i),e={Uf:t,position:n},i=i.Gd,t=i.findIndex(function(r){return r.position>=n}),0<=t?i.splice(t,i[t].position==n?1:0,e):i.push(e)}Vu.prototype.j=function(e){for(var t=m(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;e:{for(var i=n.Gd,r=i.length-1;0<=r;r--){var o=i[r];if(o.position<=e){i=o.Uf;break e}}i=null}if((r=i)&&(r=n.Mg,r=!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width)),r)e:{if(r=e,o=i.contentType,(o=this.h()[o])&&0<o.length){var a=o[o.length-1].end;if(r>=o[0].start&&r<a){r=!0;break e}}r=!1}r&&(n.Mg=i,JSON.stringify(i),n=new B("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}};function pw(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,i=e[e.length-1].end,r=t.Gd;t.Gd=r.filter(function(o,a){return!(o.position<=n&&a+1<r.length&&r[a+1].position<=n||o.position>=i)})}else t.Gd=[]}function Vd(e){fe.call(this);var t=this;this.g=new Set,this.i=e,this.h=new re(function(){for(var n=t.i(),i=m(t.g),r=i.next();!r.done;r=i.next())r=r.value,r.endTime<n.start&&(t.g.delete(r),r=new B("regionremove",new Map([["region",r]])),t.dispatchEvent(r))}).za(2)}se(Vd,fe),Vd.prototype.release=function(){this.g.clear(),this.h.stop(),fe.prototype.release.call(this)};function Hu(e,t){fe.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Dc:null,Cc:Br,vc:function(i,r){return Wi(n,"enter",i,r)}},{Dc:Zo,Cc:Br,vc:function(i,r){return Wi(n,"enter",i,r)}},{Dc:ea,Cc:Br,vc:function(i,r){return Wi(n,"enter",i,r)}},{Dc:Br,Cc:Zo,vc:function(i,r){return Wi(n,"exit",i,r)}},{Dc:Br,Cc:ea,vc:function(i,r){return Wi(n,"exit",i,r)}},{Dc:Zo,Cc:ea,vc:function(i,r){return Wi(n,"skip",i,r)}},{Dc:ea,Cc:Zo,vc:function(i,r){return Wi(n,"skip",i,r)}}],this.h=new Ce,this.h.o(this.i,"regionremove",function(i){n.g.delete(i.region)})}se(Hu,fe),Hu.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,fe.prototype.release.call(this)},Hu.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=m(this.i.g),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),o=e<i.startTime?Zo:e>i.endTime?ea:Br;this.g.set(i,o);for(var a=m(this.m),u=a.next();!u.done;u=a.next())u=u.value,u.Dc==r&&u.Cc==o&&u.vc(i,t)}}};function Wi(e,t,n,i){t=new B(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}var Zo=1,Br=2,ea=3;function hw(e,t,n){this.i=e,this.h=t,this.j=0,this.l=n,this.g=new Map}function Hd(e,t,n){if(n=n===void 0?!1:n,e.h.segmentIndex){var i=e.h.segmentIndex.rc(Math.max(t.startTime,e.j));if(i){var r=t;for(n&&(r=i.next().value)&&r.startTime==t.startTime&&r.endTime==t.endTime&&(r=null);e.g.size<e.i&&r!=null&&(t=!0,r.l&&r.Na!=null&&(t=!1),r.sc()==2&&(t=!1),t&&!e.g.has(r)&&(t=new jd(e.l),Km(t,r,e.h),e.g.set(r,t)),e.j=r.startTime,!(e.h.fastSwitching&&r.Fd&&r.ue));)r=i.next().value}}}function fw(e,t){if(e.h.segmentIndex&&e.g.size<e.i&&!e.g.has(t)){var n=new jd(e.l);Km(n,t,e.h),e.g.set(t,n)}}function Gm(e){if(e.g.size!==0){for(var t=m(e.g.keys()),n=t.next();!n.done;n=t.next())(n=n.value)&&zm(e,n);e.j=0}}function mw(e,t){t&&t!==e.h&&(Gm(e),e.h=t)}function zm(e,t){var n=e.g.get(t);e.g.delete(t),n&&n.abort()}function jd(e){this.i=e,this.g=this.h=null}function Km(e,t,n){var i=new Uint8Array(0);e.g=e.i(t,n,function(r){return C(function(o){if(o.g==1)return 0<i.byteLength?i=Ve(i,r):i=r,e.h?y(o,e.h(i),3):o.F(0);i=new Uint8Array(0),O(o)})})}jd.prototype.abort=function(){this.g&&this.g.abort()};function ta(e,t,n,i,r){return e=it(e,i,r),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Wm(e,t){var n=this;this.g=t,this.m=e,this.h=null,this.C=1,this.s=this.j=null,this.H=0,this.G=!1,this.i=new Map,this.D=!1,this.I=null,this.u=!1,this.l=new Dr(function(){return gw(n)}),this.J=Date.now()/1e3}p=Wm.prototype,p.destroy=function(){return this.l.destroy()};function gw(e){var t,n,i,r;return C(function(o){if(o.g==1){for(t=[],n=m(e.i.values()),i=n.next();!i.done;i=n.next())r=i.value,ia(r),t.push(ra(r));return y(o,Promise.all(t),2)}e.i.clear(),e.g=null,e.m=null,e.h=null,O(o)})}p.configure=function(e){this.h=e,this.I=new Df({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0);for(var t=m(this.i.keys()),n=t.next();!n.done;n=t.next())if(n=this.i.get(n.value),n.Ia){var i=n.Ia,r=e.segmentPrefetchLimit;i.i=r;for(var o=Array.from(i.g.keys());o.length>r;){var a=o.pop();a&&zm(i,a)}0<e.segmentPrefetchLimit||(n.Ia=null)}else 0<e.segmentPrefetchLimit&&(n.Ia=Qm(this,n.stream))},p.start=function(){var e=this;return C(function(t){if(t.g==1)return y(t,Tw(e),2);we(e.l),e.D=!0,O(t)})};function vw(e,t){var n,i,r,o,a,u;C(function(s){switch(s.g){case 1:return n=Ze,e.H++,i=e.H,$(s,2),y(s,Im(e.g.Y,n.Da),4);case 4:oe(s,3);break;case 2:r=Q(s),e.g&&e.g.onError(r);case 3:o=Ot(t.mimeType,t.codecs),Ru(e.g.Y,o,e.m.sequenceMode,t.external),a=e.g.Y.H,(a.isTextVisible()||e.h.alwaysStreamText)&&e.H==i&&(u=$m(e,t),e.i.set(n.Da,u),gn(e,u,0)),O(s)}})}function yw(e){var t=e.i.get(me);t&&(ia(t),ra(t).catch(function(){}),e.i.delete(me)),e.s=null}function Xm(e,t){var n=e.i.get("video");if(n){var i=n.stream;i&&(t?(t=i.trickModeVideo)&&!n.Ac&&(Fr(e,t,!1,0,!1),n.Ac=i):(i=n.Ac)&&(n.Ac=null,Fr(e,i,!0,0,!1)))}}function Ym(e,t,n,i,r,o){n=n===void 0?!1:n,i=i===void 0?0:i,r=r===void 0?!1:r,o=o===void 0?!1:o,e.j=t,e.D&&(t.video&&Fr(e,t.video,n,i,r,o),t.audio&&Fr(e,t.audio,n,i,r,o))}function ju(e,t){C(function(n){if(n.g==1)return e.s=t,e.D?t.segmentIndex?n.F(2):y(n,t.createSegmentIndex(),2):n.return();Fr(e,t,!0,0,!1),O(n)})}function Fr(e,t,n,i,r,o){var a=e.i.get(t.type);a||t.type!=me?a&&(a.Ac&&(t.trickModeVideo?(a.Ac=t,t=t.trickModeVideo):a.Ac=null),a.stream!=t||r)&&(a.Ia&&mw(a.Ia,t),t.type==me&&(r=Ot(t.mimeType,t.codecs),Ru(e.g.Y,r,e.m.sequenceMode,t.external)),a.stream.closeSegmentIndex&&a.stream.closeSegmentIndex(),a.stream=t,a.ea=null,a.Dg=!!o,n&&(a.pd?a.Re=!0:a.Ta?(a.Ub=!0,a.be=i,a.Re=!0):(ia(a),Gd(e,a,!0,i).catch(function(u){e.g&&e.g.onError(u)}))),Ew(e,a).catch(function(u){e.g&&e.g.onError(u)})):vw(e,t)}function Ew(e,t){var n,i;return C(function(r){if(r.g==1)return t.eb?(n=t.stream,i=t.eb,n.segmentIndex?r.F(2):y(r,n.createSegmentIndex(),2)):r.return();if(t.eb!=i||t.stream!=n)return r.return();var o=e.g.je(),a=Nu(e.g.Y,t.type),u=t.stream.segmentIndex.find(t.Sa?t.Sa.endTime:o),s=u==null?null:t.stream.segmentIndex.get(u);u=s&&s.Na?s.Na-s.hb:null,s&&!u&&(u=(s.endTime-s.getStartTime())*(t.stream.bandwidth||0)/8),u?((s=s.ka)&&(u+=(s.Na?s.Na-s.hb:null)||0),s=e.g.getBandwidthEstimate(),o=8*u/s<(a||0)-o-Math.max(e.m.minBufferTime||0,e.h.rebufferingGoal)||t.eb.h.g>u):o=!1,o&&t.eb.abort(),O(r)})}p.Kd=function(){if(this.g)for(var e=this.g.je(),t=m(this.i.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=this.i.get(i);var r=null;n.ea&&(r=n.ea.current()),(!r||r.startTime>e||r.endTime<e)&&(n.ea=null),r=this.g.Y,r.D?r=!1:i==me?(r=r.h,r=r.g==null||r.h==null?!1:e>=r.g&&e<r.h):(r=Or(r,i),r=wd(r,e)),r||((Nu(this.g.Y,i)!=null||n.Ta)&&na(this,n),n.eb&&(n.eb.abort(),n.eb=null),i===me&&(i=this.g.Y,i.J&&i.J.h()),n.Kd=!0)}};function na(e,t){t.pd||t.Ub||(t.Ta?(t.Ub=!0,t.be=0):Cm(e.g.Y,t.type)==null?t.Eb==null&&gn(e,t,0):(ia(t),Gd(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function Tw(e){var t,n,i,r,o,a,u,s,l;return C(function(d){if(d.g==1){if(t=Ze,!e.j)throw new I(2,5,5006);return n=new Map,i=new Set,e.j.audio&&(n.set(t.U,e.j.audio),i.add(e.j.audio)),e.j.video&&(n.set(t.ia,e.j.video),i.add(e.j.video)),e.s&&(n.set(t.Da,e.s),i.add(e.s)),r=e.g.Y,y(d,r.init(n,e.m.sequenceMode,e.m.type,e.m.ignoreManifestTimestampsInSegmentsMode),2)}for(we(e.l),e.updateDuration(),o=m(n.keys()),a=o.next();!a.done;a=o.next())u=a.value,s=n.get(u),e.i.has(u)||(l=$m(e,s),e.i.set(u,l),gn(e,l,0));O(d)})}function $m(e,t){return{stream:t,type:t.type,ea:null,Ia:Qm(e,t),Sa:null,ec:null,Rf:null,Pf:null,Of:null,Ac:null,endOfStream:!1,Ta:!1,Eb:null,Ub:!1,be:0,Re:!1,pd:!1,Kd:!0,Vf:!1,dg:!1,wd:!1,eb:null}}function Qm(e,t){return t.type!=="video"&&t.type!=="audio"?null:0<e.h.segmentPrefetchLimit?new hw(e.h.segmentPrefetchLimit,t,function(n,i,r){return Jm(e,n,i,r)}):null}p.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.Y.gb(e):this.g.Y.gb(Math.pow(2,32))};function Sw(e,t){var n,i,r,o,a;return C(function(u){switch(u.g){case 1:if(we(e.l),t.Ta||t.Eb==null||t.pd)return u.return();if(t.Eb=null,!t.Ub){u.F(2);break}return y(u,Gd(e,t,t.Re,t.be),3);case 3:return u.return();case 2:if(t.stream.segmentIndex){u.F(4);break}return n=t.stream,y(u,t.stream.createSegmentIndex(),5);case 5:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Ta||t.Eb||gn(e,t,0),u.return();case 4:$(u,6),i=ww(e,t),i!=null&&(gn(e,t,i),t.wd=!1),oe(u,7);break;case 6:return r=Q(u),y(u,Zm(e,t,r),8);case 8:return u.return();case 7:if(o=Array.from(e.i.values()),!e.D||!o.every(function(s){return s.endOfStream})){u.F(0);break}return y(u,e.g.Y.endOfStream(),10);case 10:we(e.l),a=e.g.Y.getDuration(),a!=0&&a<e.m.presentationTimeline.getDuration()&&e.m.presentationTimeline.gb(a),O(u)}})}function ww(e,t){if(Fd(t))return $S(e.g.Y,t.stream.originalId||""),null;if(t.type==me&&QS(e.g.Y),!e.g.Y.aa&&t.type!=me)return e.h.updateIntervalSeconds/2;var n=e.g.je(),i=t.Sa?t.Sa.endTime:n,r=XS(e.g.Y,t.type,n),o=Math.max(1,Math.max(e.m.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.C),a=e.m.presentationTimeline.getDuration()-i,u=Nu(e.g.Y,t.type);if(1e-6>a&&u)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(me))&&Fd(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,r>=o)return e.h.updateIntervalSeconds/2;if(r=Aw(e,t,n,u),!r)return e.h.updateIntervalSeconds;for(o=1/0,a=Array.from(e.i.values()),a=m(a),u=a.next();!u.done;u=a.next())u=u.value,Fd(u)||u.ea&&!u.ea.current()||(o=Math.min(o,u.Sa?u.Sa.endTime:n));return i>=o+e.m.presentationTimeline.g?e.h.updateIntervalSeconds:(t.Ia&&t.ea&&(i=r.ka,!i||t.Sa&&dm(i,t.ec)||fw(t.Ia,i),Hd(t.Ia,r)),xw(e,t,n,r).catch(function(){}),null)}function Aw(e,t,n,i){if(t.ea)return t.ea.current();if(t.Sa||i)return n=t.Sa?t.Sa.endTime:i,t.Vf=!0,t.ea=t.stream.segmentIndex.rc(n),t.ea&&t.ea.next().value;e=e.h.inaccurateManifestTolerance,i=Math.max(n-e,0);var r=null;return e&&(t.ea=t.stream.segmentIndex.rc(i),r=t.ea&&t.ea.next().value),r||(t.ea=t.stream.segmentIndex.rc(n),r=t.ea&&t.ea.next().value),r}function xw(e,t,n,i){var r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:if(r=Ze,o=t.stream,a=t.ea,t.Ta=!0,$(w,2),i.sc()==2)throw new I(1,1,1011);return y(w,Lw(e,t,i),4);case 4:return we(e.l),e.u?w.return():(u=o.mimeType=="video/mp4"||o.mimeType=="audio/mp4",s=D.ReadableStream,e.h.lowLatencyMode&&s&&u&&(e.m.type!="HLS"||i.m)?(c=new Uint8Array(0),h=f=!1,v=function(x){var M,b,L;return C(function(k){switch(k.g){case 1:if(f||(h=!0,we(e.l),e.u))return k.return();if($(k,2),c=Iw(c,x),M=!1,b=0,new Ie().box("mdat",function(R){b=R.size+R.start,M=!0}).parse(c,!1,!0),!M){k.F(4);break}return L=c.subarray(0,b),c=c.subarray(b),y(k,Bd(e,t,n,o,i,L,!0),5);case 5:t.Ia&&t.ea&&Hd(t.Ia,i,!0);case 4:oe(k,0);break;case 2:g=Q(k),O(k)}})},y(w,qd(e,t,i,v),9)):(l=qd(e,t,i),y(w,l,7)));case 7:return d=w.h,we(e.l),e.u?w.return():(we(e.l),t.Ub?(t.Ta=!1,gn(e,t,0),w.return()):y(w,Bd(e,t,n,o,i,d),6));case 9:if(E=w.h,g)throw g;if(h){w.F(10);break}return f=!0,we(e.l),e.u?w.return():t.Ub?(t.Ta=!1,gn(e,t,0),w.return()):y(w,Bd(e,t,n,o,i,E),10);case 10:t.Ia&&t.ea&&Hd(t.Ia,i,!0);case 6:if(we(e.l),e.u)return w.return();t.Sa=i,a.next(),t.Ta=!1,t.dg=!1,S=e.g.Y.Lb(),T=S[t.type],JSON.stringify(T),t.Ub||e.g.Zf(i,t.stream),gn(e,t,0),oe(w,0);break;case 2:if(A=Q(w),we(e.l,A),e.u)return w.return();if(t.Ta=!1,A.code==7001)t.Ta=!1,ia(t),gn(e,t,0),w.F(0);else if(t.type==r.Da&&e.h.ignoreTextStreamFailures)e.i.delete(r.Da),w.F(0);else if(A.code==3017)Mw(e,t,A),w.F(0);else return t.wd=!0,A.severity=2,y(w,Zm(e,t,A),0)}})}function Cw(e,t,n){var i,r,o,a;return C(function(u){if(u.g==1)return i=t,i.cryptoKey?u.F(2):y(u,i.fetchKey(),3);if(r=i.iv,!r)for(r=ae(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+n,a=r.byteLength-1;0<=a;a--)r[a]=o&255,o>>=8;return u.return(D.crypto.subtle.decrypt({name:"AES-CBC",iv:r},i.cryptoKey,e))})}function Iw(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Mw(e,t,n){if(!Array.from(e.i.values()).some(function(r){return r!=t&&r.dg})){if(0<e.h.maxDisabledTime&&e.g.ce(t.stream,e.h.maxDisabledTime))return;var i=Math.round(100*e.C);if(20<i)e.C-=.2;else if(4<i)e.C-=.04;else{t.wd=!0,e.u=!0,e.g.onError(n);return}t.dg=!0}gn(e,t,4)}function Lw(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v;return C(function(E){return E.g==1?(i=Ze,r=[],o=Math.max(0,n.appendWindowStart-.1),a=n.appendWindowEnd+.01,u=xn(t.stream.codecs),s=zn(t.stream.mimeType),l=n.timestampOffset,l==t.Rf&&o==t.Pf&&a==t.Of&&u==t.Qf&&s==t.ah?E.F(2):((d=t.Qf&&t.ah&&rw(e.g.Y,t.type,t.stream))&&(c=null,t.type===i.ia?c=e.i.get(i.U):t.type===i.U&&(c=e.i.get(i.ia)),c&&(c.ec=null,na(e,c),ra(c).catch(function(){}))),f=function(){var S,T,A,w;return C(function(x){if(x.g==1)return S=new Map,e.j.audio&&S.set(i.U,e.j.audio),e.j.video&&S.set(i.ia,e.j.video),$(x,2),t.Pf=o,t.Of=a,t.Qf=u,t.ah=s,t.Rf=l,T=e.m.sequenceMode||e.m.type=="HLS",y(x,JS(e.g.Y,t.type,l,o,a,T,n.mimeType||t.stream.mimeType,n.codecs||t.stream.codecs,S),4);if(x.g!=2)return d&&(A=null,t.type===i.ia?A=e.i.get(i.U):t.type===i.U&&(A=e.i.get(i.ia)),A&&(A.Ub=!1,A.Ta=!1,na(e,A))),oe(x,0);throw w=Q(x),t.Pf=null,t.Of=null,t.Qf=null,t.Rf=null,w})},y(E,f(),2))):(dm(n.ka,t.ec)||(t.ec=n.ka,n.j&&n.ka&&(h=qd(e,t,n.ka),g=function(){var S,T,A,w,x,M;return C(function(b){switch(b.g){case 1:return $(b,2),y(b,h,4);case 4:return S=b.h,we(e.l),T=null,A=new Map,w=new Ie,w.box("moov",Te).box("trak",Te).box("mdia",Te).T("mdhd",function(L){T=bu(L.reader,L.version).timescale}).box("hdlr",function(L){L=L.reader,L.skip(8),L=L.Sb(4);var k=String.fromCharCode(L[0]);switch(k+=String.fromCharCode(L[1]),k+=String.fromCharCode(L[2]),k+=String.fromCharCode(L[3]),k){case"soun":A.set(i.U,T);break;case"vide":A.set(i.ia,T)}T=null}).parse(S),A.has(t.type)?n.ka.timescale=A.get(t.type):T!=null&&(n.ka.timescale=T),x=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,y(b,e.g.Gg(t.type,S),5);case 5:return y(b,_u(e.g.Y,t.type,S,null,t.stream,x),6);case 6:oe(b,0);break;case 2:throw M=Q(b),t.ec=null,M}})},e.g.Wi(n.startTime,n.ka),r.push(g()))),e.m.sequenceMode&&(v=t.Sa?t.Sa.i:null,n.i!=v||t.Vf)&&(t.Vf=!1,r.push(ZS(e.g.Y,t.type,n.startTime))),y(E,Promise.all(r),0))})}function Bd(e,t,n,i,r,o,a){a=a===void 0?!1:a;var u,s,l,d,c,f;return C(function(h){switch(h.g){case 1:return u=i.closedCaptions&&0<i.closedCaptions.size,l=i.emsgSchemeIdUris!=null&&0<i.emsgSchemeIdUris.length||e.h.dispatchAllEmsgBoxes,d=e.h.parsePrftBox&&!e.G,(l||d)&&(s=new Ie),l&&s.T("emsg",function(g){var v=i.emsgSchemeIdUris;if(g.version===0)var E=g.reader.Hd(),S=g.reader.Hd(),T=g.reader.O(),A=g.reader.O(),w=g.reader.O(),x=g.reader.O(),M=r.startTime+A/T;else T=g.reader.O(),M=g.reader.Uc()/T+r.timestampOffset,A=M-r.startTime,w=g.reader.O(),x=g.reader.O(),E=g.reader.Hd(),S=g.reader.Hd();g=g.reader.Sb(g.reader.getLength()-g.reader.Ga()),(v&&v.includes(E)||e.h.dispatchAllEmsgBoxes)&&(E=="urn:mpeg:dash:event:2012"?e.g.Xi():(v=new Map().set("detail",{startTime:M,endTime:M+w/T,schemeIdUri:E,value:S,timescale:T,presentationTimeDelta:A,eventDuration:w,id:x,messageData:g}),v=new B("emsg",v),v.cancelable=!0,e.g.onEvent(v),v.defaultPrevented||E!="https://aomedia.org/emsg/ID3"&&E!="https://developer.apple.com/streaming/emsg-id3"||(E=Ki(g),E.length&&r&&e.g.Yi([{cueTime:r.startTime,data:g,frames:E,dts:r.startTime,pts:r.startTime}],0,r.endTime))))}),d&&s.T("prft",function(g){if(!e.G&&r.ka.timescale){var v=g.reader,E=g.version;v.O(),g=v.O();var S=v.O();g=1e3*g+S/Math.pow(2,32)*1e3,E===0?v=v.O():(E=v.O(),v=v.O(),v=E*Math.pow(2,32)+v),g=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+g).getTime(),v=new Map().set("detail",{wallClockTime:g,programStartDate:new Date(g-v/r.ka.timescale*1e3)}),v=new B("prft",v),e.g.onEvent(v),e.G=!0}}),(l||d)&&s.parse(o),y(h,kw(e,t,n),2);case 2:return we(e.l),c=t.Kd,t.Kd=!1,f=t.Dg,t.Dg=!1,y(h,e.g.Gg(t.type,o),3);case 3:return y(h,_u(e.g.Y,t.type,o,r,i,u,c,f,a),4);case 4:we(e.l),O(h)}})}function kw(e,t,n){var i,r,o,a;return C(function(u){if(u.g==1)return i=Math.max(e.h.bufferBehind,e.m.presentationTimeline.g),r=Cm(e.g.Y,t.type),r==null?u.return():(o=n-r,a=o-i,1>=a?u.return():y(u,e.g.Y.remove(t.type,r,r+a),2));we(e.l),O(u)})}function Fd(e){return e&&e.type==me&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function qd(e,t,n,i){var r,o,a,u,s;return C(function(l){switch(l.g){case 1:if(n instanceof Xt&&(r=n.g))return l.return(r);if(o=null,t.Ia){var d=t.Ia;if(d.g.has(n)){var c=d.g.get(n);i&&(c.h=i),d.g.delete(n),o=c.g}else o=null}return o||(o=Jm(e,n,t.stream,i)),a=0,t.ea&&(a=t.ea.g),t.eb=o,y(l,o.promise,2);case 2:if(u=l.h,t.eb=null,s=u.data,!n.aes128Key){l.F(3);break}return y(l,Cw(s,n.aes128Key,a),4);case 4:s=l.h;case 3:return l.return(s)}})}function Jm(e,t,n,i){var r=t instanceof J?t:void 0,o=r?1:0;return t=ta(t.ba(),t.hb,t.Na,e.h.retryParameters,i),e.g.zc.request(In,t,{type:o,stream:n,segment:r})}function Gd(e,t,n,i){var r,o;return C(function(a){if(a.g==1)return t.Ub=!1,t.Re=!1,t.be=0,t.pd=!0,t.Sa=null,t.ec=null,t.ea=null,t.Ia&&Gm(t.Ia),i?(r=e.g.je(),o=e.g.Y.getDuration(),y(a,e.g.Y.remove(t.type,r+i,o),3)):y(a,Im(e.g.Y,t.type),4);if(a.g!=3)return we(e.l),n?y(a,e.g.Y.flush(t.type),3):a.F(3);we(e.l),t.pd=!1,t.endOfStream=!1,t.Ta||t.Eb||gn(e,t,0),O(a)})}function gn(e,t,n){var i=t.type;(i!=me||e.i.has(i))&&(t.Eb=new jo(function(){var r;return C(function(o){if(o.g==1)return $(o,2),y(o,Sw(e,t),4);if(o.g!=2)return oe(o,0);r=Q(o),e.g&&e.g.onError(r),O(o)})}).S(n))}function ia(e){e.Eb!=null&&(e.Eb.stop(),e.Eb=null)}function ra(e){return C(function(t){return e.eb?y(t,e.eb.abort(),0):t.F(0)})}function Zm(e,t,n){var i;return C(function(r){if(r.g==1)return y(r,Pf(e.I),2);we(e.l),i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.category===1&&0<i&&(n.handled=e.g.ce(t.stream,i),n.handled&&(n.severity=1)),e.g.onError(n),n.handled||e.h.failureCallback(n),O(r)})}function bw(e){var t,n,i,r,o,a;return C(function(u){return u.g==1?(t=Date.now()/1e3,n=e.h.minTimeBetweenRecoveries,!e.h.allowMediaSourceRecoveries||t-e.J<n?u.return(!1):(e.J=t,i=Ze,(r=e.i.get(i.U))&&(r.ec=null,na(e,r),ra(r).catch(function(){})),(o=e.i.get(i.ia))&&(o.ec=null,na(e,o),ra(o).catch(function(){})),a=new Map,e.j.audio&&a.set(i.U,e.j.audio),e.j.video&&a.set(i.ia,e.j.video),y(u,Lm(e.g.Y,a),2))):u.return(!0)})}function zd(e,t,n){var i,r,o,a,u,s,l;return C(function(d){switch(d.g){case 1:var c=new Fe(e).Ya.split("/").pop().split(".");return i=c.length==1?"":c.pop().toLowerCase(),(r=Dw[i])?d.return(r):(o=0,a=it([e],n),$(d,2),a.method="HEAD",y(d,t.request(o,a).promise,4));case 4:u=d.h,r=u.headers["content-type"],oe(d,3);break;case 2:if(s=Q(d),!s||s.code!=1002&&s.code!=1001){d.F(3);break}return a.method="GET",y(d,t.request(o,a).promise,6);case 6:l=d.h,r=l.headers["content-type"];case 3:return d.return(r?r.toLowerCase().split(";").shift():"")}})}var Dw={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function eg(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(a){return eg(a,e)}).join("");var n=[],i=700<=e.fontWeight,r=e.fontStyle=="italic",o=e.textDecoration.includes("underline");return i&&n.push(["b"]),r&&n.push(["i"]),o&&n.push(["u"]),r=e.color,r==""&&t&&(r=t.color),i="",(r=tg(r))&&(i+="."+r),r=e.backgroundColor,r==""&&t&&(r=t.backgroundColor),(t=tg(r))&&(i+=".bg_"+t),i&&n.push(["c",i]),n.reduceRight(function(a,u){var s=m(u);return u=s.next().value,s=s.next().value,"<"+u+(s===void 0?"":s)+">"+a+"</"+u+">"},e.payload)}function tg(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Kd(e,t){var n=[];e=m(e);for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.isContainer)n.push.apply(n,H(Kd(i.nestedCues,i)));else{var r=i.clone();r.nestedCues=[],r.payload=eg(i,t),n.push(r)}return n}function Yt(e,t){this.g=null;for(var n=m(Array.from(e.textTracks)),i=n.next();!i.done;i=n.next())i=i.value,i.mode="disabled",i.label==t&&(this.g=i);this.g||(this.g=e.addTextTrack("subtitles",t)),this.g.mode="hidden"}p=Yt.prototype,p.remove=function(e,t){return this.g?(ng(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},p.append=function(e){var t=Kd(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];var i={};t=m(t);for(var r=t.next();!r.done;i={Ec:i.Ec},r=t.next())i.Ec=r.value,e.some(function(o){return function(a){return a.startTime==o.Ec.startTime&&a.endTime==o.Ec.endTime&&a.text==o.Ec.payload}}(i))||(r=Pw(i.Ec))&&n.push(r);for(e=n.slice().sort(function(o,a){return o.startTime!=a.startTime?o.startTime-a.startTime:o.endTime!=a.endTime?o.endTime-a.startTime:"line"in VTTCue.prototype?n.indexOf(a)-n.indexOf(o):n.indexOf(o)-n.indexOf(a)}),e=m(e),i=e.next();!i.done;i=e.next())this.g.addCue(i.value)},p.destroy=function(){return this.g&&(ng(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},p.isTextVisible=function(){return this.g.mode=="showing"},p.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function Pw(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch{}return e.textAlign=="center"&&t.align!="center"&&(t.align="middle"),e.writingMode=="vertical-lr"?t.vertical="lr":e.writingMode=="vertical-rl"&&(t.vertical="rl"),e.lineInterpretation==1&&(t.snapToLines=!1),e.line!=null&&(t.line=e.line),e.position!=null&&(t.position=e.position),t}function ng(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var i=m(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}N("shaka.text.SimpleTextDisplayer",Yt),Yt.prototype.setTextVisibility=Yt.prototype.setTextVisibility,Yt.prototype.isTextVisible=Yt.prototype.isTextVisible,Yt.prototype.destroy=Yt.prototype.destroy,Yt.prototype.append=Yt.prototype.append,Yt.prototype.remove=Yt.prototype.remove;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function $t(){}p=$t.prototype,p.remove=function(){},p.append=function(){},p.destroy=function(){},p.isTextVisible=function(){return!1},p.setTextVisibility=function(){},N("shaka.text.StubTextDisplayer",$t),$t.prototype.setTextVisibility=$t.prototype.setTextVisibility,$t.prototype.isTextVisible=$t.prototype.isTextVisible,$t.prototype.destroy=$t.prototype.destroy,$t.prototype.append=$t.prototype.append,$t.prototype.remove=$t.prototype.remove;function ig(){}function q(e){return document.createElement(e)}function Qe(){var e=document.createElement("button");return e.setAttribute("type","button"),e}function yi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}N("shaka.util.Dom",ig),ig.removeAllChildren=yi;function Qt(e,t){var n=this;this.m=!1,this.i=[],this.D=e,this.u=t,this.j=null,this.g=q("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.u.appendChild(this.g),this.G=new re(function(){oa(n)}).za(.25),this.h=new Map,this.l=new Ce,this.l.o(document,"fullscreenchange",function(){oa(n,!0)}),this.l.o(this.D,"resize",function(){var i=n.D,r=i.videoWidth;i=i.videoHeight,r&&i?n.j=r/i:n.j=null}),this.s=null,"ResizeObserver"in D&&(this.s=new ResizeObserver(function(){oa(n,!0)}),this.s.observe(this.g)),this.C=new Map}p=Qt.prototype,p.append=function(e){var t=[].concat(H(this.i)),n={};e=m(e);for(var i=e.next();!i.done;n={Rd:n.Rd},i=e.next())n.Rd=i.value,t.some(function(r){return function(o){return Kl(o,r.Rd)}}(n))||this.i.push(n.Rd);oa(this)},p.destroy=function(){return this.g&&(this.u.removeChild(this.g),this.g=null,this.m=!1,this.i=[],this.G&&this.G.stop(),this.h.clear(),this.l&&(this.l.release(),this.l=null),this.s&&(this.s.disconnect(),this.s=null)),Promise.resolve()},p.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter(function(i){return i.startTime<e||i.endTime>=t}),oa(this,n>this.i.length),!0},p.isTextVisible=function(){return this.m},p.setTextVisibility=function(e){this.m=e};function Rw(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function rg(e,t,n,i,r){var o=!1,a=[],u=[];t=m(t);for(var s=t.next();!s.done;s=t.next()){s=s.value,r.push(s);var l=e.h.get(s),d=s.startTime<=i&&s.endTime>i,c=l?l.Ch:null;l&&(a.push(l.nf),l.Id&&a.push(l.Id),d||(o=!0,e.h.delete(s),l=null)),d&&(u.push(s),l?Rw(e,c)||(o=!0):(Nw(e,s,r),l=e.h.get(s),c=l.Ch,o=!0)),0<s.nestedCues.length&&c&&rg(e,s.nestedCues,c,i,r),r.pop()}if(o){for(i=m(a),r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);for(u.sort(function(f,h){return f.startTime!=h.startTime?f.startTime-h.startTime:f.endTime-h.endTime}),u=m(u),s=u.next();!s.done;s=u.next())i=e.h.get(s.value),i.Id?(n.appendChild(i.Id),i.Id.appendChild(i.nf)):n.appendChild(i.nf)}}function oa(e,t){if(e.g){var n=e.D.currentTime;if(!e.m||t!==void 0&&t){t=m(e.C.values());for(var i=t.next();!i.done;i=t.next())yi(i.value);yi(e.g),e.h.clear(),e.C.clear()}if(e.m){t=new Map,i=m(e.h.keys());for(var r=i.next();!r.done;r=i.next())r=r.value,t.set(r,e.h.get(r));rg(e,e.i,e.g,n,[])}}}function Nw(e,t,n){var i=1<n.length,r=i?"span":"div";t.lineBreak&&(r="br"),t.rubyTag&&(r=t.rubyTag),i=!i&&0<t.nestedCues.length;var o=q(r);if(r!="br"&&Uw(e,o,t,n,i),n=null,t.region&&t.region.id){n=t.region,r=e.j===4/3?2.5:1.9;var a=n.id+"_"+n.width+"x"+n.height+(n.heightUnits==Wt?"%":"px")+"-"+n.viewportAnchorX+"x"+n.viewportAnchorY+(n.viewportAnchorUnits==Wt?"%":"px");if(e.C.has(a))n=e.C.get(a);else{var u=q("span"),s=n.heightUnits==Wt?"%":"px",l=n.widthUnits==Wt?"%":"px",d=n.viewportAnchorUnits==Wt?"%":"px";u.id="shaka-text-region---"+a,u.classList.add("shaka-text-region"),u.style.position="absolute",n.heightUnits===2&&n.widthUnits===2?(u.style.height=5.33*n.height+"%",u.style.width=n.width*r+"%"):(u.style.height=n.height+s,u.style.width=n.width+l),n.viewportAnchorUnits===2?(s=n.viewportAnchorY/75*100,l=n.viewportAnchorX/(e.j===4/3?160:210)*100,s-=n.regionAnchorY*n.height*5.33/100,l-=n.regionAnchorX*n.width*r/100,u.style.top=s+"%",u.style.left=l+"%"):(u.style.top=n.viewportAnchorY-n.regionAnchorY*n.height/100+d,u.style.left=n.viewportAnchorX-n.regionAnchorX*n.width/100+d),u.style.display="flex",u.style.flexDirection="column",u.style.alignItems="center",u.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.C.set(a,u),n=u}}r=o,i&&(r=q("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",o.appendChild(r)),e.h.set(t,{nf:o,Ch:r,Id:n})}function _w(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==su?n:e==="left"||e==="start"&&t===Vo||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===Vo?"line-right":"center"}function Uw(e,t,n,i,r){var o=t.style,a=n.nestedCues.length==0,u=1<i.length;o.whiteSpace="pre-wrap";var s=n.payload.replace(/\s+$/g,function(d){return" ".repeat(d.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Wd(n.linePadding,n,e.u),o.paddingRight=Wd(n.linePadding,n,e.u),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",o.width="100%",o.height="100%";else{if(n.nestedCues.length)var l=t;else l=q("span"),t.appendChild(l);n.border&&(l.style.border=n.border),!r&&((t=og(i,function(d){return d.backgroundColor}))?l.style.backgroundColor=t:s&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)"),t=og(i,function(d){return d.fontFamily}))&&(l.style.fontFamily=t),s&&(l.textContent=s)}u&&!i[i.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=Wd(n.fontSize,n,e.u),i=n.line,i!=null&&(a=n.lineInterpretation,a==lu&&(a=1,u=16,e.j&&1>e.j&&(u=32),i=0>i?100+i/u*100:i/u*100),a==1&&(o.position="absolute",n.writingMode==Ho?(o.width="100%",n.lineAlign==Ri?o.top=i+"%":n.lineAlign=="end"&&(o.bottom=100-i+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==Ri?o.left=i+"%":n.lineAlign=="end"&&(o.right=100-i+"%")):(o.height="100%",n.lineAlign==Ri?o.right=i+"%":n.lineAlign=="end"&&(o.left=100-i+"%")))),o.lineHeight=n.lineHeight,n.position!=null&&(n.writingMode==Ho?o.paddingLeft=n.position:o.paddingTop=n.position),e=_w(n),e=="line-left"?o.cssFloat="left":e=="line-right"&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==Ho?o.width=n.size+"%":o.height=n.size+"%")}function Wd(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;var r=i.value;switch(i.unit){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return e}}function og(e,t){for(var n=e.length-1;0<=n;n--){var i=t(e[n]);if(i||i===0)return i}return null}N("shaka.text.UITextDisplayer",Qt),Qt.prototype.setTextVisibility=Qt.prototype.setTextVisibility,Qt.prototype.isTextVisible=Qt.prototype.isTextVisible,Qt.prototype.remove=Qt.prototype.remove,Qt.prototype.destroy=Qt.prototype.destroy,Qt.prototype.append=Qt.prototype.append;function Ow(e,t){function n(o){for(var a=o,u=m(t),s=u.next();!s.done;s=u.next())s=s.value,s.end&&s.start<o&&(a+=s.end-s.start);return o=Math.floor(a/3600),u=Math.floor(a/60%60),s=Math.floor(a%60),a=Math.floor(1e3*a%1e3),(10>o?"0":"")+o+":"+(10>u?"0":"")+u+":"+(10>s?"0":"")+s+"."+(100>a?10>a?"00":"0":"")+a}var i=Kd(e);e=`WEBVTT

`,i=m(i);for(var r=i.next();!r.done;r=i.next())r=r.value,e+=n(r.startTime)+" --> "+n(r.endTime)+function(o){var a=[];switch(o.textAlign){case"left":a.push("align:left");break;case"right":a.push("align:right");break;case qn:a.push("align:middle");break;case"start":a.push("align:start");break;case"end":a.push("align:end")}switch(o.writingMode){case"vertical-lr":a.push("vertical:lr");break;case"vertical-rl":a.push("vertical:rl")}return a.length?" "+a.join(" "):""}(r)+`
`,e+=r.payload+`

`;return e}N("shaka.text.WebVttGenerator",function(){});function ag(e,t){this.h=e,this.g=t,this.m=void 0,this.i=!1,this.l=!0,this.j=!1}ag.prototype.configure=function(e){this.g=e};function Vw(e,t,n){try{if(!e.g.enabled)return t;var i=Xd(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=Fu;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=Gu;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=ug;break e}r=void 0}i.ot=r,i.su=!0;var o=Bu(i);return Yd(t,o)}catch(a){return bi("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),t}}function Xd(e){return e.g.sessionId||(e.g.sessionId=D.crypto.randomUUID()),{v:1,sf:e.m,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function qr(e,t,n){n=n===void 0?{}:n;var i=i===void 0?e.g.useHeaders:i;if(e.g.enabled){Object.assign(n,Xd(e)),n.pr=e.h.Nb();var r=n.ot===qu||n.ot===Gu;if(e.j&&r&&(n.bs=!0,n.su=!0,e.j=!1),n.su==null&&(n.su=e.l),i)e=Fw(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var o=Bu(n);o&&(t.uris=t.uris.map(function(a){return Yd(a,o)}))}}}function Hw(e){if(e.type===0)return qw;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?Gu:qu;if(t=="audio")return Fu;if(t=="text")return e.mimeType==="application/mp4"?Qd:$d}}function jw(e,t){if(t=e.h.Lb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):NaN}function Bw(e,t){var n=e.h.mb();if(!n.length)return NaN;e=n[0],n=m(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.type==="variant"&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case qu:return e.videoBandwidth||NaN;case Fu:return e.audioBandwidth||NaN;default:return e.bandwidth}}function Bu(e){function t(c){return 100*n(c/100)}function n(c){return Math.round(c)}function i(c){return!Number.isNaN(c)&&c!=null&&c!==""&&c!==!1}var r=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(c){return encodeURIComponent(c)},rtp:t,tb:n},a=Object.keys(e||{}).sort();a=m(a);for(var u=a.next();!u.done;u=a.next()){u=u.value;var s=e[u];if(i(s)&&(u!=="v"||s!==1)&&(u!="pr"||s!==1)){var l=o[u];l&&(s=l(s)),l=typeof s;var d=void 0;d=l==="string"&&u!=="ot"&&u!=="sf"&&u!=="st"?u+"="+JSON.stringify(s):l==="boolean"?u:l==="symbol"?u+"="+s.description:u+"="+s,r.push(d)}}return r.join(",")}function Fw(e){var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=m(t);for(var a=t.next();!a.done;a=t.next())a=a.value,r[o[a]!=null?o[a]:1][a]=e[a];for(e=0;e<r.length;e++)(o=Bu(r[e]))&&(n["CMCD-"+i[e]]=o);return n}function Yd(e,t){return!t||e.includes("offline:")?e:(e=new Fe(e),e.g.set("CMCD",t),e.toString())}var ug="m",Fu="a",qu="v",Gu="av",qw="i",$d="c",Qd="tt";N("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",Eh:"s",OTHER:"o"});function Jt(e){this.h=e,this.g=null}p=Jt.prototype,p.configure=function(e){this.h=e},p.Ug=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(dg)?1e3*this.g.get(dg):null},p.Tg=function(){return this.h.enabled&&this.g&&this.g.has(lg)?1e3*this.g.get(lg):null},p.ri=function(){return this.h.enabled&&this.g&&this.g.has(cg)?this.g.get(cg):null},p.si=function(){return this.h.enabled&&this.g&&this.g.has(pg)?this.g.get(pg):null},p.getBandwidthEstimate=function(e){var t=this.Tg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function sg(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}N("shaka.util.CmsdManager",Jt),Jt.prototype.getBandwidthEstimate=Jt.prototype.getBandwidthEstimate,Jt.prototype.getRoundTripTime=Jt.prototype.si,Jt.prototype.getResponseDelay=Jt.prototype.ri,Jt.prototype.getEstimatedThroughput=Jt.prototype.Tg,Jt.prototype.getMaxBitrate=Jt.prototype.Ug;var lg="etp",dg="mb",cg="rd",pg="rtt";function Jd(){}function aa(e,t,n,i,r){var o=r in i,a=!0,u;for(u in t){var s=r+"."+u,l=o?i[r]:n[u];o||u in n?t[u]===void 0?l===void 0||o?delete e[u]:e[u]=Ui(l):l.constructor==Object&&t[u]&&t[u].constructor==Object?(e[u]||(e[u]=Ui(l)),s=aa(e[u],t[u],l,i,s),a=a&&s):typeof t[u]!=typeof l||t[u]==null||typeof t[u]!="function"&&t[u].constructor!=l.constructor?(di("Invalid config, wrong type for "+s),a=!1):(typeof n[u]=="function"&&n[u].length!=t[u].length&&pe("Unexpected number of arguments for "+s),e[u]=t[u]):(di("Invalid config, unrecognized key "+s),a=!1)}return a}function zu(e,t){for(var n={},i=n,r=0,o=0;r=e.indexOf(".",r),!(0>r);)(r==0||e[r-1]!="\\")&&(o=e.substring(o,r).replace(/\\\./g,"."),i[o]={},i=i[o],o=r+1),r+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function Ku(e,t){return e&&t}N("shaka.util.ConfigUtils",Jd),Jd.convertToConfigObject=zu,Jd.mergeConfigObjects=aa;function hg(){this.g=null,this.h=[]}function Zd(e,t){return C(function(n){if(n.g==1)return e.g?y(n,new Promise(function(i){return e.h.push(i)}),2):n.F(2);e.g=t,O(n)})}hg.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function Zt(){}function fg(e){return e=mi(e),new Fe(e).Kb}function ua(e,t,n){function i(u){bt(o).setUint32(a,u.byteLength,!0),a+=4,o.set(ae(u),a),a+=u.byteLength}if(!n||!n.byteLength)throw new I(2,6,6015);var r;typeof t=="string"?r=pd(t,!0):r=t,e=mi(e),e=pd(e,!0);var o=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),a=0;return i(e),i(r),i(n),o}function mg(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=mi(e).split("skd://").pop(),ua(e,n,t))}function ec(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")}N("shaka.util.FairPlayUtils",Zt),Zt.commonFairPlayResponse=function(e,t){if(e===2){try{var n=Pe(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch{}e&&(t.data=Kt(hn(n)))}},Zt.expressplayFairPlayRequest=function(e,t){ec(e,t)},Zt.conaxFairPlayRequest=function(e,t){ec(e,t)},Zt.ezdrmFairPlayRequest=function(e,t){ec(e,t)},Zt.verimatrixFairPlayRequest=function(e,t){e===2&&(e=ae(t.body),e=Fi(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Yn("spc="+e))},Zt.expressplayInitDataTransform=function(e,t,n){return mg(e,t,n)},Zt.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=mi(e).split("skd://").pop().split("?").shift(),n=D.atob(n);var i=new ArrayBuffer(2*n.length);i=Xh(i);for(var r=0,o=n.length;r<o;r++)i[r]=n.charCodeAt(r);return ua(e,i,t)},Zt.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=mi(e).split(";").pop(),ua(e,n,t))},Zt.verimatrixInitDataTransform=function(e,t,n){return mg(e,t,n)},Zt.initDataTransform=ua,Zt.defaultGetContentId=fg,Zt.isFairPlaySupported=function(){var e;return C(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},$(t,2),y(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(Q(t),t.return(!1))})};function tc(){}function Gr(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Un(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(u,s,l){return D.shakaMediaKeysPolyfill&&s=="skd"&&(s=l.serverCertificate,l=fg(u),u=ua(u,l,s)),u},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Fo(),minHdcpVersion:"",ignoreDuplicateInitData:!pu()},n="reload",i=!1;pu()||cu()||Ue("Tizen 4")||td()||navigator.userAgent.match(/webOS\/4/i)||navigator.userAgent.match(/webOS\/5/i)||(n="smooth",i=!0),i={retryParameters:Un(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(u){return Ku([u],u)},sequenceMode:!1,enableAudioGroups:!1,multiTypeVariantsAllowed:i},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3,sequenceMode:!(cu()||pu()||td()||Ar()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,allowLowLatencyByteRangeOptimization:!0},mss:{manifestPreprocessor:function(u){return Ku([u],u)},sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var r={retryParameters:Un(),failureCallback:function(u){return Ku([u])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,liveSync:!1,liveSyncMaxLatency:1,liveSyncPlaybackRate:1.1,liveSyncMinLatency:0,liveSyncMinPlaybackRate:1,allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5};(Ue("Web0S")||Oi()||wr()||Ue("Hisense")||Ue("VIDAA"))&&(r.stallSkip=0);var o={trackSelectionCallback:function(u){return C(function(s){return s.return(u)})},downloadSizeCallback:function(u){var s;return C(function(l){return l.g==1?navigator.storage&&navigator.storage.estimate?y(l,navigator.storage.estimate(),3):l.return(!0):(s=l.h,l.return(s.usage+u<.95*s.quota))})},progressCallback:function(u,s){return Ku([u,s])},usePersistentLicense:!0,numberOfParallelDownloads:5},a={drm:t,manifest:i,streaming:r,mediaSource:{codecSwitchingStrategy:n,sourceBufferExtraFeatures:"",forceTransmux:!1,insertFakeEncryptionInInit:!0},offline:o,abrFactory:function(){return new be},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:!1}};return o.trackSelectionCallback=function(u){return C(function(s){return s.return(Gw(u,a.preferredAudioLanguage,a.preferredVideoHdrLevel))})},a}function zr(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return aa(e,t,n||Gr(),i,"")}function Gw(e,t,n){var i=n;i=="AUTO"&&(i=D.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var r=e.filter(function(u){return!(u.type!="variant"||u.hdr&&u.hdr!=i)});n=[];var o=ou(t,r.map(function(u){return u.language}));o&&(n=r.filter(function(u){return ve(u.language)==o})),n.length==0&&(n=r.filter(function(u){return u.primary})),n.length==0&&(r.map(function(u){return u.language}),n=r);var a=n.filter(function(u){return u.height&&480>=u.height});for(a.length&&(a.sort(function(u,s){return s.height-u.height}),n=a.filter(function(u){return u.height==a[0].height})),t=[],n.length&&(r=Math.floor(n.length/2),n.sort(function(u,s){return u.bandwidth-s.bandwidth}),t.push(n[r])),e=m(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=me&&n.type!="image"||t.push(n);return t}N("shaka.util.PlayerConfiguration",tc),tc.mergeConfigObjects=zr,tc.createDefault=Gr;function zw(){this.g=null,this.h=[]}function nc(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=m(e.h);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=i.state==t?i.duration:0;return n}function Kw(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],i=m(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}function Ww(){this.i=this.h=null,this.g=[]}function ic(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function gg(){this.C=this.D=this.I=this.G=this.u=this.j=this.H=this.m=this.i=this.M=this.N=this.J=this.K=this.L=this.l=this.s=NaN,this.g=new zw,this.h=new Ww}function P(e,t){fe.call(this);var n=this;this.l=hc,this.oe=this.h=null,this.$=!1,this.Be=new Ce,this.Fb=new Ce,this.s=new Ce,this.va=new Ce,this.G=this.I=this.m=this.J=null,this.He=0,this.W=new hg,this.ha=this.aa=this.i=this.Ie=this.H=this.j=this.sa=this.L=this.Bh=this.Z=this.V=this.ua=this.M=this.K=this.xb=null,this.Xa=!1,this.fg=this.u=null,this.Ag=1e9,this.tc=[],this.N=NaN,this.g=Wr(this),this.Ee={width:1/0,height:1/0},this.C=null,this.Ra=new Mr(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),this.Wa=this.g.preferredTextLanguage,this.nc=this.g.preferredTextRole,this.Xb=this.g.preferForcedSubs,this.Ib=[],t&&t(this),this.V=dA(this),this.Z=new Jt(this.g.cmsd),this.J=aA(this),this.J.mg(this.g.streaming.forceHTTPS),this.D=null,Ju&&(this.D=Ju(),this.D.configure(this.g.ads)),this.Be.o(D,"online",function(){dc(n),n.eg()}),this.se=new re(function(){return gA(n)}),e&&(pn("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Gc(e,!0))}se(P,fe);function Wu(e){e.L!=null&&(Tm(e.L),e.L.release(),e.L=null)}function Xw(e,t){if(t.lcevc.enabled){var n=e.mb();n&&n[0]&&n[0].videoMimeType=="video/mp2t"&&(ed()||navigator.userAgent.match(/Edge\//))&&(t.mediaSource.forceTransmux||pe("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),Wu(e),e.L==null&&(e.L=new Qo(e.h,e.Bh,t.lcevc),e.I&&(e.I.N=e.L))}else Wu(e)}function Ne(e,t){return new B(e,t)}p=P.prototype,p.destroy=function(){var e=this,t;return C(function(n){switch(n.g){case 1:return e.l==Ln?n.return():(Wu(e),t=e.detach(),e.l=Ln,y(n,t,2));case 2:if(e.Be&&(e.Be.release(),e.Be=null),e.Fb&&(e.Fb.release(),e.Fb=null),e.s&&(e.s.release(),e.s=null),e.va&&(e.va.release(),e.va=null),e.fg=null,e.g=null,e.C=null,e.oe=null,e.V=null,e.Z=null,!e.J){n.F(3);break}return y(n,e.J.destroy(),4);case 4:e.J=null;case 3:e.u&&(e.u.release(),e.u=null),fe.prototype.release.call(e),O(n)}})};function vg(){if(D.Promise||pe("A Promise implementation or polyfill is required"),!(D.Promise&&D.Uint8Array&&Array.prototype.forEach)||Ue("Trident/"))return!1;var e=xr();return e&&9>e||!(D.MediaKeys&&D.navigator&&D.navigator.requestMediaKeySystemAccess&&D.MediaKeySystemAccess&&D.MediaKeySystemAccess.prototype.getConfiguration)?!1:Cn()?!0:Bo("application/x-mpegurl")}function ni(e,t){e.dispatchEvent(Ne("onstatechange",new Map().set("state",t)))}p.Gc=function(e,t){t=t===void 0?!0:t;var n=this,i,r;return C(function(o){switch(o.g){case 1:if(n.l==Ln)throw new I(2,7,7e3);if(!n.h||n.h==e){o.F(2);break}return y(o,n.detach(),2);case 2:return y(o,rc(n,"attach"),4);case 4:if(o.h)return o.return();if($(o,5,6),ni(n,"attach"),i=function(){var a=cc(n);a&&Xi(n,a)},n.Fb.o(e,"error",i),n.h=e,!t||!Cn()||n.I){o.F(6);break}return y(o,oc(n),6);case 6:At(o),n.W.release(),gt(o,0);break;case 5:return r=Q(o),y(o,n.detach(),10);case 10:throw r}})},p.Eg=function(e){this.Bh=e},p.detach=function(e){e=e===void 0?!1:e;var t=this;return C(function(n){if(n.g==1){if(t.l==Ln)throw new I(2,7,7e3);return y(n,t.Wc(!1,e),2)}if(n.g!=3)return y(n,rc(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.Fb.ub(),t.h=null),ni(t,"detach"),t.D&&!e&&t.D.release()}finally{t.W.release()}O(n)})};function rc(e,t){var n;return C(function(i){return i.g==1?(n=++e.He,y(i,Zd(e.W,t),2)):n!=e.He?(e.W.release(),i.return(!0)):i.return(!1)})}p.Wc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,i,r,o,a,u,s,l,d,c;return C(function(f){switch(f.g){case 1:return n.l!=Ln&&(n.l=hc),y(f,rc(n,"unload"),2);case 2:return f.h?f.return():(pt(f,3),n.Xa=!1,ni(n,"unload"),e&&!Cn()&&(e=!1),Wu(n),i=n.Ib.map(function(h){return h()}),n.Ib=[],y(f,Promise.all(i),5));case 5:if(n.dispatchEvent(Ne("unloading")),n.ua&&(n.ua.release(),n.ua=null),n.h&&(n.s.ub(),n.va.ub()),n.se.stop(),n.xb&&(n.xb.release(),n.xb=null),!n.H){f.F(6);break}return y(f,n.H.stop(),7);case 7:n.H=null,n.Ie=null;case 6:if(!n.u){f.F(8);break}return y(f,n.u.stop(),8);case 8:if(!n.j){f.F(10);break}return y(f,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.K&&(n.K.release(),n.K=null),n.G&&(n.G.release(),n.G=null),!n.I){f.F(12);break}return y(f,n.I.destroy(),13);case 13:n.I=null;case 12:if(n.D&&!t&&n.D.onAssetUnload(),n.Z&&(n.Z.g=null),n.h&&yi(n.h),!n.h||!n.h.src){f.F(14);break}return y(f,new Promise(function(h){return new re(h).S(.1)}),15);case 15:n.h.removeAttribute("src"),n.h.load();case 14:if(!n.m){f.F(16);break}return y(f,n.m.destroy(),17);case 17:n.m=null;case 16:if(n.aa=null,n.M=null,n.i){for(r=m(n.i.variants),o=r.next();!o.done;o=r.next())for(a=o.value,u=m([a.audio,a.video]),s=u.next();!s.done;s=u.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(d=m(n.i.textStreams),s=d.next();!s.done;s=d.next())c=s.value,c.segmentIndex&&c.segmentIndex.release()}n.i=null,n.C=new gg,n.xg=null,n.tc=[],n.N=NaN,lc(n);case 3:At(f),n.W.release(),gt(f,4);break;case 4:if(e&&Cn()&&!n.I)return y(f,oc(n),0);f.F(0)}})},p.xj=function(e){this.ha=e},p.load=function(e,t,n){t=t===void 0?null:t;var i=this,r,o,a,u,s;return C(function(l){switch(l.g){case 1:if(i.l==Ln)throw new I(2,7,7e3);return y(l,Zd(i.W,"load"),2);case 2:if(i.W.release(),!i.h)throw new I(2,7,7002);if(!i.aa){l.F(3);break}return y(l,i.Wc(!1),3);case 3:if(r=++i.He,o=function(){if(i.He!=r)throw new I(2,7,7e3)},a=function(d,c){return C(function(f){switch(f.g){case 1:return pt(f,2),y(f,Zd(i.W,c),4);case 4:return o(),y(f,d(),5);case 5:o();case 2:At(f),i.W.release(),gt(f,0)}})},$(l,5),i.ha=t,i.Xa=!1,i.dispatchEvent(Ne("loading")),u=Date.now()/1e3,i.C=new gg,i.aa=e,n){l.F(7);break}return y(l,a(function(){return C(function(d){if(d.g==1)return y(d,Yw(i),2);n=d.h,O(d)})},"guessMimeType_"),7);case 7:if($w(i,n))return y(l,a(function(){return C(function(d){return y(d,eA(i,n),0)})},"initializeSrcEqualsDrmInner_"),16);if(i.I){l.F(11);break}return y(l,a(function(){return C(function(d){return y(d,oc(i),0)})},"initializeMediaSourceEngineInner_"),11);case 11:return y(l,a(function(){return C(function(d){return y(d,Qw(i,n),0)})},"parseManifestInner_"),13);case 13:return y(l,a(function(){return C(function(d){return y(d,Jw(i),0)})},"initializeDrmInner_"),14);case 14:return y(l,a(function(){return C(function(d){return y(d,Zw(i,u),0)})},"loadInner_"),10);case 16:return y(l,a(function(){return C(function(d){return y(d,tA(i,u,n),0)})},"srcEqualsInner_"),10);case 10:i.dispatchEvent(Ne("loaded")),oe(l,0);break;case 5:if(s=Q(l),s.code==7e3){l.F(18);break}return y(l,i.Wc(!1),18);case 18:throw s}})};function Yw(e){var t,n;return C(function(i){return i.g==1?(t=e.g.manifest.retryParameters,y(i,zd(e.aa,e.J,t),2)):(n=i.h,n=="application/x-mpegurl"&&qo()&&(n="application/vnd.apple.mpegurl"),i.return(n))})}function $w(e,t){if(!Cn())return!0;if(t){if((e.h||cf()).canPlayType(t)=="")return!1;if(!(Cn()&&t in mn))return!0;if(t==="application/x-mpegurl"||t==="application/vnd.apple.mpegurl"){if(e.g.streaming.preferNativeHls)return!0;if(qo())return e.g.streaming.useNativeHlsOnSafari}}return!1}function oc(e){var t,n,i,r,o;return C(function(a){if(a.g==1)return ni(e,"media-source"),t=e.g.textDisplayFactory,n=t(),e.xg=t,i=lA(e.h,n,function(u,s,l){yg(e,u,s,l)},e.L),i.configure(e.g.mediaSource),r=e.g.manifest,o=r.segmentRelativeVttTiming,i.Z=o,y(a,i.L,2);e.I=i,O(a)})}function Qw(e,t){var n,i,r,o,a,u,s,l;return C(function(d){if(d.g==1)return n=e.J,ni(e,"manifest-parser"),e.Ie=sm(e.aa,t||null),e.H=e.Ie(),i=Ui(e.g.manifest),e.h&&e.h.nodeName==="AUDIO"&&(i.disableVideo=!0),e.H.configure(i),e.ua=new Vd(function(){return e.Ha()}),e.ua.addEventListener("regionadd",function(c){c=c.region,la(e,"timelineregionadded",c),e.D&&e.D.onDashTimedMetadata(c)}),e.sa=null,e.g.streaming.observeQualityChanges&&(e.sa=new Vu(function(){return e.Lb()}),e.sa.addEventListener("qualitychange",function(c){var f=c.quality;c=c.position,f=new Map().set("mediaQuality",{bandwidth:f.bandwidth,audioSamplingRate:f.audioSamplingRate,codecs:f.codecs,contentType:f.contentType,frameRate:f.frameRate,height:f.height,mimeType:f.mimeType,channelsCount:f.channelsCount,pixelAspectRatio:f.pixelAspectRatio,width:f.width}).set("position",c),e.dispatchEvent(Ne("mediaqualitychanged",f))})),r={networkingEngine:n,filter:function(c){return Lg(e,c)},makeTextStreamsForClosedCaptions:function(c){return hA(e,c)},onTimelineRegionAdded:function(c){var f=e.ua;e:{for(var h=m(f.g),g=h.next();!g.done;g=h.next())if(g=g.value,g.schemeIdUri==c.schemeIdUri&&g.id==c.id&&g.startTime==c.startTime&&g.endTime==c.endTime){h=g;break e}h=null}h==null&&(f.g.add(c),c=new B("regionadd",new Map([["region",c]])),f.dispatchEvent(c))},onEvent:function(c){return e.dispatchEvent(c)},onError:function(c){return Xi(e,c)},isLowLatencyMode:function(){return e.g.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.g.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&e.j.updateDuration()},newDrmInfo:function(c){var f=e.m?e.m.g:null;f&&e.m.u&&sc(e,f.keySystem,c)},onManifestUpdated:function(){var c=new Map().set("isLive",e.R());e.dispatchEvent(Ne("manifestupdated",c)),e.D&&e.D.onManifestUpdated(e.R())},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()}},o=Date.now()/1e3,ni(e,"manifest"),a=e,y(d,e.H.start(e.aa,r),2);if(a.i=d.h,u=Ne("manifestparsed"),e.dispatchEvent(u),e.i.variants.length==0)throw new I(2,4,4036);oA(e.i),s=Date.now()/1e3,l=s-o,e.C.H=l,O(d)})}function Jw(e){var t,n,i;return C(function(r){return r.g==1?(ni(e,"drm-engine"),t=Date.now()/1e3,n=!0,e.m=Sg(e,{zc:e.J,onError:function(o){Xi(e,o)},Fe:function(o){Og(e,o)},onExpirationUpdated:function(o,a){Vg(e,o,a)},onEvent:function(o){e.dispatchEvent(o),o.type=="drmsessionupdate"&&n&&(n=!1,e.C.j=Date.now()/1e3-t,e.L&&Tm(e.L))}}),e.m.configure(e.g.drm),ff(e.i.variants,e.g.restrictions,e.Ee)&&e.j&&Vt(e),i=ad(e.i.variants),y(r,Xf(e.m,i,e.i.offlineSessionIds),2)):r.g!=3?y(r,e.m.Gc(e.h),3):y(r,Lg(e,e.i),0)})}function Zw(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w;return C(function(x){switch(x.g){case 1:for(ni(e,"load"),n=e.h,e.K=new Jo({ke:function(){return n.playbackRate},Lc:function(){return n.defaultPlaybackRate},pg:function(M){n.playbackRate=M},fh:function(M){n.currentTime+=M}}),i=function(){return Xu(e)},r=function(){return bg(e)},e.s.o(n,"playing",i),e.s.o(n,"pause",i),e.s.o(n,"ended",i),e.s.o(n,"ratechange",r),Xw(e,e.g),o=e.g.abrFactory,e.u&&e.fg==o||(e.fg=o,e.u=o(),typeof e.u.setMediaElement!="function"&&(pn("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),e.u.setMediaElement=function(){}),typeof e.u.setCmsdManager!="function"&&(pn("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),e.u.setCmsdManager=function(){}),typeof e.u.trySuggestStreams!="function"&&(pn("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),e.u.trySuggestStreams=function(){}),e.u.configure(e.g.abr)),e.Ra=new Mr(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferSpatialAudio,e.g.preferredVideoLayout,e.g.preferredAudioLabel,e.g.preferredVideoLabel,e.g.mediaSource.codecSwitchingStrategy,e.g.manifest.dash.enableAudioGroups),e.Wa=e.g.preferredTextLanguage,e.nc=e.g.preferredTextRole,e.Xb=e.g.preferForcedSubs,pc(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u.init(function(M,b,L){e.j&&M!=e.j.j&&$u(e,M,!0,b===void 0?!1:b,L===void 0?0:L)}),e.u.setMediaElement(n),e.u.setCmsdManager(e.Z),hf(e.i,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes),e.j=cA(e),e.j.configure(e.g.streaming),e.l=yt,n.textTracks&&e.s.o(n.textTracks,"addtrack",function(M){if(M.track)switch(M=M.track,M.kind){case"chapters":Tg(e,M)}}),e.dispatchEvent(Ne("streaming")),a=null,(u=e.j.j)||(a=Pg(e,!0)),s=[],l=u||a,d=m([l.video,l.audio]),c=d.next();!c.done;c=d.next())(f=c.value)&&!f.segmentIndex&&s.push(f.createSegmentIndex());if(!(0<s.length)){x.F(2);break}return y(x,Promise.all(s),2);case 2:if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(l),pc(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.G=uA(e,e.ha),e.xb=sA(e,t),h=Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal),wg(e,n,h),u){x.F(4);break}if($u(e,a,!0,!1,0),!e.g.streaming.startAtSegmentBoundary){x.F(4);break}return g=e.G,v=g.ef,y(x,mA(a,e.G.Yd()),6);case 6:v.call(g,x.h);case 4:return e.G.df(),E=e.bc().find(function(M){return M.active}),E||((S=Go(e.i.textStreams,e.Wa,e.nc,e.Xb)[0]||null)&&ic(e.C.h,S,!0),a&&(S?(a.audio&&vA(e,a.audio,S)&&(e.$=!0),e.$&&e.I.H.setTextVisibility(!0),_g(e)):e.$=!1),S&&(e.g.streaming.alwaysStreamText||e.xc())&&ju(e.j,S)),y(x,e.j.start(),7);case 7:e.g.abr.enabled&&(e.u.enable(),Ug(e)),Vt(e),Xr(e),e.i.variants.some(function(M){return M.primary}),(T=e.R())&&(e.g.streaming.liveSync||e.i.serviceDescription)?(A=function(){return Dg(e)},e.s.o(n,"timeupdate",A)):T||(w=function(){return Yu(e)},e.s.o(n,"timeupdate",w),Yu(e)),e.D&&e.D.onManifestUpdated(T),e.Xa=!0,e.s.na(n,"loadedmetadata",function(){e.C.m=Date.now()/1e3-t}),O(x)}})}function eA(e,t){var n,i,r,o;return C(function(a){return a.g==1?(n=Ze,i=Date.now()/1e3,r=!0,e.m=Sg(e,{zc:e.J,onError:function(u){Xi(e,u)},Fe:function(u){Og(e,u)},onExpirationUpdated:function(u,s){Vg(e,u,s)},onEvent:function(u){e.dispatchEvent(u),u.type=="drmsessionupdate"&&r&&(r=!1,e.C.j=Date.now()/1e3-i)}}),e.m.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?zn(t):"",codecs:t?cn(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.ia,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.m.Z=!0,y(a,Xf(e.m,[o],[]),2)):y(a,e.m.Gc(e.h),0)})}function tA(e,t,n){var i,r,o,a,u,s,l,d,c,f;return C(function(h){if(h.g==1)return ni(e,"src-equals"),i=e.h,e.G=new Om(i),r=!1,e.Ib.push(function(){r=!0}),e.ha!=null&&e.G.ef(e.ha),e.K=new Jo({ke:function(){return i.playbackRate},Lc:function(){return i.defaultPlaybackRate},pg:function(g){i.playbackRate=g},fh:function(g){i.currentTime+=g}}),o=e.g.streaming.rebufferingGoal,wg(e,i,o),a=function(){return Xu(e)},u=function(){return bg(e)},e.s.o(i,"playing",a),e.s.o(i,"pause",a),e.s.o(i,"ended",a),e.s.o(i,"ratechange",u),i.preload!="none"&&e.s.na(i,"loadedmetadata",function(){e.C.m=Date.now()/1e3-t}),i.audioTracks&&(e.s.o(i.audioTracks,"addtrack",function(){return Vt(e)}),e.s.o(i.audioTracks,"removetrack",function(){return Vt(e)}),e.s.o(i.audioTracks,"change",function(){return Vt(e)})),i.textTracks&&(e.s.o(i.textTracks,"addtrack",function(g){if(g.track)switch(g=g.track,g.kind){case"metadata":rA(e,g);break;case"chapters":Tg(e,g);break;default:Vt(e)}}),e.s.o(i.textTracks,"removetrack",function(){return Vt(e)}),e.s.o(i.textTracks,"change",function(){return Vt(e)})),i.src=Vw(e.V,e.aa,n),(Oi()||Ue("Web0S"))&&i.load(),e.l=ft,e.dispatchEvent(Ne("streaming")),s=new De,jr(i,HTMLMediaElement.HAVE_METADATA,e.s,function(){e.G.df(),s.resolve()}),jr(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.s,function(){var g;return C(function(v){if(v.g==1)return nA(e),g=sa(e),g.find(function(E){return E.mode!="disabled"})?(0<g.length&&(e.$=!0),v.F(2)):y(v,new Promise(function(E){e.s.na(i.textTracks,"change",E),new re(E).S(1)}),2);if(r)return v.return();iA(e),O(v)})}),i.error?s.reject(cc(e)):i.preload=="none"&&(pe('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),e.s.na(i,"error",function(){s.reject(cc(e))}),y(h,s,2);(l=e.R())&&e.g.streaming.liveSync?(d=function(){return Dg(e)},e.s.o(i,"timeupdate",d)):l||(c=function(){return Yu(e)},e.s.o(i,"timeupdate",c),Yu(e)),e.D&&(e.D.onManifestUpdated(l),l&&(f=e.Ha().end,e.s.o(i,"progress",function(){var g=e.Ha().end;f!=g&&(e.D.onManifestUpdated(e.R()),f=g)}))),e.Xa=!0,O(h)})}function nA(e){var t=e.g.preferredAudioLanguage;t!=""&&e.Le(t,e.g.preferredVariantRole)}function iA(e){var t=e.g.preferredTextLanguage;t!=""&&e.ig(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function rA(e,t){if(t.kind=="metadata"){t.mode="hidden",e.s.o(t,"cuechange",function(){if(t.activeCues)for(var i=m(t.activeCues),r=i.next();!r.done;r=i.next())r=r.value,Eg(e,r.startTime,r.endTime,r.type,r.value),e.D&&e.D.onCueMetadataChange(r.value)});var n=new re(function(){var i=pA(e);i=m(i);for(var r=i.next();!r.done;r=i.next())r.value.mode="hidden"}).Qa().S(.5);e.Ib.push(function(){n.stop()})}}function yg(e,t,n,i){t=m(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,r.data&&r.cueTime&&r.frames){var o=r.cueTime+n,a=i;a&&o>a&&(a=o);for(var u=m(r.frames),s=u.next();!s.done;s=u.next())Eg(e,o,a,"org.id3",s.value);e.D&&e.D.onHlsTimedMetadata(r,o)}}function Eg(e,t,n,i,r){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",i).set("payload",r),e.dispatchEvent(Ne("metadata",t))}function Tg(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new re(function(){t.mode="hidden"}).Qa().S(.5);e.Ib.push(function(){n.stop()})}}function oA(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}p.dj=function(){for(var e=this.W;e.g;)e.release()};function Sg(e,t){return new Lu(t,e.g.drm.updateExpirationTime)}function aA(e){return new ke(function(t,n,i){e.u&&e.u.segmentDownloaded(t,n,i)},function(t,n,i){if(n=new Map().set("headers",t).set("request",n).set("requestType",i),e.dispatchEvent(Ne("downloadheadersreceived",n)),e.Z&&(n=e.Z,n.h.enabled)){if(i=t["cmsd-static"])try{var r=new Map,o=i.split(",");for(i=0;i<o.length;i++){var a=o[i].split("=");r.set(a[0],sg(a[1]))}}catch{}if(t=t["cmsd-dynamic"]){try{var u=new Map,s=t.split(";");for(t=1;t<s.length;t++){var l=s[t].split("=");u.set(l[0],sg(l[1]))}var d=u}catch{d=null}d&&(n.g=d)}}},function(t,n,i,r){t=new Map().set("request",t).set("error",n).set("httpResponseCode",i).set("aborted",r),e.dispatchEvent(Ne("downloadfailed",t))},function(t,n,i){var r=e.V;if(i=i===void 0?{}:i,r.g.enabled)if(n.method==="HEAD")qr(r,n);else switch(t){case 0:try{if(r.g.enabled){if(i.type){e:{switch(i.type){case 4:var o="d";break e;case 3:case 2:o="h";break e;case 5:o="s";break e}o=void 0}r.m=o}qr(r,n,{ot:ug,su:!r.i})}}catch(d){bi("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",d)}break;case In:t=i;try{if(r.g.enabled){var a=t.segment;o=0,a&&(o=a.endTime-a.startTime);var u={d:1e3*o,st:r.h.R()?"l":"v"};u.ot=Hw(t);var s=u.ot===qu||u.ot===Fu||u.ot===Gu||u.ot===Qd,l=t.stream;l&&(s&&(u.bl=jw(r,l.type)),l.bandwidth&&(u.br=l.bandwidth/1e3)),s&&u.ot!==Qd&&(u.tb=Bw(r,u.ot)/1e3),qr(r,n,u)}}catch(d){bi("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",d)}break;case 2:case 5:case 6:qr(r,n,{ot:"k"});break;case 4:qr(r,n,{ot:"o"})}},function(t,n,i,r){e.H&&e.H.banLocation&&e.H.banLocation(r)})}function uA(e,t){return new Vm(e.h,e.i,e.g.streaming,t,function(){e.xb&&qm(e.xb,!0),e.j&&e.j.Kd(),e.M&&Kr(e)},function(n){return e.dispatchEvent(n)})}function sA(e,t){t=new Hu(e.ua,e.R()||0<t),t.addEventListener("enter",function(i){la(e,"timelineregionenter",i.region)}),t.addEventListener("exit",function(i){la(e,"timelineregionexit",i.region)}),t.addEventListener("skip",function(i){var r=i.region;i.seeking||(la(e,"timelineregionenter",r),la(e,"timelineregionexit",r))});var n=new Fm(e.h);return n.g.add(t),e.sa&&n.g.add(e.sa),n}function wg(e,t,n){e.M=new tS,e.M.g=Lr,bf(e.M,n,Math.min(.5,n/2)),lc(e),e.s.o(t,"waiting",function(){return Kr(e)}),e.s.o(t,"stalled",function(){return Kr(e)}),e.s.o(t,"canplaythrough",function(){return Kr(e)}),e.s.o(t,"progress",function(){return Kr(e)})}function Kr(e){switch(e.l){case ft:if(e.h.ended)var t=!0;else{var n=Sd(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case yt:e:if(e.h.ended||xm(e.I))t=!0;else{if(e.i.presentationTimeline.R()){n=e.i.presentationTimeline.ac();var i=Sd(e.h.buffered);if(i!=null&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=pm(e.h.buffered,e.h.currentTime),n=e.M;var r=t,o=n.h.get(n.g);t=n.g,i=r||i>=o?Tu:Lr,n.g=i,t!=i&&lc(e)}function lA(e,t,n,i){return new wm(e,t,n,i)}function dA(e){return new ag({getBandwidthEstimate:function(){return e.u?e.u.getBandwidthEstimate():NaN},Lb:function(){return e.Lb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},Nb:function(){return e.Nb()},Zb:function(){return e.Zb()},mb:function(){return e.mb()},R:function(){return e.R()}},e.g.cmcd)}function cA(e){return new Wm(e.i,{je:function(){return e.G?e.G.Yd():0},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},Y:e.I,zc:e.J,onError:function(t){return Xi(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Xi:function(){e.H&&e.H.update&&e.H.update()},Zf:function(t,n){var i=t.startTime,r=t.endTime,o=n.type;e.G&&e.G.gh(),Kr(e),i=new Map().set("start",i).set("end",r).set("contentType",o),e.dispatchEvent(Ne("segmentappended",i)),e.u&&n.fastSwitching&&t.Fd&&t.ue&&e.u.trySuggestStreams()},Wi:function(t,n){(n=n.Uf)&&e.sa&&cw(e.sa,n,t)},Gg:function(t,n){var i=e.m;if(i.h.parseInbandPsshEnabled&&!i.H&&["audio","video"].includes(t)){n=new zf(ae(n));var r=0,o=m(n.data);for(t=o.next();!t.done;t=o.next())r+=t.value.length;if(r==0)i=Promise.resolve();else{for(r=new Uint8Array(r),o=0,n=m(n.data),t=n.next();!t.done;t=n.next())t=t.value,r.set(t,o),o+=t.length;Xo(i,"cenc",r),i=i.l}}else i=Promise.resolve();return i},Yi:function(t,n,i){yg(e,t,n,i)},ce:function(t,n){return e.ce(t,n)}})}p.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=zu(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(pn("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(pn("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01),e.streaming.segmentPrefetchLimit==null&&(e.streaming.segmentPrefetchLimit=2),e.streaming.retryParameters==null&&(e.streaming.retryParameters={}),e.streaming.retryParameters.baseDelay==null&&(e.streaming.retryParameters.baseDelay=100),e.manifest==null&&(e.manifest={}),e.manifest.retryParameters==null&&(e.manifest.retryParameters={}),e.manifest.retryParameters.baseDelay==null&&(e.manifest.retryParameters.baseDelay=100),e.drm==null&&(e.drm={}),e.drm.retryParameters==null&&(e.drm.retryParameters={}),e.drm.retryParameters.baseDelay==null&&(e.drm.retryParameters.baseDelay=100));var n=zr(this.g,e,Wr(this));return Ag(this),n};function Ag(e){if(e.H){var t=Ui(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.H.configure(t)}if(e.m&&e.m.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{kg(e,e.i)}catch(o){Xi(e,o)}e.u&&Xr(e),t=e.j.j,!t||t.allowedByApplication&&t.allowedByKeySystem||Yr(e)}if(e.J&&e.J.mg(e.g.streaming.forceHTTPS),e.I&&(e.I.configure(e.g.mediaSource),e.I.Z=e.g.manifest.segmentRelativeVttTiming,t=e.g.textDisplayFactory,e.xg!=t)){var n=t(),i=e.I,r=i.H;i.H=n,r&&(n.setTextVisibility(r.isTextVisible()),r.destroy()),i.h&&(i.h.j=n),e.xg=t,e.j&&(t=e.j,(n=t.i.get(me))&&Fr(t,n.stream,!0,0,!0))}e.u&&(e.u.configure(e.g.abr),e.g.abr.enabled?e.u.enable():e.u.disable(),Ug(e)),e.M&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),bf(e.M,t,Math.min(.5,t/2))),e.i&&pc(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.D&&e.D.configure(e.g.ads),e.V&&e.V.configure(e.g.cmcd),e.Z&&e.Z.configure(e.g.cmsd)}p.getConfiguration=function(){var e=Wr(this);return zr(e,this.g,Wr(this)),e},p.Uh=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Ha().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},p.hj=function(){for(var e in this.g)delete this.g[e];zr(this.g,Wr(this),Wr(this)),Ag(this)},p.ie=function(){return this.l},p.If=function(){return this.i?this.i.type:null},p.ni=function(){return this.h},p.Zb=function(){return this.J},p.Gf=function(){return this.aa},p.ee=function(){return this.D?this.D:null},p.R=function(){return this.i?this.i.presentationTimeline.R():this.h&&this.h.src?this.h.duration==1/0:!1},p.wc=function(){return this.i?this.i.presentationTimeline.wc():!1},p.Pc=function(){if(this.i){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},p.Ha=function(){if(this.i){if(!this.Xa&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Nc(),end:e.Ob()}}return this.h&&this.h.src&&(e=this.h.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},p.Fi=function(){this.R()&&(this.h.currentTime=this.Ha().end)},p.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},p.drmInfo=function(){return this.m?this.m.g:null},p.td=function(){return this.m?this.m.td():1/0},p.Ff=function(){return this.m?this.m.Ff():[]},p.ge=function(){return this.m?this.m.ge():{}},p.yd=function(){return this.M?this.M.g==Lr:!1},p.Nb=function(){return this.h?this.K?this.K.h:1:0},p.Pd=function(e){var t=this;e==0?pe("A trick play rate of 0 is unsupported!"):(this.va.ub(),this.h.paused&&this.h.play(),this.K.set(e),this.l==yt&&(this.u.playbackRateChanged(e),Xm(this.j,1<Math.abs(e))),this.R()&&this.va.o(this.h,"timeupdate",function(){var n=t.h.currentTime,i=t.Ha(),r=t.g.streaming.safeSeekOffset;0<e?n>=i.end&&t.od():n<=i.start+r&&t.od()}))},p.od=function(){var e=this.K.Lc();this.l==ft&&this.K.set(e),this.l==yt&&(this.K.set(e),this.u.playbackRateChanged(e),Xm(this.j,!1)),this.va.ub()},p.mb=function(){if(this.i){for(var e=this.j?this.j.j:null,t=[],n=0,i=m(this.i.variants),r=i.next();!r.done;r=i.next())if(r=r.value,vu(r)){var o=Ir(r);o.active=r==e,o.active||n==1||e==null||r.video!=e.video||r.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(a){return od(a)}):[]},p.bc=function(){if(this.i){for(var e=this.j?this.j.s:null,t=[],n=m(this.i.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=gu(i);r.active=i==e,t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?sa(this).map(function(o){return Tf(o)}):[]},p.fe=function(){var e=this.tc;return this.i&&(e=this.i.imageStreams),e.map(function(t){return id(t)})},p.Rh=function(e){var t=this,n,i,r,o;return C(function(a){return a.g==1?t.l!=yt&&t.l!=ft?a.return(null):(n=t.tc,t.i&&(n=t.i.imageStreams),(i=n.find(function(u){return u.id==e}))?i.segmentIndex?a.F(2):y(a,i.createSegmentIndex(),2):a.return(null)):a.g!=4?(r=[],Ud(i.segmentIndex,function(u){var s=xg(u.tilesLayout||i.tilesLayout);if(s){s=s.rows*s.mc;for(var l=u.h-u.startTime,d=0;d<s;d++)r.push(t.Kf(e,u.startTime+l*d/s))}}),y(a,Promise.all(r),4)):(o=a.h,a.return(o.filter(function(u){return u})))})};function xg(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{mc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}p.Kf=function(e,t){var n=this,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w;return C(function(x){return x.g==1?n.l!=yt&&n.l!=ft?x.return(null):(i=n.tc,n.i&&(i=n.i.imageStreams),(r=i.find(function(M){return M.id==e}))?r.segmentIndex?x.F(2):y(x,r.createSegmentIndex(),2):x.return(null)):(o=r.segmentIndex.find(t),o==null||(a=r.segmentIndex.get(o),u=xg(a.tilesLayout||r.tilesLayout),!u)?x.return(null):(s=r.width||0,l=r.height||0,d=s/u.mc,c=l/u.rows,f=u.mc*u.rows,h=a.h-a.startTime,g=a.C||h/f,v=a.startTime,S=E=0,1<f&&(T=Math.floor((t-a.startTime)/g),v=a.startTime+T*g,E=T%u.mc*d,S=Math.floor(T/u.mc)*c),A=!1,(w=a.u)&&(A=!0,c=w.height,E=w.positionX,S=w.positionY,d=w.width),x.return({segment:a,imageHeight:l,imageWidth:s,height:c,positionX:E,positionY:S,startTime:v,duration:g,uris:a.ba(),width:d,sprite:A})))})},p.jg=function(e){if(this.i&&this.j){var t=this.i.textStreams.find(function(i){return i.id==e.id});t&&t!=this.j.s&&(ic(this.C.h,t,!1),ju(this.j,t),Qu(this),this.Wa=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){t=sa(this),t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value,rd(n)==e.id?n.mode=this.$?"showing":"hidden":n.mode="disabled";Qu(this)}},p.Me=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.i&&this.j){this.g.abr.enabled&&pe("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=this.i.variants.find(function(r){return r.id==e.id});i&&vu(i)&&($u(this,i,!1,t,n),this.Ra=new kf(i,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Xr(this))}else if(this.h&&this.h.audioTracks){for(t=Array.from(this.h.audioTracks),t=m(t),n=t.next();!n.done;n=t.next())if(n=n.value,rd(n)==e.id){Rg(this,n);break}}},p.Th=function(){return Bg(this.mb())},p.xi=function(){return Bg(this.bc())},p.Sh=function(){return Array.from(jg(this.mb()))},p.wi=function(){return Array.from(jg(this.bc()))},p.Le=function(e,t,n,i){if(n=n===void 0?0:n,i=i===void 0?0:i,this.i&&this.G){this.Ra=new Mr(e,t||"",n,"",!1,"","","",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),e=function(a,u){return a.video||u.video?a.video&&u.video?Math.abs((a.video.height||0)-(u.video.height||0))+Math.abs((a.video.width||0)-(u.video.width||0)):1/0:0},t=this.j.j;var r=this.Ra.create(this.i.variants);n=null,r=m(r.values());for(var o=r.next();!o.done;o=r.next())o=o.value,(!n||e(n,t)>e(o,t))&&(n=o);n?(e=Ir(n),this.Me(e,!0,i)):Yr(this)}else this.h&&this.h.audioTracks&&(i=Go(this.mb(),e,t||"",!1)[0])&&this.Me(i)},p.ig=function(e,t,n){n=n===void 0?!1:n,this.i&&this.G?(this.Wa=e,this.nc=t||"",this.Xb=n,(e=Go(this.i.textStreams,this.Wa,this.nc,this.Xb)[0]||null)&&e!=this.j.s&&(ic(this.C.h,e,!1),this.g.streaming.alwaysStreamText||this.xc())&&(ju(this.j,e),Qu(this))):(e=Go(this.bc(),e,t||"",n)[0])&&this.jg(e)},p.oj=function(e,t,n){if(t=t===void 0?!0:t,n=n===void 0?0:n,this.i&&this.G){for(var i=null,r=m(this.i.variants),o=r.next();!o.done;o=r.next())if(o=o.value,o.audio.label==e){i=o;break}i!=null&&(this.Ra=new Mr(i.language,"",0,"",!1,"",e,"",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Yr(this,t,n))}else if(this.h&&this.h.audioTracks){for(n=Array.from(this.h.audioTracks),t=null,n=m(n),i=n.next();!i.done;i=n.next())i=i.value,i.label==e&&(t=i);t&&Rg(this,t)}},p.xc=function(){var e=this.$;return this.I&&this.l==yt?this.I.H.isTextVisible():this.h&&this.h.src&&this.h.textTracks?sa(this).some(function(t){return t.mode=="showing"}):e},p.Sg=function(){return this.h&&this.h.src&&this.h.textTracks?Cg(this).map(function(e){return Tf(e)}):[]},p.Wh=function(e){if(!this.h||!this.h.src||!this.h.textTracks)return[];var t=ve(e),n=Cg(this).filter(function(u){return ve(u.language)==t});if(!n||!n.length)return[];e=[];var i=new Set;n=m(n);for(var r=n.next();!r.done;r=n.next())if((r=r.value)&&r.cues){r=m(r.cues);for(var o=r.next();!o.done;o=r.next()){var a=o.value;(o=a.id)&&o!=""||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},i.has(o)||(e.push(a),i.add(o))}}return e};function sa(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function pA(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function Cg(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}p.Oe=function(e){if(e=!!e,this.$!=e){if(this.$=e,this.l==yt)this.I.H.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.s||(e=Go(this.i.textStreams,this.Wa,this.nc,this.Xb),0<e.length&&(ju(this.j,e[0]),Qu(this))):yw(this.j));else if(this.h&&this.h.src&&this.h.textTracks){var t=sa(this);t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.mode!="disabled"&&(n.mode=e?"showing":"hidden")}_g(this)}},p.oi=function(){if(!this.R())return null;if(this.G)var e=this.G.Yd();else{if(this.ha==null)return new Date;e=this.ha}if(this.i)return new Date(1e3*(this.i.presentationTimeline.i+e));if(this.h&&this.h.getStartDate){var t=this.h.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)}return null},p.Vg=function(){if(!this.R())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.h&&this.h.getStartDate){var e=this.h.getStartDate();return isNaN(e.getTime())?null:e}return null},p.Lb=function(){if(this.l==yt)return this.I.Lb();var e={total:[],audio:[],video:[],text:[]};return this.l==ft&&(e.total=vi(this.h.buffered)),e},p.getStats=function(){if(this.l!=yt&&this.l!=ft)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Xu(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.C;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.C.M=this.G.Bg(),this.C.N=this.G.Cg()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.C;var i=Number(n.totalVideoFrames);t.L=Number(n.droppedVideoFrames),t.K=i,this.C.J=Number(n.corruptedVideoFrames)}if(this.m?(n=this.m,n=n.K?n.K:NaN):n=NaN,this.C.u=n,this.l==yt){if(n=this.j.j,t=this.j.s,n){i=this.K?this.K.h:1;var r=i*n.bandwidth;t&&t.bandwidth&&(r+=i*t.bandwidth),this.C.D=r}n&&n.video&&(t=this.C,i=n.video.height||NaN,t.s=n.video.width||NaN,t.l=i),this.R()&&(n=this.Vg().valueOf()+1e3*e.currentTime,this.C.G=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.C.I=this.i.presentationTimeline.g),n=this.u.getBandwidthEstimate(),this.C.C=n}this.l==ft&&(n=this.C,t=e.videoHeight||NaN,n.s=e.videoWidth||NaN,n.l=t);var o=this.C;e=o.s,n=o.l,t=o.D,i=o.K,r=o.L;var a=o.J,u=o.N,s=o.M,l=o.C,d=o.i,c=o.m,f=o.H,h=o.j,g=nc(o.g,"playing"),v=nc(o.g,"paused"),E=nc(o.g,"buffering"),S=o.u,T=o.G,A=o.I,w=Kw(o.g),x=[];o=m(o.h.g);for(var M=o.next();!M.done;M=o.next())M=M.value,x.push({timestamp:M.timestamp,id:M.id,type:M.type,fromAdaptation:M.fromAdaptation,bandwidth:M.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:i,droppedFrames:r,corruptedFrames:a,stallsDetected:u,gapsJumped:s,estimatedBandwidth:l,completionPercent:d,loadLatency:c,manifestTimeSeconds:f,drmTimeSeconds:h,playTime:g,pauseTime:v,bufferingTime:E,licenseTime:S,liveLatency:T,maxSegmentDuration:A,stateHistory:w,switchHistory:x}},p.Hh=function(e,t,n,i,r,o,a){a=a===void 0?!1:a;var u=this,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:if(u.l!=yt&&u.l!=ft)throw new I(1,7,7004);if(n!="subtitles"&&n!="captions"&&pe("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),i){w.F(2);break}return y(w,ac(u,e),3);case 3:i=w.h;case 2:if(s=[],u.D&&(s=u.D.getCuePoints()),u.l!=ft){w.F(4);break}return a&&(n="forced"),y(w,Ig(u,e,t,n,i,o||"",s),5);case 5:if(l=ve(t),d=u.bc(),c=d.find(function(x){return ve(x.language)==l&&x.label==(o||"")&&x.kind==n}))return Vt(u),w.return(c);throw new I(1,2,2012);case 4:if(f=Ze,h=u.h.duration,u.i&&(h=u.i.presentationTimeline.getDuration()),h==1/0)throw new I(1,4,4033);if(!s.length){w.F(6);break}return y(w,uc(u,e,u.J,u.g.streaming.retryParameters),7);case 7:g=w.h,v=Mg(u,g,i,s),E=new Blob([v],{type:"text/vtt"}),e=Ou(E),i="text/vtt";case 6:if(S={id:u.Ag++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Od(0,h,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:f.Da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1},T=Ot(S.mimeType,S.codecs),A=du(T),!A)throw new I(2,2,2014,i);return u.i.textStreams.push(S),Vt(u),w.return(gu(S))}})},p.Ih=function(e,t){var n=this,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T;return C(function(A){switch(A.g){case 1:if(n.l!=yt&&n.l!=ft)throw new I(1,7,7004);if(t){A.F(2);break}return y(A,ac(n,e),3);case 3:t=A.h;case 2:if(t!="text/vtt")throw new I(1,2,2017,e);if(i=Ze,r=n.h.duration,n.i&&(r=n.i.presentationTimeline.getDuration()),r==1/0)throw new I(1,4,4045);return y(A,uc(n,e,n.J,n.g.streaming.retryParameters),4);case 4:if(o=A.h,a=nt[t],!a)throw new I(2,2,2014,t);for(u=a(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},l=ae(o),d=u.parseMedia(l,s,e),c=[],f={},h=m(d),g=h.next();!g.done;f={jd:f.jd,jc:f.jc},g=h.next())f.jc=g.value,f.jd=null,v=function(w){return function(){return w.jd==null&&(w.jd=ht([e],[w.jc.payload])),w.jd||[]}}(f),E=new J(f.jc.startTime,f.jc.endTime,v,0,null,null,0,0,1/0),f.jc.payload.includes("#xywh")&&(S=f.jc.payload.split("#xywh=")[1].split(","),S.length===4&&E.rh({height:parseInt(S[3],10),positionX:parseInt(S[0],10),positionY:parseInt(S[1],10),width:parseInt(S[2],10)})),c.push(E);return T={id:n.Ag++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new ye(c),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:i.cf,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1},n.l==ft?n.tc.push(T):n.i.imageStreams.push(T),Vt(n),A.return(id(T))}})},p.Gh=function(e,t,n){var i=this,r,o,a,u;return C(function(s){switch(s.g){case 1:if(i.l!=yt&&i.l!=ft)throw new I(1,7,7004);if(n){s.F(2);break}return y(s,ac(i,e),3);case 3:n=s.h;case 2:return r=[],i.D&&(r=i.D.getCuePoints()),y(s,Ig(i,e,t,"chapters",n,"",r),4);case 4:if(o=s.h,a=i.Sg(),u=a.find(function(l){return l.language==t}),!u){s.F(5);break}return y(s,new Promise(function(l,d){i.s.na(o,"load",l),i.s.na(o,"error",function(){d(new I(1,2,2015))})}),6);case 6:return Vt(i),s.return(u);case 5:throw new I(1,2,2012)}})};function ac(e,t){var n;return C(function(i){switch(i.g){case 1:return $(i,2),y(i,zd(t,e.J,e.g.streaming.retryParameters),4);case 4:n=i.h,oe(i,3);break;case 2:Q(i);case 3:if(n)return i.return(n);throw new I(1,2,2011,t)}})}function Ig(e,t,n,i,r,o,a){var u,s,l,d;return C(function(c){if(c.g==1)return r!="text/vtt"||a.length?y(c,uc(e,t,e.J,e.g.streaming.retryParameters),3):c.F(2);c.g!=2&&(u=c.h,s=Mg(e,u,r,a),l=new Blob([s],{type:"text/vtt"}),t=Ou(l),r="text/vtt"),d=document.createElement("track");var f=e.V,h=t;try{if(f.g.enabled){var g=Xd(f);g.ot=$d,g.su=!0;var v=Bu(g),E=Yd(h,v)}else E=h}catch(S){bi("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",S),E=h}return d.src=E,d.label=o,d.kind=i,d.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(d),c.return(d)})}function uc(e,t,n,i){var r,o,a;return C(function(u){if(u.g==1){r=In,o=it([t],i),o.method="GET";var s=e.V;try{s.g.enabled&&qr(s,o,{ot:$d,su:!0})}catch(l){bi("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return y(u,n.request(r,o).promise,2)}return a=u.h,u.return(a.data)})}function Mg(e,t,n,i){var r=nt[n];if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=ae(t),t=n.parseMedia(t,e,null),Ow(t,i);throw new I(2,2,2014,n)}p.ng=function(e,t){this.Ee.width=e,this.Ee.height=t},p.eg=function(e){if(this.l==yt){var t=this.j;if(e=e===void 0?.1:e,t.l.g)t=!1;else if(t.u)t=!1;else{for(var n=m(t.i.values()),i=n.next();!i.done;i=n.next())i=i.value,!i.wd||i.Ta||i.Eb||(i.wd=!1,gn(t,i,e));t=!0}}else t=!1;return t},p.ki=function(){return pe("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},p.li=function(){return this.Ie};function Wr(e){var t=Gr();return t.streaming.failureCallback=function(n){if(e.R()){var i=null;n.code==1001||n.code==1002?i=1:n.code==1003&&(i=.1),i!=null&&(n.severity=1,e.eg(i))}},t.textDisplayFactory=function(){return e.oe?new Qt(e.h,e.oe):HTMLMediaElement.prototype.addTextTrack?new Yt(e.h,"Shaka Player TextTrack"):new $t},t}p.rg=function(e){this.oe=e};function hA(e,t){for(var n=new Set,i=m(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,r.mimeType!="application/cea-608"&&r.mimeType!="application/cea-708"||n.add(r.originalId);for(i=m(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions){for(var o=m(r.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var u=a.startsWith("CC")?"application/cea-608":"application/cea-708",s=new qe,l=r.closedCaptions.get(a);u={id:e.Ag++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:s,mimeType:u,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:me,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1},t.textStreams.push(u),n.add(a)}}}function Lg(e,t){return C(function(n){if(n.g==1)return y(n,fA(e,t),2);kg(e,t),O(n)})}function fA(e,t){return C(function(n){if(n.g==1)return y(n,_T(e.m,t),2);if(!t.variants.some(vu))throw new I(2,4,4032);O(n)})}function kg(e,t){if(e.l!=Ln){ff(t.variants,e.g.restrictions,e.Ee)&&e.j&&Vt(e);var n=e.m?e.m.g:null;if(n&&e.m.u)for(var i=m(t.variants),r=i.next();!r.done;r=i.next())r=r.value,sc(e,n.keySystem,r.video),sc(e,n.keySystem,r.audio);Hg(e,t)}}function sc(e,t,n){if(n){n=m(n.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==t){i=m(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,Xo(e.m,r.initDataType,r.initData)}}}function mA(e,t){var n,i,r,o,a;return C(function(u){return u.g==1?(n=e.audio,i=e.video,r=function(s,l){var d,c,f;return C(function(h){return h.g==1?s?y(h,s.createSegmentIndex(),2):h.return(null):(c=(d=s.segmentIndex.rc(l))?d.next().value:null,c?(f=c.startTime,h.return(f)):h.return(null))})},y(u,r(n,t),2)):u.g!=3?(o=u.h,y(u,r(i,t),3)):(a=u.h,a!=null&&o!=null?u.return(Math.max(a,o)):a!=null?u.return(a):o!=null?u.return(o):u.return(t))})}function lc(e){var t=e.yd();if(e.C&&e.M&&e.G){if(e.V){var n=e.V;t||n.i||(n.i=!0),n.i&&t&&(n.j=!0),n.l=t}Xu(e)}t=new Map().set("buffering",t),e.dispatchEvent(Ne("buffering",t))}function bg(e){var t=e.h.playbackRate;t!=0&&(e.K&&e.K.set(t),t=Ne("ratechange"),e.dispatchEvent(t))}function Xu(e){if(e.C&&e.M){var t=e.C.g,n="playing";e.M.g==Lr?n="buffering":e.h.paused?n="paused":e.h.ended&&(n="ended");var i=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.g.duration=r-t.g.timestamp,t.g.state==i?t=!1:(t.h.push(t.g),t.g={timestamp:r,state:i,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(Ne("statechanged",n)))}}function Dg(e){if(e.R()){var t=e.Ha();if(Number.isFinite(t.end)&&!(e.h.currentTime<t.start)){if(e.g.streaming.liveSync)var n=e.g.streaming.liveSyncMaxLatency,i=e.g.streaming.liveSyncPlaybackRate;else e.i&&e.i.serviceDescription&&(n=e.i.serviceDescription.maxLatency||e.g.streaming.liveSyncMaxLatency,i=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSyncPlaybackRate);if(e.g.streaming.liveSync)var r=e.g.streaming.liveSyncMinLatency,o=e.g.streaming.liveSyncMinPlaybackRate;else e.i&&e.i.serviceDescription&&(r=e.i.serviceDescription.minLatency||e.g.streaming.liveSyncMinLatency,o=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSyncMinPlaybackRate);var a=e.h.playbackRate,u=t.end-e.h.currentTime,s=0;if(e.l==ft){var l=e.h.buffered;0<l.length&&(s=l.end(l.length-1),s=Math.max(i,s-t.end))}n&&i&&u-s>n?a!=i&&e.Pd(i):r&&o&&u-s<r?a!=o&&e.Pd(o):a!==e.K.Lc()&&e.od()}}}function Yu(e){if(e.h){var t=!1,n=e.h.currentTime/e.h.duration;if(isNaN(n)||(n=Math.round(100*n),isNaN(e.N)?(e.N=n,t=!0):(n=Math.max(e.N,n),e.N!=n&&(e.N=n,t=!0))),t){var i;e.N==0?i=Ne("started"):e.N==25?i=Ne("firstquartile"):e.N==50?i=Ne("midpoint"):e.N==75?i=Ne("thirdquartile"):e.N==100&&(i=Ne("complete")),i&&e.dispatchEvent(i)}}}function Xr(e){try{Hg(e,e.i)}catch(n){return Xi(e,n),!1}var t=ad(e.i.variants);return t=e.Ra.create(t),e.u.setVariants(Array.from(t.values())),!0}function Pg(e,t){return t=t===void 0?!1:t,Xr(e)?e.u.chooseVariant(t):null}function gA(e){function t(a){var u="";return a.video&&(u+="video:"+a.video.id),a.audio&&(u=u+(u?"&":"")+("audio:"+a.audio.id)),u}for(var n=Date.now()/1e3,i=!1,r=m(e.i.variants),o=r.next();!o.done;o=r.next())o=o.value,0<o.disabledUntilTime&&o.disabledUntilTime<=n&&(o.disabledUntilTime=0,i=!0,""+t(o),void 0);e.i.variants.every(function(a){return a.disabledUntilTime===0})&&e.se.stop(),i&&Yr(e,!0,void 0,!1,!1)}function Yr(e,t,n,i,r){t=t===void 0?!0:t,n=n===void 0?0:n,i=i===void 0?!1:i,r=r===void 0?!0:r;var o=Pg(e);o&&$u(e,o,r,t,n,i)}function $u(e,t,n,i,r,o){o=o===void 0?!1:o;var a=e.j.j;if(t==a)i&&Ym(e.j,t,i,r,!0);else{var u=e.C.h;u.h!=t&&(u.h=t,u.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Ym(e.j,t,i,r,o,n),i=null,a&&(i=Ir(a)),t=Ir(t),n?(n=new Map().set("oldTrack",i).set("newTrack",t),e.L&&Sm(e.L,t,e.If()),n=Ne("adaptation",n),$r(e,n)):Ng(e,i,t)}}function Rg(e,t){var n=Array.from(e.h.audioTracks).find(function(i){return i.enabled});t.enabled=!0,t.id!==n.id&&(n.enabled=!1),n=od(n),t=od(t),Ng(e,n,t)}function vA(e,t,n){if(e.g.autoShowText==0)return!1;if(e.g.autoShowText==1)return!0;var i=ve(e.g.preferredTextLanguage);return n=ve(n.language),e.g.autoShowText==2?ru(n,i):e.g.autoShowText==3?(e=ve(t.language),ru(n,i)&&!ru(e,n)):(pe("Invalid autoShowText setting!"),!1)}function Vt(e){var t=Ne("trackschanged");$r(e,t)}function Ng(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.L&&Sm(e.L,n,e.If()),n=Ne("variantchanged",t),$r(e,n)}function Qu(e){var t=Ne("textchanged");$r(e,t)}function _g(e){var t=Ne("texttrackvisibility");$r(e,t)}function Ug(e){e.g.abr.enabled||dc(e);var t=new Map().set("newStatus",e.g.abr.enabled);$r(e,Ne("abrstatuschanged",t))}function dc(e,t){if(t=t===void 0?!0:t,e.l==yt){e.se.stop();for(var n=m(e.i.variants),i=n.next();!i.done;i=n.next())i.value.disabledUntilTime=0;t&&Xr(e)}}p.ce=function(e,t){if(!this.g.abr.enabled||this.l===Ln||!navigator.onLine)return!1;if(this.i.variants.some(function(o){return(o=o[e.type])&&o.id!==e.id?e.type=="audio"?e.language===o.language:!0:!1})){for(var n=m(this.i.variants),i=n.next();!i.done;i=n.next()){i=i.value;var r=i[e.type];r&&r.id===e.id&&(i.disabledUntilTime=Date.now()/1e3+t)}return this.se.za(1),t=this.Lb().video.reduce(function(o,a){return o+a.end-a.start},0),Yr(this,!0,t,!0,!1),!0}return!1};function Xi(e,t){var n,i,r;return C(function(o){switch(o.g){case 1:if(e.l==Ln)return o.return();if(n=!0,!(e.Xa&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){o.F(2);break}return $(o,3),y(o,bw(e.j),5);case 5:i=o.h,n=!i,oe(o,2);break;case 3:Q(o),n=!0;case 2:if(!n)return o.return();t.severity===2&&dc(e,!1),r=Ne("error",new Map().set("detail",t)),e.dispatchEvent(r),r.defaultPrevented&&(t.handled=!0),O(o)}})}function la(e,t,n){n=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(Ne(t,n))}function cc(e){if(!e.h.error)return null;var t=e.h.error.code;if(t==1)return null;var n=e.h.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new I(2,3,3016,t,n,e.h.error.message)}function Og(e,t){if(e.j){var n=Ne("keystatuschanged");e.dispatchEvent(n);var i=Object.keys(t);n=i.length==1&&i[0]=="00";var r=!1;if(i.length){i=m(e.i.variants);for(var o=i.next();!o.done;o=i.next()){o=o.value;var a=[];o.audio&&a.push(o.audio),o.video&&a.push(o.video),a=m(a);for(var u=a.next();!u.done;u=a.next()){var s=u.value;if(u=o.allowedByKeySystem,s.keyIds.size){o.allowedByKeySystem=!0,s=m(s.keyIds);for(var l=s.next();!l.done;l=s.next())l=l.value,((l=t[n?"00":l])||e.m.H)&&(o.allowedByKeySystem=o.allowedByKeySystem&&!!l&&!qg.includes(l))}u!=o.allowedByKeySystem&&(r=!0)}}}if(r&&(Vt(e),!Xr(e)))return;(t=e.j.j)&&!t.allowedByKeySystem&&Yr(e)}}function Vg(e,t,n){e.H&&e.H.onExpirationUpdated&&e.H.onExpirationUpdated(t,n),t=Ne("expirationupdated"),e.dispatchEvent(t)}function pc(e,t,n){0<t&&(e.R()||e.sh(t)),t=e.getDuration(),n<t&&(e.R()||e.gb(n))}function Hg(e,t){e=e.m?e.m.ge():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var i=!1,r=!1,o=new Set,a=new Set;t=m(t.variants);for(var u=t.next();!u.done;u=t.next()){u=u.value;var s=[];u.audio&&s.push(u.audio),u.video&&s.push(u.video),s=m(s);for(var l=s.next();!l.done;l=s.next())if(l=l.value,l.keyIds.size){l=m(l.keyIds);for(var d=l.next();!d.done;d=l.next()){d=d.value;var c=e[n?"00":d];c?qg.includes(c)&&a.add(c):o.add(d)}}u.allowedByApplication?u.allowedByKeySystem&&(i=!0):r=!0}if(!i)throw e={hasAppRestrictions:r,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(a)},new I(2,4,4012,e)}function $r(e,t){C(function(n){if(n.g==1)return y(n,Promise.resolve(),2);e.l!=Ln&&e.dispatchEvent(t),O(n)})}function jg(e){var t=new Set;e=m(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(ve(n.language)):t.add("und");return t}function Bg(e){var t=new Map,n=new Map;e=m(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r="und",o=[];i.language&&(r=ve(i.language)),i.type=="variant"?o=i.audioRoles:o=i.roles,o&&o.length||(o=[""]),t.has(r)||t.set(r,new Set),o=m(o);for(var a=o.next();!a.done;a=o.next())a=a.value,t.get(r).add(a),i.label&&(n.has(r)||n.set(r,new Map),n.get(r).set(a,i.label))}var u=[];return t.forEach(function(s,l){s=m(s);for(var d=s.next();!d.done;d=s.next()){d=d.value;var c=null;n.has(l)&&n.get(l).has(d)&&(c=n.get(l).get(d)),u.push({language:l,role:d,label:c})}}),u}N("shaka.Player",P),P.prototype.setVideoContainer=P.prototype.rg,P.prototype.getManifestParserFactory=P.prototype.li,P.prototype.getManifest=P.prototype.ki,P.prototype.retryStreaming=P.prototype.eg,P.prototype.setMaxHardwareResolution=P.prototype.ng,P.prototype.addChaptersTrack=P.prototype.Gh,P.prototype.addThumbnailsTrack=P.prototype.Ih,P.prototype.addTextTrackAsync=P.prototype.Hh,P.prototype.getStats=P.prototype.getStats,P.prototype.getBufferedInfo=P.prototype.Lb,P.prototype.getPresentationStartTimeAsDate=P.prototype.Vg,P.prototype.getPlayheadTimeAsDate=P.prototype.oi,P.prototype.setTextTrackVisibility=P.prototype.Oe,P.prototype.getChapters=P.prototype.Wh,P.prototype.getChaptersTracks=P.prototype.Sg,P.prototype.isTextTrackVisible=P.prototype.xc,P.prototype.selectVariantsByLabel=P.prototype.oj,P.prototype.selectTextLanguage=P.prototype.ig,P.prototype.selectAudioLanguage=P.prototype.Le,P.prototype.getTextLanguages=P.prototype.wi,P.prototype.getAudioLanguages=P.prototype.Sh,P.prototype.getTextLanguagesAndRoles=P.prototype.xi,P.prototype.getAudioLanguagesAndRoles=P.prototype.Th,P.prototype.selectVariantTrack=P.prototype.Me,P.prototype.selectTextTrack=P.prototype.jg,P.prototype.getThumbnails=P.prototype.Kf,P.prototype.getAllThumbnails=P.prototype.Rh,P.prototype.getImageTracks=P.prototype.fe,P.prototype.getTextTracks=P.prototype.bc,P.prototype.getVariantTracks=P.prototype.mb,P.prototype.cancelTrickPlay=P.prototype.od,P.prototype.trickPlay=P.prototype.Pd,P.prototype.getPlaybackRate=P.prototype.Nb,P.prototype.isBuffering=P.prototype.yd,P.prototype.getKeyStatuses=P.prototype.ge,P.prototype.getActiveSessionsMetadata=P.prototype.Ff,P.prototype.getExpiration=P.prototype.td,P.prototype.drmInfo=P.prototype.drmInfo,P.prototype.keySystem=P.prototype.keySystem,P.prototype.goToLive=P.prototype.Fi,P.prototype.seekRange=P.prototype.Ha,P.prototype.isAudioOnly=P.prototype.Pc,P.prototype.isInProgress=P.prototype.wc,P.prototype.isLive=P.prototype.R,P.prototype.getAdManager=P.prototype.ee,P.prototype.getAssetUri=P.prototype.Gf,P.prototype.getNetworkingEngine=P.prototype.Zb,P.prototype.getMediaElement=P.prototype.ni,P.prototype.getManifestType=P.prototype.If,P.prototype.getLoadMode=P.prototype.ie,P.prototype.resetConfiguration=P.prototype.hj,P.prototype.getBufferFullness=P.prototype.Uh,P.prototype.getConfiguration=P.prototype.getConfiguration,P.prototype.configure=P.prototype.configure,P.prototype.releaseAllMutexes=P.prototype.dj,P.prototype.load=P.prototype.load,P.prototype.updateStartTime=P.prototype.xj,P.prototype.unload=P.prototype.Wc,P.prototype.detach=P.prototype.detach,P.prototype.attachCanvas=P.prototype.Eg,P.prototype.attach=P.prototype.Gc,P.probeSupport=function(e){e=e===void 0?!0:e;var t,n,i,r,o,a;return C(function(u){if(u.g==1)return t={},e?y(u,wS(),3):u.F(2);u.g!=2&&(t=u.h);var s={};if(Cn())for(var l in mn)s[l]=!0;l=m(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var d=l.next();!d.done;d=l.next())d=d.value,s[d]=Cn()?!!mn[d]:Bo(d);for(n=s,l='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(H(Tr)),s={},l=m(l),d=l.next();!d.done;d=l.next()){d=d.value,s[d]=Cn()?du(d)?!0:Ke(d)||!!_i(d):Bo(d);var c=d.split(";")[0];s[c]=s[c]||s[d]}i=s,r={manifest:n,media:i,drm:t},o=fc;for(a in o)r[a]=o[a]();return u.return(r)})},P.isBrowserSupported=vg,P.setAdManagerFactory=function(e){Ju=e},P.registerSupportPlugin=function(e,t){fc[e]=t},P.prototype.destroy=P.prototype.destroy;var Ln=0,hc=1,yt=2,ft=3;P.LoadMode={DESTROYED:Ln,NOT_LOADED:hc,MEDIA_SOURCE:yt,SRC_EQUALS:ft},P.version="v4.7.11";var Fg=["4","7"];Cf=new function(e){this.g=e,this.i=zT,this.h=KT}(new ld(Number(Fg[0]),Number(Fg[1])));var qg=["output-restricted","internal-error"],fc={},Ju=null;function Gg(){this.h=[],this.j=this.i=this.g=0}function ee(e,t,n){var i=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new Ce,this.m.o(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.m.o(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}p=ee.prototype,p.getDuration=function(){return this.g.getDuration()},p.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},p.getRemainingTime=function(){return this.h.getRemainingTime()},p.isPaused=function(){return this.i},p.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},p.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},p.canSkipNow=function(){return this.h.getAdSkippableState()},p.skip=function(){return this.h.skip()},p.pause=function(){return this.h.pause()},p.play=function(){return this.h.resume()},p.getVolume=function(){return this.h.getVolume()},p.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},p.isMuted=function(){return this.h.getVolume()==0},p.isLinear=function(){return this.g.isLinear()},p.resize=function(e,t){var n=!1,i=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:i.webkitSupportsFullscreen&&(n=i.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},p.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},p.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},p.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},p.getTitle=function(){return this.g.getTitle()},p.getDescription=function(){return this.g.getDescription()},p.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},p.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},p.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},p.getAdId=function(){return this.g.getAdId()},p.getCreativeAdId=function(){return this.g.getCreativeAdId()},p.getAdvertiserName=function(){return this.g.getAdvertiserName()},p.getMediaUrl=function(){return this.g.getMediaUrl()},p.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},p.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},p.release=function(){this.h=this.g=null},N("shaka.ads.ClientSideAd",ee),ee.prototype.release=ee.prototype.release,ee.prototype.getPodIndex=ee.prototype.getPodIndex,ee.prototype.getTimeOffset=ee.prototype.getTimeOffset,ee.prototype.getMediaUrl=ee.prototype.getMediaUrl,ee.prototype.getAdvertiserName=ee.prototype.getAdvertiserName,ee.prototype.getCreativeAdId=ee.prototype.getCreativeAdId,ee.prototype.getAdId=ee.prototype.getAdId,ee.prototype.getVastMediaWidth=ee.prototype.getVastMediaWidth,ee.prototype.getVastMediaHeight=ee.prototype.getVastMediaHeight,ee.prototype.getVastMediaBitrate=ee.prototype.getVastMediaBitrate,ee.prototype.getDescription=ee.prototype.getDescription,ee.prototype.getTitle=ee.prototype.getTitle,ee.prototype.getPositionInSequence=ee.prototype.getPositionInSequence,ee.prototype.getSequenceLength=ee.prototype.getSequenceLength,ee.prototype.setMuted=ee.prototype.setMuted,ee.prototype.resize=ee.prototype.resize,ee.prototype.isLinear=ee.prototype.isLinear,ee.prototype.isMuted=ee.prototype.isMuted,ee.prototype.setVolume=ee.prototype.setVolume,ee.prototype.getVolume=ee.prototype.getVolume,ee.prototype.play=ee.prototype.play,ee.prototype.pause=ee.prototype.pause,ee.prototype.skip=ee.prototype.skip,ee.prototype.canSkipNow=ee.prototype.canSkipNow,ee.prototype.getTimeUntilSkippable=ee.prototype.getTimeUntilSkippable,ee.prototype.isSkippable=ee.prototype.isSkippable,ee.prototype.isPaused=ee.prototype.isPaused,ee.prototype.getRemainingTime=ee.prototype.getRemainingTime,ee.prototype.getMinSuggestedDuration=ee.prototype.getMinSuggestedDuration,ee.prototype.getDuration=ee.prototype.getDuration;function Zu(e,t,n,i,r){var o=this;this.s=e,this.i=t,this.D=!1,this.u=this.G=null,this.H=NaN,this.m=r,this.j=null,this.h=new Ce,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),e=new google.ima.AdDisplayContainer(this.s,this.i),e.initialize(),this.l=new google.ima.AdsLoader(e),this.l.getSettings().setPlayerType("shaka-player"),this.l.getSettings().setPlayerVersion("v4.7.11"),this.g=null,this.C=i||new google.ima.AdsRenderingSettings,this.h.o(this.l,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(a){yA(o,a)}),this.h.o(this.l,google.ima.AdErrorEvent.Type.AD_ERROR,function(a){zg(o,a)}),this.h.o(this.i,"ended",function(){o.l.contentComplete()}),this.h.na(this.i,"play",function(){o.D=!0})}Zu.prototype.configure=function(e){this.G=e},Zu.prototype.stop=function(){this.g&&this.g.stop(),this.s&&yi(this.s)},Zu.prototype.release=function(){this.stop(),this.u&&this.u.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.l.destroy()};function zg(e,t){t.getError(),t=new Map().set("originalEvent",t),e.m(new B("ad-error",t)),ts(e,null),e.m(new B("ad-cue-points-changed",new Map().set("cuepoints",[])))}function yA(e,t){if(e.m(new B("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.H))),e.G.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.C),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.o(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.o(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.C);e.m(new B("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var i=e.g.getCuePoints();if(i.length){t=[],i=m(i);for(var r=i.next();!r.done;r=i.next())t.push({start:r.value,end:null});e.m(new B("ad-cue-points-changed",new Map().set("cuepoints",t)))}EA(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,es(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.o(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,es(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in D?(e.u=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,es(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.u.observe(e.i)):e.h.o(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,es(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.D?e.g.start():e.h.na(e.i,"play",function(){e.D=!0,e.g.start()})}catch{ts(e,null)}}function es(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function EA(e){function t(n,i){n=new Map().set("originalEvent",n),e.m(new B(i,n))}e.h.o(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){zg(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){Kg(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.STARTED,function(n){Kg(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.o(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){ts(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){ts(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.o(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.o(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.o(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.o(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.o(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.o(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.o(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.o(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function Kg(e,t){var n=t.getAd();n?(e.j=new ee(n,e.g,e.i),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.m(new B("ad-started",t)),e.j.isLinear()&&(e.s.setAttribute("ad-active","true"),e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):pe("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function ts(e,t){e.m(new B("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.s.removeAttribute("ad-active"),e.i.ended||e.i.play())}function Z(e,t,n,i,r){this.h=e,this.g=r,this.i=t,this.j=n,this.l=i}p=Z.prototype,p.getDuration=function(){return this.h.durationInSeconds},p.getMinSuggestedDuration=function(){return this.getDuration()},p.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},p.isPaused=function(){return this.g.paused},p.isSkippable=function(){return!!this.h.skipOffset},p.getTimeUntilSkippable=function(){if(!this.h.skipOffset)return this.getRemainingTime();var e=this.getRemainingTime()-this.h.skipOffset;return Math.max(e,0)},p.canSkipNow=function(){return this.getTimeUntilSkippable()==0},p.skip=function(){this.g.currentTime+=this.getRemainingTime()},p.pause=function(){return this.g.pause()},p.play=function(){return this.g.play()},p.getVolume=function(){return this.g.volume},p.setVolume=function(e){this.g.volume=e},p.isMuted=function(){return this.g.muted},p.isLinear=function(){return this.l},p.resize=function(){},p.setMuted=function(e){this.g.muted=e},p.getSequenceLength=function(){return this.j?this.j:1},p.getPositionInSequence=function(){return this.i?this.i:1},p.getTitle=function(){return this.h.adTitle},p.getDescription=function(){return""},p.getVastMediaBitrate=function(){return 0},p.getVastMediaHeight=function(){return 0},p.getVastMediaWidth=function(){return 0},p.getAdId=function(){return this.h.adId},p.getCreativeAdId=function(){return this.h.creativeId},p.getAdvertiserName=function(){return""},p.getMediaUrl=function(){return null},p.getTimeOffset=function(){return 0},p.getPodIndex=function(){return 0},p.release=function(){this.j=this.i=this.g=this.h=null},N("shaka.ads.MediaTailorAd",Z),Z.prototype.release=Z.prototype.release,Z.prototype.getPodIndex=Z.prototype.getPodIndex,Z.prototype.getTimeOffset=Z.prototype.getTimeOffset,Z.prototype.getMediaUrl=Z.prototype.getMediaUrl,Z.prototype.getAdvertiserName=Z.prototype.getAdvertiserName,Z.prototype.getCreativeAdId=Z.prototype.getCreativeAdId,Z.prototype.getAdId=Z.prototype.getAdId,Z.prototype.getVastMediaWidth=Z.prototype.getVastMediaWidth,Z.prototype.getVastMediaHeight=Z.prototype.getVastMediaHeight,Z.prototype.getVastMediaBitrate=Z.prototype.getVastMediaBitrate,Z.prototype.getDescription=Z.prototype.getDescription,Z.prototype.getTitle=Z.prototype.getTitle,Z.prototype.getPositionInSequence=Z.prototype.getPositionInSequence,Z.prototype.getSequenceLength=Z.prototype.getSequenceLength,Z.prototype.setMuted=Z.prototype.setMuted,Z.prototype.resize=Z.prototype.resize,Z.prototype.isLinear=Z.prototype.isLinear,Z.prototype.isMuted=Z.prototype.isMuted,Z.prototype.setVolume=Z.prototype.setVolume,Z.prototype.getVolume=Z.prototype.getVolume,Z.prototype.play=Z.prototype.play,Z.prototype.pause=Z.prototype.pause,Z.prototype.skip=Z.prototype.skip,Z.prototype.canSkipNow=Z.prototype.canSkipNow,Z.prototype.getTimeUntilSkippable=Z.prototype.getTimeUntilSkippable,Z.prototype.isSkippable=Z.prototype.isSkippable,Z.prototype.isPaused=Z.prototype.isPaused,Z.prototype.getRemainingTime=Z.prototype.getRemainingTime,Z.prototype.getMinSuggestedDuration=Z.prototype.getMinSuggestedDuration,Z.prototype.getDuration=Z.prototype.getDuration;function da(e,t,n,i){this.D=e,this.K=t,this.g=n,this.l=null,this.W=NaN,this.i=i,this.J=!1,this.C=null,this.j=[],this.M=[],this.L=this.G=this.h=null,this.H=new Map,this.m=[],this.u=[],this.N="",this.V=!0,this.I="",this.s=new Ce}da.prototype.stop=function(){for(var e=m(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.s.hc(t.target,t.type,t.listener);Qr(this),this.m=[],this.u=[],this.N="",this.V=!0,this.I="",this.C=null,this.j=[],this.M=[],this.H.clear()},da.prototype.release=function(){this.stop(),this.s&&this.s.release()},da.prototype.onManifestUpdated=function(e){this.J=e,this.N!=""&&(SA(this,this.N,this.V),this.V=!1)},da.prototype.getCuePoints=function(){for(var e=[],t=m(this.j),n=t.next();!n.done;n=t.next()){n=m(n.value.ads);for(var i=n.next();!i.done;i=n.next())i=i.value,e.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds})}return e};function TA(e,t,n){var i,r,o,a,u,s,l,d,c,f,h;C(function(g){if(g.g==1)return i=it([t],Un()),i.method="POST",n&&(r=JSON.stringify(n),i.body=Yn(r)),o=e.K.request(7,i),$(g,2),y(g,o.promise,4);if(g.g!=2){if(a=g.h,u=Pe(a.data),s=JSON.parse(u),s.manifestUrl&&s.trackingUrl)l=new Fe(t),d=new Fe(s.trackingUrl),e.N=l.resolve(d).toString(),c=Date.now()/1e3,f=c-e.W,e.i(new B("ads-loaded",new Map().set("loadTime",f))),h=new Fe(s.manifestUrl),e.l.resolve(l.resolve(h).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return oe(g,0)}if(Q(g),!e.I.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,g.return();e.l.resolve(e.I),e.l=null,O(g)})}function SA(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S;C(function(T){if(T.g==1)return i=it([t],Un()),r=e.K.request(7,i),$(T,2),y(T,r.promise,4);if(T.g!=2){if(o=T.h,a=[],u=Pe(o.data),s=JSON.parse(u),0<s.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(s.avails)){for(e.j=s.avails,l=m(e.j),d=l.next();!d.done;d=l.next())for(c=d.value,f=m(c.nonLinearAdsList),h=f.next();!h.done;h=f.next())for(g=h.value,v=m(g.nonLinearAdList),E=v.next();!E.done;E=v.next())S=E.value,wA(e,S);a=e.getCuePoints(),e.i(new B("ad-cue-points-changed",new Map().set("cuepoints",a)))}}else e.j.length&&e.i(new B("ad-cue-points-changed",new Map().set("cuepoints",a))),Qr(e),e.j=[];return n&&(e.J||0<a.length)&&AA(e),oe(T,0)}Q(T),O(T)})}function wA(e,t){var n,i,r,o,a,u,s;C(function(l){if(l.g==1)return!t.staticResource||(n=Wg(t),e.H.get(n))?l.return():(i=it([t.staticResource],Un()),r=e.K.request(7,i),$(l,2),e.H.set(n,[]),y(l,r.promise,4));if(l.g!=2)return o=l.h,a=Pe(o.data),u=JSON.parse(a),s=u.apps,e.H.set(n,s),oe(l,0);Q(l),e.H.delete(n),O(l)})}function Wg(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function AA(e){Yg(e),e.J||(Xg(e),e.s.o(e.g,"seeked",function(){Xg(e)}),e.s.o(e.g,"ended",function(){Qr(e)})),e.s.o(e.g,"timeupdate",function(){Yg(e)})}function Xg(e){var t=e.g.currentTime;if(t!=0&&e.C==null){for(var n,i,r=m(e.j),o=r.next();!o.done;o=r.next()){o=o.value;for(var a=m(o.ads),u=a.next();!u.done;u=a.next())if(u=u.value,!i)u.startTimeInSeconds<t&&(i=u,n=o);else if(u.startTimeInSeconds<t&&u.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=u,n=o;break}}n&&i&&!e.M.includes(i.adId)&&(e.C=t,e.g.currentTime=n.startTimeInSeconds)}}function Yg(e){if(e.g.duration&&(e.h||e.j.length)){var t=e.g.currentTime,n=!1;if(e.h){n=!0;var i=e.G,r=i.startTimeInSeconds+.5*i.durationInSeconds,o=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!e.u.includes("firstQuartile")?(e.u.push("firstQuartile"),Pt(e,"firstQuartile")):t>=r&&!e.u.includes("midpoint")?(e.u.push("midpoint"),Pt(e,"midpoint")):t>=o&&!e.u.includes("thirdQuartile")&&(e.u.push("thirdQuartile"),Pt(e,"thirdQuartile")),i=e.h.getRemainingTime(),r=e.h.getDuration(),0<r&&(0>=i||i>r)&&Qr(e)}if(!e.h||!e.h.isLinear()){e:for(i=m(e.j),r=i.next();!r.done&&(r=r.value,!(e.h&&e.h.isLinear()));r=i.next())for(o=0;o<r.ads.length;o++){var a=r.ads[o],u=a.startTimeInSeconds+a.durationInSeconds;if(a.startTimeInSeconds<=t&&u>t){if(e.M.includes(a.adId)){if(e.g.ended)continue;e.g.currentTime=u;break e}Qr(e),e.L=r,e.h=new Z(a,o+1,r.ads.length,!0,e.g),e.G=a,o===0&&Pt(e,"breakStart"),$g(e);break}}if(!e.h){for(i=m(e.j),r=i.next();!r.done&&(r=r.value,!e.h);r=i.next())for(o=0;o<r.nonLinearAdsList.length;o++)if(a=r.nonLinearAdsList[o],a.nonLinearAdList.length){u=r.startTimeInSeconds;var s=e.H.get(Wg(a.nonLinearAdList[0]));if(u<=t&&s&&s.length){Qr(e),u=e,s=m(s);for(var l=s.next();!l.done;l=s.next())if(l=l.value,l.data.source.length){var d=document.createElement("img");d.src=l.data.source[0].url,d.style.top=(l.placeholder.top||0)+"%",d.style.height=100-(l.placeholder.top||0)+"%",d.style.left=(l.placeholder.left||0)+"%",d.style.maxWidth=100-(l.placeholder.left||0)+"%",d.style.objectFit="contain",d.style.position="absolute",u.D.appendChild(d)}e.L=r,e.h=new Z(a,o+1,r.ads.length,!1,e.g),e.G=a,o===0&&Pt(e,"breakStart"),$g(e);break}}}n&&!e.h&&(t=e.g.currentTime,e.C&&e.C>t&&(e.g.currentTime=e.C),e.C=null)}}}function Qr(e){if(e.h){for(;e.D.lastChild;)e.D.removeChild(e.D.firstChild);e.J||e.M.push(e.G.adId),Pt(e,"complete");for(var t=m(e.m),n=t.next();!n.done;n=t.next())n=n.value,e.s.hc(n.target,n.type,n.listener);e.m=[],e.u=[],t=e.h.getPositionInSequence(),n=e.h.getSequenceLength(),t===n&&Pt(e,"breakEnd"),e.h=null,e.G=null,e.L=null}}function $g(e){var t=!1;e.g.paused?t=!0:(Pt(e,"impression"),Pt(e,"start")),e.m.push({target:e.g,type:"volumechange",listener:function(){e.g.muted&&Pt(e,"mute")}}),e.m.push({target:e.g,type:"volumechange",listener:function(){e.g.muted||Pt(e,"unmute")}}),e.m.push({target:e.g,type:"play",listener:function(){t?(Pt(e,"impression"),Pt(e,"start"),t=!1):Pt(e,"resume")}}),e.m.push({target:e.g,type:"pause",listener:function(){Pt(e,"pause")}});for(var n=m(e.m),i=n.next();!i.done;i=n.next())i=i.value,e.s.o(i.target,i.type,i.listener)}function Pt(e,t){var n=e.G.trackingEvents.find(function(r){return r.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(r){return r.eventType==t})),n){n=m(n.beaconUrls);for(var i=n.next();!i.done;i=n.next())(i=i.value)&&i!=""&&(i=it([i],Un()),i.method="POST",e.K.request(7,i))}switch(t){case"impression":e.i(new B("ad-impression"));break;case"start":e.i(new B("ad-started",new Map().set("ad",e.h)));break;case"mute":e.i(new B("ad-muted"));break;case"unmute":e.i(new B("ad-volume-changed"));break;case"resume":e.i(new B("ad-resumed"));break;case"pause":e.i(new B("ad-paused"));break;case"firstQuartile":e.i(new B("ad-first-quartile"));break;case"midpoint":e.i(new B("ad-midpoint"));break;case"thirdQuartile":e.i(new B("ad-third-quartile"));break;case"complete":e.i(new B("ad-complete")),e.i(new B("ad-stopped"));break;case"breakStart":e.D.setAttribute("ad-active","true");break;case"breakEnd":e.D.removeAttribute("ad-active")}}function te(e,t){this.g=e,this.i=null,this.h=t}p=te.prototype,p.getDuration=function(){return this.i?this.i.duration:-1},p.getMinSuggestedDuration=function(){return this.getDuration()},p.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},p.isPaused=function(){return this.h.paused},p.isSkippable=function(){return this.g.isSkippable()},p.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},p.canSkipNow=function(){return this.getTimeUntilSkippable()==0},p.skip=function(){this.h.currentTime+=this.getRemainingTime()},p.pause=function(){return this.h.pause()},p.play=function(){return this.h.play()},p.getVolume=function(){return this.h.volume},p.setVolume=function(e){this.h.volume=e},p.isMuted=function(){return this.h.muted},p.isLinear=function(){return!0},p.resize=function(){},p.setMuted=function(e){this.h.muted=e},p.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},p.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},p.getTitle=function(){return this.g.getTitle()},p.getDescription=function(){return this.g.getDescription()},p.getVastMediaBitrate=function(){return 0},p.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},p.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},p.getAdId=function(){return this.g.getAdId()},p.getCreativeAdId=function(){return this.g.getCreativeAdId()},p.getAdvertiserName=function(){return this.g.getAdvertiserName()},p.getMediaUrl=function(){return null},p.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},p.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},p.release=function(){this.h=this.i=this.g=null},N("shaka.ads.ServerSideAd",te),te.prototype.release=te.prototype.release,te.prototype.getPodIndex=te.prototype.getPodIndex,te.prototype.getTimeOffset=te.prototype.getTimeOffset,te.prototype.getMediaUrl=te.prototype.getMediaUrl,te.prototype.getAdvertiserName=te.prototype.getAdvertiserName,te.prototype.getCreativeAdId=te.prototype.getCreativeAdId,te.prototype.getAdId=te.prototype.getAdId,te.prototype.getVastMediaWidth=te.prototype.getVastMediaWidth,te.prototype.getVastMediaHeight=te.prototype.getVastMediaHeight,te.prototype.getVastMediaBitrate=te.prototype.getVastMediaBitrate,te.prototype.getDescription=te.prototype.getDescription,te.prototype.getTitle=te.prototype.getTitle,te.prototype.getPositionInSequence=te.prototype.getPositionInSequence,te.prototype.getSequenceLength=te.prototype.getSequenceLength,te.prototype.setMuted=te.prototype.setMuted,te.prototype.resize=te.prototype.resize,te.prototype.isLinear=te.prototype.isLinear,te.prototype.isMuted=te.prototype.isMuted,te.prototype.setVolume=te.prototype.setVolume,te.prototype.getVolume=te.prototype.getVolume,te.prototype.play=te.prototype.play,te.prototype.pause=te.prototype.pause,te.prototype.skip=te.prototype.skip,te.prototype.canSkipNow=te.prototype.canSkipNow,te.prototype.getTimeUntilSkippable=te.prototype.getTimeUntilSkippable,te.prototype.isSkippable=te.prototype.isSkippable,te.prototype.isPaused=te.prototype.isPaused,te.prototype.getRemainingTime=te.prototype.getRemainingTime,te.prototype.getMinSuggestedDuration=te.prototype.getMinSuggestedDuration,te.prototype.getDuration=te.prototype.getDuration;function Qg(e,t,n,i){var r=this;this.u=e,this.l=t,this.j=null,this.H=NaN,this.i=i,this.I=!1,this.C=this.m=this.s=null,this.D="",this.G=[],this.h=new Ce,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.u,e),this.i(new B("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){xA(r,o)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.D.length?r.j.resolve(r.D):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),r.m=new te(o,r.l),r.C&&(r.m.i=r.C),r.i(new B("ad-started",new Map().set("ad",r.m))),r.u.setAttribute("ad-active","true")}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.u.removeAttribute("ad-active");var o=r.l.currentTime;r.s&&r.s>o&&(r.l.currentTime=r.s,r.s=null)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){r.C=o.getStreamData().adProgressData,r.m&&(r.m.i=r.C)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new B("ad-first-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new B("ad-midpoint"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new B("ad-third-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new B("ad-complete")),r.i(new B("ad-stopped")),r.u.removeAttribute("ad-active"),r.m=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new B("ad-skipped")),r.i(new B("ad-stopped"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var a=o.getStreamData();o=[],a=m(a.cuepoints);for(var u=a.next();!u.done;u=a.next())u=u.value,o.push({start:u.start,end:u.end});r.G=o,r.i(new B("ad-cue-points-changed",new Map().set("cuepoints",o)))})}p=Qg.prototype,p.configure=function(){},p.stop=function(){this.D="",this.s=null,this.G=[]},p.release=function(){this.stop(),this.h&&this.h.release()},p.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},p.getCuePoints=function(){return this.G};function xA(e,t){e.i(new B("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.H))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.I||e.h.o(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var i=e.g.previousCuePointForStreamTime(n);i&&!i.played&&(e.s=n,e.l.currentTime=i.start)}})}function X(){fe.call(this),this.g=this.i=this.h=null,this.j=new Gg,this.m=navigator.language,this.l=null}se(X,fe),p=X.prototype,p.setLocale=function(e){this.m=e},p.configure=function(e){this.l=e,this.h&&this.h.configure(this.l),this.g&&this.g.configure(this.l)},p.initClientSide=function(e,t,n){var i=this;if(!D.google||!google.ima||!google.ima.AdsLoader)throw new I(2,10,1e4);this.h&&this.h.release(),this.h=new Zu(e,t,this.m,n,function(r){return mc(i,r)}),this.h.configure(this.l)},p.release=function(){this.h&&(this.h.release(),this.h=null),this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),fe.prototype.release.call(this)},p.onAssetUnload=function(){this.h&&this.h.stop(),this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new B("ad-stopped")),this.j=new Gg},p.requestClientSideAds=function(e){if(!this.h)throw new I(1,10,10001);var t=this.h;t.g&&t.g.destroy(),t.l&&t.l.contentComplete(),t.H=Date.now()/1e3,t.l.requestAds(e)},p.updateClientSideAdsRenderingSettings=function(e){if(!this.h)throw new I(1,10,10001);var t=this.h;t.C=e,t.g&&t.g.updateAdsRenderingSettings(t.C)},p.initMediaTailor=function(e,t,n){var i=this;this.i&&this.i.release(),this.i=new da(e,t,n,function(r){return mc(i,r)})},p.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new I(1,10,10005);var i=this.i;return n=n===void 0?"":n,i.l?e=Promise.reject(new I(1,10,10004)):(i.l=new De,TA(i,e,t),i.I=n||"",i.W=Date.now()/1e3,e=i.l),e},p.initServerSide=function(e,t){var n=this;if(!D.google||!google.ima||!google.ima.dai)throw new I(2,10,10002);this.g&&this.g.release(),this.g=new Qg(e,t,this.m,function(i){return mc(n,i)}),this.g.configure(this.l)},p.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new I(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&pe('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.7.11",n=this.g,n.j?e=Promise.reject(new I(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.I=!0),n.j=new De,n.g.requestStream(e),n.D=t||"",n.H=Date.now()/1e3,e=n.j),e},p.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new I(1,10,10003);(e.mpt||e.mpv)&&pe('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.7.11",this.g.g.replaceAdTagParameters(e)},p.getServerSideCuePoints=function(){return pn("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},p.getCuePoints=function(){var e=[];return this.g&&(e=e.concat(this.g.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},p.getStats=function(){var e=this.j;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},p.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},p.onDashTimedMetadata=function(e){if(this.g&&e.schemeIdUri=="urn:google:dai:2018"){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(t,n,e.startTime)}},p.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},p.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)};function mc(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.j.h.push(t.loadTime);break;case"ad-started":e.j.g++;break;case"ad-complete":e.j.i++;break;case"ad-skipped":e.j.j++}e.dispatchEvent(t)}N("shaka.ads.AdManager",X),X.prototype.onCueMetadataChange=X.prototype.onCueMetadataChange,X.prototype.onHlsTimedMetadata=X.prototype.onHlsTimedMetadata,X.prototype.onDashTimedMetadata=X.prototype.onDashTimedMetadata,X.prototype.onManifestUpdated=X.prototype.onManifestUpdated,X.prototype.getStats=X.prototype.getStats,X.prototype.getCuePoints=X.prototype.getCuePoints,X.prototype.getServerSideCuePoints=X.prototype.getServerSideCuePoints,X.prototype.replaceServerSideAdTagParameters=X.prototype.replaceServerSideAdTagParameters,X.prototype.requestServerSideStream=X.prototype.requestServerSideStream,X.prototype.initServerSide=X.prototype.initServerSide,X.prototype.requestMediaTailorStream=X.prototype.requestMediaTailorStream,X.prototype.initMediaTailor=X.prototype.initMediaTailor,X.prototype.updateClientSideAdsRenderingSettings=X.prototype.updateClientSideAdsRenderingSettings,X.prototype.requestClientSideAds=X.prototype.requestClientSideAds,X.prototype.onAssetUnload=X.prototype.onAssetUnload,X.prototype.release=X.prototype.release,X.prototype.initClientSide=X.prototype.initClientSide,X.prototype.configure=X.prototype.configure,X.prototype.setLocale=X.prototype.setLocale,X.ADS_LOADED="ads-loaded",X.AD_STARTED="ad-started",X.AD_FIRST_QUARTILE="ad-first-quartile",X.AD_MIDPOINT="ad-midpoint",X.AD_THIRD_QUARTILE="ad-third-quartile",X.AD_COMPLETE="ad-complete",X.AD_STOPPED="ad-stopped",X.AD_SKIPPED="ad-skipped",X.AD_VOLUME_CHANGED="ad-volume-changed",X.AD_MUTED="ad-muted",X.AD_PAUSED="ad-paused",X.AD_RESUMED="ad-resumed",X.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",X.CUEPOINTS_CHANGED="ad-cue-points-changed",X.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",X.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",X.AD_CLICKED="ad-clicked",X.AD_PROGRESS="ad-progress",X.AD_BUFFERING="ad-buffering",X.AD_IMPRESSION="ad-impression",X.AD_DURATION_CHANGED="ad-duration-changed",X.AD_CLOSED="ad-closed",X.AD_LOADED="ad-loaded",X.ALL_ADS_COMPLETED="all-ads-completed",X.AD_LINEAR_CHANGED="ad-linear-changed",X.AD_METADATA="ad-metadata",X.AD_RECOVERABLE_ERROR="ad-recoverable-error",X.AD_ERROR="ad-error",X.AD_BREAK_READY="ad-break-ready",X.AD_INTERACTION="ad-interaction",Ju=function(){return new X};function Jg(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof B){var i={};for(r in n)(t=n[r])&&typeof t=="object"?r=="detail"&&(i[r]=t):r in Event||(i[r]=t);return i}if(n instanceof Error){var r=new Set(["name","message","stack"]);for(i in n)r.add(i);for(t=m(Object.getOwnPropertyNames(n)),i=t.next();!i.done;i=t.next())r.add(i.value);for(t={},r=m(r),i=r.next();!i.done;i=r.next())i=i.value,t[i]=n[i];n={__type__:"Error",contents:t}}else if(n instanceof TimeRanges){for(r={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=m(vi(n)),i=n.next();!i.done;i=n.next())i=i.value,t=i.end,r.start.push(i.start),r.end.push(t);n=r}else n=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function gc(e){return JSON.parse(e,function(t,n){if(n=="NaN")var i=NaN;else if(n=="-Infinity")i=-1/0;else if(n=="Infinity")i=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")i=CA(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")i=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(i in t)n[i]=t[i];i=n}else i=n;return i})}function CA(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var Zg="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),IA="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),vc=["loop","playbackRate"],MA=["pause","play"],ns={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10},is={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},yc={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},e0=[["getConfiguration","configure"]],t0=[["isTextTrackVisible","setTextTrackVisibility"]],LA="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),kA=["attach","attachCanvas","detach","load","unload"];function Ec(e,t,n,i,r,o,a){var u=this;this.I=e,this.M=a,this.j=new re(t),this.N=n,this.C=!1,this.u=i,this.H=r,this.K=o,this.h=this.m=!1,this.L="",this.s=null,this.D=function(){return Sc(u)},this.G=function(s,l){switch(s=gc(l),s.type){case"event":var d=s.targetName,c=jh(s.event);u.u(d,c);break;case"update":d=s.update;for(c in d){s=u.g[c]||{};for(var f in d[c])s[f]=d[c][f]}u.C&&(u.N(),u.C=!1);break;case"asyncComplete":if(c=s.id,f=s.error,s=u.i[c],delete u.i[c],s)if(f){c=new I(f.severity,f.category,f.code);for(d in f)c[d]=f[d];s.reject(c)}else s.resolve()}},this.g={video:{},player:{}},this.J=0,this.i={},this.l=null,pa.add(this)}p=Ec.prototype,p.destroy=function(){return pa.delete(this),wc(this),vn&&r0(this),this.j&&(this.j.stop(),this.j=null),this.H=this.u=null,this.h=this.m=!1,this.G=this.D=this.l=this.i=this.g=this.s=null,Promise.resolve()},p.Ba=function(){return this.h},p.Je=function(){return this.L},p.init=function(){if(this.I.length)if(D.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Qa();var e=new chrome.cast.SessionRequest(this.I,[],null,this.M,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=m(pa),i=n.next();!i.done;i=n.next())i0(i.value,t)},function(t){for(var n=m(pa),i=n.next();!i.done;i=n.next())i=i.value,rs=t=="available",i.j.Qa()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),rs&&this.j.S(DA),(e=vn)&&e.status!=chrome.cast.SessionStatus.STOPPED?i0(this,e):vn=null}else D.__onGCastApiAvailable!==o0&&(os=D.__onGCastApiAvailable||null,D.__onGCastApiAvailable=o0)},p.kg=function(e){this.s=e,this.h&&ca(this,{type:"appData",appData:this.s})},p.cast=function(e){var t=this;return C(function(n){if(!t.m)throw new I(1,8,8e3);if(!rs)throw new I(1,8,8001);if(t.h)throw new I(1,8,8002);return t.l=new De,chrome.cast.requestSession(function(i){return Tc(t,e,i)},function(i){return n0(t,i)}),y(n,t.l,0)})};function bA(e){if(e.h){var t=e.K();chrome.cast.requestSession(function(n){return Tc(e,t,n)},function(n){return n0(e,n)})}}p.Jc=function(){if(this.h){if(wc(this),vn){r0(this);try{vn.stop(function(){},function(){})}catch{}vn=null}Sc(this)}},p.get=function(e,t){var n=this;if(e=="video"){if(MA.includes(t))return function(){return n.kh.apply(n,[e,t].concat(H(Ge.apply(0,arguments))))}}else if(e=="player"){if(yc[t]&&!this.get("player","isLive")())return function(){};if(LA.includes(t))return function(){return n.kh.apply(n,[e,t].concat(H(Ge.apply(0,arguments))))};if(kA.includes(t))return function(){return n.ej.apply(n,[e,t].concat(H(Ge.apply(0,arguments))))};if(ns[t]||is[t])return function(){return n.g[e][t]}}return this.g[e][t]},p.set=function(e,t,n){this.g[e][t]=n,ca(this,{type:"set",targetName:e,property:t,value:n})};function Tc(e,t,n){vn=n,n.addUpdateListener(e.D),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.G),Sc(e),ca(e,{type:"init",initState:t,appData:e.s}),e.l.resolve()}function n0(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.l.reject(new I(2,8,n,t))}p.kh=function(e,t){ca(this,{type:"call",targetName:e,methodName:t,args:Ge.apply(2,arguments)})},p.ej=function(e,t){var n=Ge.apply(2,arguments),i=new De,r=this.J.toString();this.J++,this.i[r]=i;try{ca(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(o){i.reject(o)}return i};function i0(e,t){var n=e.K();e.l=new De,e.C=!0,Tc(e,n,t)}function r0(e){var t=vn;t.removeUpdateListener(e.D),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.G)}function Sc(e){var t=vn?vn.status=="connected":!1;if(e.h&&!t){e.H();for(var n in e.g)e.g[n]={};wc(e)}e.h=t,e.L=t?vn.receiver.friendlyName:"",e.j.Qa()}function wc(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new I(1,7,7e3))}}function ca(e,t){t=Jg(t);var n=vn;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},ET)}catch(i){throw t=new I(2,8,8005,i),n=new B("error",new Map().set("detail",t)),e.u("player",n),e.Jc(),t}}var DA=.02,rs=!1,vn=null,os=null,pa=new Set;function o0(e){if(os?D.__onGCastApiAvailable=os:delete D.__onGCastApiAvailable,os=null,e)for(var t=m(pa),n=t.next();!n.done;n=t.next())n.value.init();typeof D.__onGCastApiAvailable=="function"&&D.__onGCastApiAvailable(e)}function Be(e,t,n,i){i=i===void 0?!1:i,fe.call(this);var r=this;this.i=e,this.h=t,this.m=this.s=this.j=this.u=this.l=null,this.G=n,this.D=i,this.C=new Map,this.g=new Ec(n,function(){return u0(r)},function(){return s0(r)},function(o,a){return d0(r,o,a)},function(){return l0(r)},function(){return Ac(r)},i),PA(this)}se(Be,fe),p=Be.prototype,p.destroy=function(e){return e&&this.g.Jc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.u=this.l=this.i=null,fe.prototype.release.call(this),Promise.all(e)},p.cc=function(){return this.l},p.Mc=function(){return this.u},p.kf=function(){return this.g.m&&rs},p.Ba=function(){return this.g.Ba()},p.Je=function(){return this.g.Je()},p.cast=function(){var e=this,t;return C(function(n){return n.g==1?(t=Ac(e),y(n,e.g.cast(t),2)):e.h?y(n,e.h.Wc(),0):n.return()})},p.kg=function(e){this.g.kg(e)},p.vh=function(){bA(this.g)},p.Jc=function(){this.g.Jc()},p.Jg=function(e,t){t=t===void 0?!1:t;var n=this;return C(function(i){if(i.g==1)return e==n.G&&t==n.D?i.return():(n.G=e,n.D=t,n.g.Jc(),y(i,n.g.destroy(),2));n.g=null,n.g=new Ec(e,function(){return u0(n)},function(){return s0(n)},function(r,o){return d0(n,r,o)},function(){return l0(n)},function(){return Ac(n)},t),n.g.init(),O(i)})};function PA(e){e.g.init(),e.m=new Ce;for(var t=m(Zg),n=t.next();!n.done;n=t.next())e.m.o(e.i,n.value,function(o){e.g.Ba()||(o=jh(o),e.j.dispatchEvent(o))});for(var i in Za)e.m.o(e.h,Za[i],function(o){e.g.Ba()||e.s.dispatchEvent(o)});e.l={},t={};for(var r in e.i)t.$c=r,Object.defineProperty(e.l,t.$c,{configurable:!1,enumerable:!0,get:function(o){return function(){return NA(e,o.$c)}}(t),set:function(o){return function(a){var u=o.$c;e.g.Ba()?e.g.set("video",u,a):e.i[u]=a}}(t)}),t={$c:t.$c};e.u={},a0(e,function(o){Object.defineProperty(e.u,o,{configurable:!1,enumerable:!0,get:function(){return _A(e,o)}})}),RA(e),e.j=new fe,e.j.we=e.l,e.s=new fe,e.s.we=e.u}function RA(e){var t=new Map;a0(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.C.set(n,i):e.C.set(i,n)):t.set(i,n)})}function a0(e,t){function n(s){return s=="constructor"||typeof i[s]!="function"?!1:!r.has(s)}var i=e.h,r=new Set,o;for(o in i)n(o)&&(r.add(o),t(o,i[o]));for(e=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});e&&e!=o;){for(var a=m(Object.getOwnPropertyNames(e)),u=a.next();!u.done;u=a.next())u=u.value,n(u)&&(r.add(u),t(u,i[u]));e=Object.getPrototypeOf(e)}}function Ac(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Gf(),startTime:null};e.i.pause();for(var n=m(vc),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),n=m(e0),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(n=m(t0),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function u0(e){var t=new B("caststatuschanged");e.dispatchEvent(t)}function s0(e){var t=new B(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function l0(e){for(var t=m(e0),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.g.get("player","getAssetUri")();i=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,i||(n=e.g.get("video","currentTime"));var a;(i=e.g.get("player","getTextTracks")())&&i.length&&(a=i.find(function(l){return l.active}));var u=e.g.get("player","isTextTrackVisible")();r&&(e.i.autoplay=!1,t=e.h.load(r,n));var s={};for(n=m(vc),i=n.next();!i.done;i=n.next())i=i.value,s[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var l=m(vc),d=l.next();!d.done;d=l.next())d=d.value,e.i[d]=s[d];for(l=m(t0),d=l.next();!d.done;d=l.next()){var c=d.value;d=c[1],c=e.g.get("player",c[0])(),e.h[d](c)}e.h.Oe(u),a&&e.h.ig(a.language,a.roles,a.forced),e.i.autoplay=o,r&&e.i.play()}},function(l){l=new Map().set("detail",l),l=new B("error",l),e.h.dispatchEvent(l)})}function NA(e,t){if(t=="addEventListener")return function(i,r,o){return e.j.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.j.removeEventListener(i,r,o)};if(e.g.Ba()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.Ba()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function _A(e,t){if(e.C.has(t)&&(t=e.C.get(t)),t=="addEventListener")return function(n,i,r){return e.s.addEventListener(n,i,r)};if(t=="removeEventListener")return function(n,i,r){return e.s.removeEventListener(n,i,r)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Zb()};if(t=="getDrmEngine")return function(){return e.h.m};if(t=="getAdManager")return function(){return e.h.ee()};if(t=="setVideoContainer")return function(n){return e.h.rg(n)};if(e.g.Ba()){if(t=="getManifest"||t=="drmInfo")return function(){return pe(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return pe(t+"() does not work while casting!"),Promise.resolve()}}return e.g.Ba()&&Object.keys(e.g.g.video).length==0&&(ns[t]||is[t])||!e.g.Ba()?e.h[t].bind(e.h):e.g.get("player",t)}function d0(e,t,n){e.g.Ba()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.s.dispatchEvent(n))}N("shaka.cast.CastProxy",Be),Be.prototype.changeReceiverId=Be.prototype.Jg,Be.prototype.forceDisconnect=Be.prototype.Jc,Be.prototype.suggestDisconnect=Be.prototype.vh,Be.prototype.setAppData=Be.prototype.kg,Be.prototype.cast=Be.prototype.cast,Be.prototype.receiverName=Be.prototype.Je,Be.prototype.isCasting=Be.prototype.Ba,Be.prototype.canCast=Be.prototype.kf,Be.prototype.getPlayer=Be.prototype.Mc,Be.prototype.getVideo=Be.prototype.cc,Be.prototype.destroy=Be.prototype.destroy;function st(e,t,n,i){fe.call(this);var r=this;this.g=e,this.h=t,this.j=new Ce,this.J={video:e,player:t},this.G=n||function(){},this.K=i||function(o){return o},this.i=null,this.H=!1,this.s=!0,this.m=0,this.D=!1,this.C=!0,this.u=this.l=null,this.I=new re(function(){xc(r)}),UA(this)}se(st,fe),p=st.prototype,p.isConnected=function(){return this.H},p.Ji=function(){return this.s},p.rj=function(e){this.i=e},p.Nh=function(){this.i=null},p.sj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},p.qj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},p.pj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},p.destroy=function(){var e=this,t,n;return C(function(i){if(i.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.I&&(e.I.stop(),e.I=null),e.g=null,e.J=null,e.G=null,e.H=!1,e.s=!0,e.l=null,e.u=null,fe.prototype.release.call(e),y(i,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),O(i)})};function UA(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return c0(e)},t.onSenderDisconnected=function(){return c0(e)},t.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&ii(e,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},e.l),ii(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.u=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.u.onMessage=function(r){return HA(e,r)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(r){return VA(e,r)},t.start(),t=m(Zg);for(var n=t.next();!n.done;n=t.next())e.j.o(e.g,n.value,function(r){return p0(e,"video",r)});for(var i in Za)e.j.o(e.h,Za[i],function(r){return p0(e,"player",r)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.h.ng(3840,2160):e.h.ng(1920,1080),e.j.o(e.g,"loadeddata",function(){e.D=!0}),e.j.o(e.h,"loading",function(){e.s=!1,Jr(e)}),e.j.o(e.g,"playing",function(){e.s=!1,Jr(e)}),e.j.o(e.g,"pause",function(){Jr(e)}),e.j.o(e.h,"unloading",function(){e.s=!0,Jr(e)}),e.j.o(e.g,"ended",function(){new re(function(){e.g&&e.g.ended&&(e.s=!0,Jr(e))}).S(BA)})}function c0(e){e.m=0,e.C=!0,e.H=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Jr(e)}function Jr(e){var t;C(function(n){if(n.g==1)return y(n,Promise.resolve(),2);if(!e.h)return n.return();t=new B("caststatuschanged"),e.dispatchEvent(t),h0(e)||ri(e),O(n)})}function OA(e,t,n){var i,r,o,a,u,s,l,d,c,f;C(function(h){switch(h.g){case 1:for(i in t.player)r=t.player[i],e.h[i](r);return e.G(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,$(h,5),y(h,e.h.load(t.manifest,t.startTime),7)):y(h,Promise.resolve(),3);case 7:oe(h,3);break;case 5:return a=Q(h),u=new Map().set("detail",a),s=new B("error",u),e.h&&e.h.dispatchEvent(s),h.return();case 3:if(!e.h)return h.return();for(l in t.video)d=t.video[l],e.g[l]=d;for(c in t.playerAfterLoad)f=t.playerAfterLoad[c],e.h[c](f);e.g.autoplay=o,t.manifest&&(e.g.play(),ri(e)),O(h)}})}function p0(e,t,n){e.h&&(xc(e),ii(e,{type:"event",targetName:t,event:n},e.l))}function xc(e){e.I.S(jA);for(var t={video:{},player:{}},n=m(IA),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.g[i];if(e.h.R())for(var r in yc)e.m%yc[r]==0&&(t.player[r]=e.h[r]());for(var o in ns)e.m%ns[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),ii(e,{type:"update",update:t},e.l);for(var a in is)e.m%is[a]==0&&(t={player:{}},t.player[a]=e.h[a](),ii(e,{type:"update",update:t},e.l));e.D&&(e.m+=1),h0(e)}function h0(e){return e.C&&(e.g.duration||e.h.R())?(Cc(e),e.C=!1,!0):!1}function Cc(e,t){var n={contentId:e.h.Gf(),streamType:e.h.R()?"LIVE":"BUFFERED",contentType:""};e.h.R()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),ri(e,t===void 0?0:t,n)}function VA(e,t){var n=gc(t.data);switch(n.type){case"init":e.m=0,e.D=!1,e.C=!0,OA(e,n.initState,n.appData),xc(e);break;case"appData":e.G(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,i=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),r=="volume"){t.setSystemVolumeLevel(n);break}else if(r=="muted"){t.setSystemVolumeMuted(n);break}}e.J[i][r]=n;break;case"call":i=e.J[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,i=="player"&&r=="load"&&(e.m=0,e.D=!1);var o=n.id,a=t.senderId;t=e.J[i],n=t[r].apply(t,n.args),i=="player"&&r=="load"&&(n=n.then(function(){e.C=!0})),n.then(function(){return f0(e,a,o,null)},function(u){return f0(e,a,o,u)})}}function HA(e,t){var n=gc(t.data);switch(n.type){case"PLAY":e.g.play(),ri(e);break;case"PAUSE":e.g.pause(),ri(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),i&&i=="PLAYBACK_START"?(e.g.play(),ri(e)):i&&i=="PLAYBACK_PAUSE"&&(e.g.pause(),ri(e));break;case"STOP":e.h.Wc().then(function(){e.h&&ri(e)});break;case"GET_STATUS":Cc(e,Number(n.requestId));break;case"VOLUME":i=n.volume,t=i.level,i=i.muted;var r=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),i!=null&&(e.g.muted=i),r==e.g.volume&&o==e.g.muted||ri(e);break;case"LOAD":e.m=0,e.D=!1,e.C=!1,t=n.media,i=n.currentTime,r=e.K(t.contentId),o=n.autoplay||!0,e.G(t.customData),o&&(e.g.autoplay=!0),e.h.load(r,i).then(function(){e.h&&Cc(e)}).catch(function(a){var u="LOAD_FAILED";a.category==7&&a.code==7e3&&(u="LOAD_CANCELLED"),ii(e,{requestId:Number(n.requestId),type:u},e.u)});break;default:ii(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.u)}}function f0(e,t,n,i){e.h&&ii(e,{type:"asyncComplete",id:n,error:i},e.l,t)}function ii(e,t,n,i){e.H&&(e=Jg(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function ri(e,t,n){n=n===void 0?null:n;var i={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.s?FA:e.h.yd()?GA:e.g.paused?zA:qA,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(i.media=n),ii(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[i]},e.u)}N("shaka.cast.CastReceiver",st),st.prototype.destroy=st.prototype.destroy,st.prototype.setContentArtist=st.prototype.pj,st.prototype.setContentImage=st.prototype.qj,st.prototype.setContentTitle=st.prototype.sj,st.prototype.clearContentMetadata=st.prototype.Nh,st.prototype.setContentMetadata=st.prototype.rj,st.prototype.isIdle=st.prototype.Ji,st.prototype.isConnected=st.prototype.isConnected;var jA=.5,BA=5,FA="IDLE",qA="PLAYING",GA="BUFFERING",zA="PAUSED";function m0(e,t,n,i,r){if(i>=r)return null;for(var o=-1,a=-1,u=0;u<n.length;u++)if(n[u].some(function(w){return w!=null&&w.g.trim()!=""})){o=u;break}for(u=n.length-1;0<=u;u--)if(n[u].some(function(w){return w!=null&&w.g.trim()!=""})){a=u;break}if(o===-1||a===-1)return null;for(var s=u=!1,l="white",d="black",c=Ic(i,r,u,s,l,d);o<=a;o++){for(var f=n[o],h=-1,g=-1,v=0;v<f.length;v++)if(f[v]!=null&&f[v].g.trim()!==""){h=v;break}for(v=f.length-1;0<=v;v--)if(f[v]!=null&&f[v].g.trim()!==""){g=v;break}if(h===-1||g===-1)f=g0(i,r),e.nestedCues.push(f);else{for(;h<=g;h++)if(v=f[h]){var E=v.l,S=v.i,T=v.j,A=v.h;(E!=u||S!=s||T!=l||A!=d)&&(c.payload&&e.nestedCues.push(c),c=Ic(i,r,E,S,T,A),u=E,s=S,l=T,d=A),c.payload+=v.g}else c.payload+=" ";c.payload&&e.nestedCues.push(c),o!==a&&(c=g0(i,r),e.nestedCues.push(c)),c=Ic(i,r,u,s,l,d)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Ic(e,t,n,i,r,o){return e=new Le(e,t,""),n&&e.textDecoration.push("underline"),i&&(e.fontStyle="italic"),e.color=r,e.backgroundColor=o,e}function g0(e,t){return e=new Le(e,t,""),e.lineBreak=!0,e}function v0(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function Mc(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.u=t,this.j=this.m=!1,this.l="white",this.s="black",ha(this)}function as(e,t,n){var i="CC"+((e.C<<1|e.u)+1),r=new Le(t,n,"");r.lineInterpretation=1;var o=YA.get(e.g);return o&&(r.line=o),m0(r,i,e.i,t,n)}function ha(e){oi(e,0,15),e.g=1}function Zr(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case fa:i=w0.has(n)?w0.get(n):String.fromCharCode(n);break;case E0:i=KA.get(n);break;case T0:e.i[e.g].pop(),i=WA.get(n);break;case S0:e.i[e.g].pop(),i=XA.get(n)}i&&e.i[e.g].push(new v0(i,e.m,e.j,e.s,e.l))}}function y0(e,t,n,i){if(!(0>n||0>t))if(t>=n)for(--i;0<=i;i--)e.i[t+i]=e.i[n+i].map(function(o){return o});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(o){return o})}function oi(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var fa=0,E0=1,T0=2,S0=3,w0=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),KA=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),WA=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),XA=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),YA=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function us(e,t){this.h=C0,this.s=new Mc(e,t),this.i=new Mc(e,t),this.g=this.j=new Mc(e,t),this.l=0,this.m=null}function Lc(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==ss&&e.h!==ma&&(r=as(i,e.l,n),n=e.i,n.g=0<n.h?n.h:0,oi(n,0,15),n=e.j,n.g=0<n.h?n.h:0,oi(n,0,15),i.g=15),e.h=ss,i.h=t,r}function A0(e){e.h=$A,e.g=e.j,e.g.h=0}function x0(e){bi("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.s,e.h=ma}var C0=0,$A=1,ss=3,ma=4,QA="black green blue cyan red yellow magenta black".split(" "),I0="white green blue cyan red yellow magenta white_italics".split(" ");function M0(e,t){this.K=t,this.N=e,this.L=this.l=!1,this.m=this.s=this.I=this.M=this.J=0,this.H=ex,this.i=[],this.g=this.h=this.j=0,this.G=this.C=!1,this.D="white",this.u="black",kc(this)}function kc(e){e.i=[];for(var t=0;16>t;t++)e.i.push(bc())}function bc(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Yi(e,t){L0(e)&&(e.i[e.h][e.g]=new v0(t,e.G,e.C,e.u,e.D),e.g++)}function L0(e){var t=e.g<e.m&&0<=e.g;return e.h<e.s&&0<=e.h&&t}M0.prototype.isVisible=function(){return this.l};function $i(e,t,n){var i=new Le(e.j,t,"");i.textAlign=e.H===JA?"left":e.H===ZA?"right":qn;var r=i.region;switch(e.K&&(r.id+="svc"+e.K),r.id+="win"+e.N,r.height=e.s,r.width=e.m,r.heightUnits=2,r.widthUnits=2,r.viewportAnchorX=e.J,r.viewportAnchorY=e.M,r.viewportAnchorUnits=e.L?Wt:2,e.I){case tx:r.regionAnchorX=0,r.regionAnchorY=0;break;case nx:r.regionAnchorX=50,r.regionAnchorY=0;break;case ix:r.regionAnchorX=100,r.regionAnchorY=0;break;case rx:r.regionAnchorX=0,r.regionAnchorY=50;break;case ox:r.regionAnchorX=50,r.regionAnchorY=50;break;case ax:r.regionAnchorX=100,r.regionAnchorY=50;break;case ux:r.regionAnchorX=0,r.regionAnchorY=100;break;case sx:r.regionAnchorX=50,r.regionAnchorY=100;break;case lx:r.regionAnchorX=100,r.regionAnchorY=100}return(n=m0(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}var JA=0,ZA=1,ex=2,tx=0,nx=1,ix=2,rx=3,ox=4,ax=5,ux=6,sx=7,lx=8;function dx(){this.i=[],this.h=null,this.g=0}function cx(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new ls(e.h)),e.h=null,e.g=0))}function ls(e){this.g=0,this.h=e}ls.prototype.xa=function(){return this.g<this.h.length},ls.prototype.Ga=function(){return this.g};function et(e){if(!e.xa())throw new I(2,2,3e3);return e.h[e.g++]}ls.prototype.skip=function(e){if(this.g+e>this.h.length)throw new I(2,2,3e3);this.g+=e};function px(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function hx(e,t,n,i){if(128<=n&&135>=n)i=n&7,e.h[i]&&(e.g=e.h[i]);else{if(n===136){n=et(t).value,t=null,n=m(ga(e,n));for(var r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=$i(r,i,e.i)),kc(r);return t}if(n===137)for(t=et(t).value,t=m(ga(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=i),n.l=!0;else{if(n===138){for(n=et(t).value,t=null,n=m(ga(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=$i(r,i,e.i)),r.l=!1;return t}if(n===139){for(n=et(t).value,t=null,n=m(ga(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()?t=$i(r,i,e.i):r.j=i,r.l=!r.l;return t}if(n===140)return t=et(t).value,k0(e,t,i);if(n===143)return i=k0(e,255,i),b0(e),i;if(n===144)t.skip(1),i=et(t).value,e.g&&(e.g.C=0<(i&128),e.g.G=0<(i&64));else if(n===145)i=et(t).value,n=et(t).value,t.skip(1),e.g&&(t=D0((n&48)>>4,(n&12)>>2,n&3),e.g.D=D0((i&48)>>4,(i&12)>>2,i&3),e.g.u=t);else if(n===146)i=et(t).value,t=et(t).value,e.g&&(e=e.g,e.h=i&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),i=et(t).value,t.skip(1),e.g&&(e.g.H=i&3);else if(152<=n&&159>=n){if(n=(n&15)-8,r=e.h[n]!==null,!r){var o=new M0(n,e.i);o.j=i,e.h[n]=o}i=et(t).value,o=et(t).value;var a=et(t).value,u=et(t).value,s=et(t).value;t=et(t).value,r&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.G=!1,t.C=!1,t.D="white",t.u="black"),t=e.h[n],t.l=0<(i&32),t.M=o&127,t.J=a,t.I=(u&240)>>4,t.L=0<(o&128),t.s=(u&15)+1,t.m=(s&63)+1,e.g=e.h[n]}}}return null}function ga(e,t){for(var n=[],i=0;8>i;i++)(t&1)===1&&e.h[i]&&n.push(i),t>>=1;return n}function k0(e,t,n){var i=null;t=m(ga(e,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=e.h[r];o.isVisible()&&(i=$i(o,n,e.i)),e.h[r]=null}return i}function b0(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function D0(e,t,n){var i={0:0,1:0,2:1,3:1};return e=i[e],t=i[t],n=i[n],fx[e<<2|t<<1|n]}var P0=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),fx="black blue green cyan red magenta yellow white".split(" ");function eo(){this.h=[],this.g=[],this.i=new dx,this.l=0,this.m=new Map([["CC1",new us(0,0)],["CC2",new us(0,1)],["CC3",new us(1,0)],["CC4",new us(1,1)]]),this.u=this.s=0,this.j=new Map,this.D=!0,this.C=new Set,Dc(this)}eo.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Dc(this),e=m(this.j.values());for(var t=e.next();!t.done;t=e.next())b0(t.value)};function Dc(e){e.s=0,e.u=0;for(var t=m(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=C0,n.g=n.j,n.m=null,ha(n.i),ha(n.j),ha(n.s);e.D=!0}eo.prototype.extract=function(e,t){if(this.D){for(var n=m(this.m.values()),i=n.next();!i.done;i=n.next())i.value.l=t;this.D=!1}if(e=new Ae(e,0),!(8>e.getLength())&&e.ra()===181&&e.Ua()===49&&e.O()===1195456820&&e.ra()===3&&(n=e.ra(),(n&64)!==0))for(n&=31,e.skip(1),i=0;i<n;i++){var r=e.ra(),o=(r&4)>>2,a=e.ra(),u=e.ra();o&&(r&=3,r===0||r===1?this.h.push({pts:t,type:r,jb:a,Jb:u,order:this.h.length}):(this.g.push({pts:t,type:r,value:a,order:this.g.length}),this.g.push({pts:t,type:2,value:u,order:this.g.length})))}},eo.prototype.decode=function(){function e(r,o){return r.pts-o.pts||r.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=m(this.h),i=n.next();!i.done;i=n.next())(i=mx(this,i.value))&&t.push(i);for(n=m(this.g),i=n.next();!i.done;i=n.next())cx(this.i,i.value);for(n=m(this.i.i),i=n.next();!i.done;i=n.next())i=gx(this,i.value),t.push.apply(t,H(i));return this.i.i=[],this.h=[],this.g=[],t};function mx(e,t){var n=t.type;if((t.jb&112)===16){var i=t.jb>>3&1;n===0?e.s=i:e.u=i}if(i="CC"+((n<<1|(n?e.u:e.s))+1),n=e.m.get(i),t.jb===255&&t.Jb===255||!t.jb&&!t.Jb||!R0(t.jb)||!R0(t.Jb))return 45<=++e.l&&Dc(e),null;if(e.l=0,t.jb&=127,t.Jb&=127,!t.jb&&!t.Jb)return null;if(e.C.add(i),e=null,(t.jb&112)===16)e:{if(i=t.jb,e=t.Jb,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,(i&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|e>>5&1];var r=(e&30)>>1;i="white";var o=!1;7>r?i=I0[r]:r===7&&(o=!0),e=(e&1)===1,n.h!==ma&&(r=n.g,n.h===ss&&t!==r.g&&(n=1+t-r.h,y0(r,n,1+r.g-r.h,r.h),oi(r,0,n-1),oi(r,t+1,15-t)),r.g=t,r.m=e,r.j=o,r.l=i,r.s="black")}else if((i&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",Zr(n.g,fa,32),i=!1,t=I0[(e&14)>>1],t==="white_italics"&&(t="white",i=!0),n.g.m=(e&1)===1,n.g.j=i,n.g.l=t;else if((i&247)===16&&(e&240)===32||(i&247)===23&&(e&255)===45)t="black",!(i&7)&&(t=QA[(e&14)>>1]),n.g.s=t;else if((i&247)===17&&(e&240)===48)Zr(n.g,E0,e);else if((i&246)===18&&(e&224)===32)Zr(n.g,i&1?S0:T0,e);else if((i&246)===20&&(e&240)===32){switch(e=t.pts,i=null,t.Jb){case 32:A0(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:i=Lc(n,2,e);break;case 38:i=Lc(n,3,e);break;case 39:i=Lc(n,4,e);break;case 40:Zr(n.g,fa,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:ha(n.s),x0(n);break;case 43:x0(n);break;case 44:t=n.i,i=null,n.h!==ma&&(i=as(t,n.l,e)),oi(t,0,15);break;case 45:t=n.g,n.h!==ss?i=null:(i=as(t,n.l,e),o=t.g-t.h+1,y0(t,o-1,o,t.h),oi(t,0,o-1),oi(t,t.g,15-t.g),n.l=e);break;case 46:oi(n.j,0,15);break;case 47:t=null,n.h!==ma&&(t=as(n.i,n.l,e)),i=n.j,n.j=n.i,n.i=i,A0(n),n.l=e,i=t}e=i;break e}e=null}else i=t.Jb,Zr(n.g,fa,t.jb),Zr(n.g,fa,i);return e}function gx(e,t){var n=[];try{for(;t.xa();){var i=et(t).value,r=(i&224)>>5,o=i&31;if(r===7&&o!=0&&(r=et(t).value&63),r!=0){e.C.add("svc"+r),e.j.has(r)||e.j.set(r,new px(r));for(var a=e.j.get(r),u=t.Ga();t.Ga()-u<o;){r=t;var s=et(r),l=s.value,d=s.pts;if(l===16){var c=et(r);l=l<<16|c.value}if(0<=l&&31>=l){var f=d;if(a.g){var h=a.g;switch(r=null,l){case 8:!L0(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.m-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(r=$i(h,f,a.i)),h.h+1>=h.s){f=h;for(var g=0,v=1;16>v;v++,g++)f.i[g]=f.i[v];for(v=0;1>v;v++,g++)f.i[g]=bc()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(r=$i(h,f,a.i)),h.i[h.h]=bc(),h.g=0;break;case 12:h.isVisible()&&(r=$i(h,f,a.i)),kc(h),f=h,f.h=0,f.g=0}var E=r}else E=null}else if(128<=l&&159>=l)E=hx(a,r,l,d);else{if(4096<=l&&4127>=l)f=l&255,8<=f&&15>=f?r.skip(1):16<=f&&23>=f?r.skip(2):24<=f&&31>=f&&r.skip(3);else if(4224<=l&&4255>=l)f=l&255,128<=f&&135>=f?r.skip(4):136<=f&&143>=f&&r.skip(5);else if(32<=l&&127>=l)r=l,a.g&&(r===127?Yi(a.g,"♪"):Yi(a.g,String.fromCharCode(r)));else if(160<=l&&255>=l)a.g&&Yi(a.g,String.fromCharCode(l));else if(4128<=l&&4223>=l){if(r=l&255,a.g)if(P0.has(r)){var S=P0.get(r);Yi(a.g,S)}else Yi(a.g,"_")}else 4256<=l&&4351>=l&&a.g&&((l&255)!=160?Yi(a.g,"_"):Yi(a.g,"[CC]"));E=null}(r=E)&&n.push(r)}}}}catch(T){if(T instanceof I&&T.code===3e3)bi("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw T}return n}function R0(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}eo.prototype.getStreams=function(){return Array.from(this.C)},N("shaka.cea.CeaDecoder",eo),vr=function(){return new eo};function N0(e){for(var t=[],n=e,i=e=0;i<n.length;)e==2&&n[i]==3?(e=0,n=[].concat(H(n)),n.splice(i,1),n=new Uint8Array(n)):n[i]==0?e++:e=0,i++;for(e=n,i=0;i<e.length;){for(n=0;e[i]==255;)n+=255,i++;n+=e[i++];for(var r=0;e[i]==255;)r+=255,i++;r+=e[i++],n==4&&t.push(e.subarray(i,i+r)),i+=r}return t}function ds(){this.j=new Map,this.i=this.h=0,this.g=Pc}ds.prototype.init=function(e){function t(o){o=o.name,o in cs&&(n.g=cs[o])}var n=this,i=[],r=[];if(new Ie().box("moov",Te).box("mvex",Te).T("trex",function(o){var a=o.reader;a.skip(4),a.skip(4),o=a.O(),a=a.O(),n.h=o,n.i=a}).box("trak",Te).T("tkhd",function(o){o=vm(o.reader,o.version),i.push(o.trackId)}).box("mdia",Te).T("mdhd",function(o){o=bu(o.reader,o.version),r.push(o.timescale)}).box("minf",Te).box("stbl",Te).T("stsd",Rr).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",Au).box("sinf",Te).box("frma",function(o){o=Em(o.reader).wa,o in cs&&(n.g=cs[o])}).parse(e,!0),!i.length||!r.length||i.length!=r.length)throw new I(2,2,2010);this.g==Pc&&pe("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(o,a){n.j.set(o,r[a])})},ds.prototype.parse=function(e){var t=this;if(this.g==Pc)return[];var n=[],i=this.h,r=this.i,o=0,a=[],u=null,s=9e4;return new Ie().box("moof",function(l){o=l.start,a=[],Te(l)}).box("traf",Te).T("trun",function(l){l=gm(l.reader,l.version,l.flags),a.push(l)}).T("tfhd",function(l){l=mm(l.reader,l.flags),i=l.Og||t.h,r=l.Qh||t.i,l=l.trackId,t.j.has(l)&&(s=t.j.get(l))}).T("tfdt",function(l){u=Cd(l.reader,l.version).baseMediaDecodeTime}).box("mdat",function(l){if(u===null)throw pe("Unable to find base media decode time for CEA captions!"),new I(2,2,2010);vx(t,l.reader,u,s,i,r,o-l.start-8,a,n)}).parse(e,!1),n};function vx(e,t,n,i,r,o,a,u,s){var l=0,d=o,c=u.map(function(g){return g.lh});for(c=[].concat.apply([],H(c)),c.length&&(d=c[0].sampleSize||o),t.skip(a+u[0].Ph);t.xa();){a=t.O();var f=t.ra(),h=null;switch(h=!1,u=1,e.g){case Rc:h=f&31,h=h==6;break;case va:u=2,t.skip(1),h=f>>1&63,h=h==39||h==40;break;default:return}if(h)for(f=0,l<c.length&&(f=c[l].Ke||0),f=(n+f)/i,u=m(N0(t.Sb(a-u))),h=u.next();!h.done;h=u.next())s.push({packet:h.value,pts:f});else try{t.skip(a-u)}catch{break}d-=a+4,d==0&&(n=l<c.length?n+(c[l].gg||r):n+r,l++,l<c.length?d=c[l].sampleSize||o:d=o)}}N("shaka.cea.Mp4CeaParser",ds);var Pc=0,Rc=1,va=2,cs={avc1:Rc,avc3:Rc,hev1:va,hvc1:va,dvh1:va,dvhe:va};gr["video/mp4"]=function(){return new ds};function ps(){}ps.prototype.init=function(){},ps.prototype.parse=function(e){var t=[];if(e=ae(e),!kd(e))return t;e=new Me().parse(e);var n=e.sd(),i=e.le();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=m(i),i=n.next();!i.done;i=n.next())if(i=i.value,e.includes(i.type)&&i.time!=null)for(var r=m(N0(i.data)),o=r.next();!o.done;o=r.next())t.push({packet:o.value,pts:i.time});return t},N("shaka.cea.TsCeaParser",ps),gr["video/mp2t"]=function(){return new ps};function _0(e,t,n){var i=wx(e),r=null;e=[];var o=[],a=null,u=new Set(i.map(function(s){return s.keyId}));if(u.delete(null),1<u.size)throw new I(2,4,4010);if(!t){if(o=i.filter(function(s){return s.Jd=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new I(2,4,4050);o.length&&(a=xx(o[0])),o=i.filter(function(s){return s.Jd=="urn:mpeg:dash:mp4protection:2011"?(r=s.init||r,!1):s.Jd!="urn:mpeg:dash:sea:2012"}),o.length&&(e=Sx(r,o,n,u),e.length==0&&(e=[ci("",r)]))}if(i.length&&!a&&(t||!o.length))for(e=[],t=m(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(ci(n,r));if(u=Array.from(u)[0]||null)for(t=m(e),n=t.next();!n.done;n=t.next())for(n=m(n.value.initData),i=n.next();!i.done;i=n.next())i.value.keyId=u;return{Ng:u,xk:r,drmInfos:e,gf:a,Rg:!0}}function yx(e,t,n,i){var r=_0(e,n,i);if(t.Rg)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=r.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=r.drmInfos),t.Rg=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return r.drmInfos.some(function(a){return a.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new I(2,4,4008);return r.Ng||t.Ng}function Ex(e){var t=0,n=bt(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,r&1||r+e>n.byteLength){n=[];break e}var o=ae(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function Tx(e){e=m(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=m(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n instanceof Element&&n.tagName=="LA_URL")return n.textContent}return""}function hs(e){var t=Qn(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qn(e.node,"urn:microsoft:playready","pro"),!e||(e=hn(e.textContent),e=Ex(e).filter(function(n){return n.type===Cx})[0],!e)?"":(e=Xn(e.value,!0),(e=_r(e,"WRMHEADER"))?Tx(e):""))}function Sx(e,t,n,i){var r=[];t=m(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var a=n[o.Jd];if(a){var u;if(u=Qn(o.node,"urn:microsoft:playready","pro")){u=hn(u.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Cu(u,s,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(s=null,o.Jd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e")if(s=i,s.size==0)s=null;else{var l=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),d=new Uint8Array([]);s=[{initData:Cu(d,l,s,1),initDataType:"cenc",keyId:o.keyId}]}u=ci(a,o.init||e||u||s),(a=Ix.get(a))&&(u.licenseServerUri=a(o)),r.push(u)}}return r}function wx(e){var t=[];e=m(e);for(var n=e.next();!n.done;n=e.next())(n=Ax(n.value))&&t.push(n);return t}function Ax(e){var t=e.getAttribute("schemeIdUri"),n=Gi(e,"urn:mpeg:cenc:2013","default_KID"),i=Kf(e,"urn:mpeg:cenc:2013","pssh").map(zi);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new I(2,4,4009);var r=[];try{r=i.map(function(o){return{initDataType:"cenc",initData:hn(o),keyId:null}})}catch{throw new I(2,4,4007)}return{node:e,Jd:t,keyId:n,init:0<r.length?r:null}}function xx(e){if(!D.crypto||!D.crypto.subtle)throw pe("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new I(2,4,4042);var t=Qn(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new I(2,4,4051);if(t.getAttribute("schemeIdUri")!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new I(2,4,4051);if(t=Qn(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new I(2,4,4051);if(e=t.getAttribute("IV"),t=t.getAttribute("keyUriTemplate"),!e||!t)throw new I(2,4,4051);if(e=qi(e.substr(2)),e.byteLength!=16)throw new I(2,4,4048);return{Qi:t,iv:e}}var Cx=1,Ix=new Map().set("com.widevine.alpha",function(e){var t=Qn(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qn(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",hs).set("com.microsoft.playready.recommendation",hs).set("com.microsoft.playready.software",hs).set("com.microsoft.playready.hardware",hs).set("org.w3.clearkey",function(e){var t=Qn(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.getAttribute("Lic_type")==="EME-1.0"&&e.textContent?e.textContent:""});function fs(e,t,n,i,r,o){var a={RepresentationID:t,Number:n,SubNumber:i,Bandwidth:r,Time:o};return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(u,s,l,d){if(u=="$$")return"$";var c=a[s];if(c==null)return u;switch(s=="RepresentationID"&&l&&(l=void 0),s=="Time"&&typeof c!="bigint"&&(.2<=Math.abs(c-Math.round(c))&&pe("Calculated $Time$ values must be close to integers"),c=Math.round(c)),d){case void 0:case"d":case"i":case"u":u=c.toString();break;case"o":u=c.toString(8);break;case"x":u=c.toString(16);break;case"X":u=c.toString(16).toUpperCase();break;default:u=c.toString()}return l=D.parseInt(l,10)||1,Array(Math.max(0,l-u.length)+1).join("0")+u})}function U0(e,t){var n=Vn(e,t,"timescale"),i=1;n&&(i=Zn(n)||1);var r=Vn(e,t,"duration");n=Zn(r||""),e.P.contentType=="image"&&(n=Wo(r||"")),n&&(n/=i);var o=Vn(e,t,"startNumber");r=Number(Vn(e,t,"presentationTimeOffset"))||0;var a=xt(o||"");(o==null||a==null)&&(a=1);var u=ms(e,t,"SegmentTimeline");if(t=null,u){t=i,e=e.ma.duration||1/0,o=a,u=Re(u,"S");for(var s=[],l=-r,d=0;d<u.length;++d){var c=u[d],f=u[d+1],h=he(c,"t",xt),g=he(c,"d",xt),v=he(c,"r",Mu);if(c=he(c,"k",Mu)||0,h!=null&&(h-=r),!g)break;if(h=h??l,v=v||0,0>v)if(f){if(f=he(f,"t",xt),f==null)break;if(h>=f)break;v=Math.ceil((f-h)/g)-1}else{if(e==1/0)break;if(h/t>=e)break;v=Math.ceil((e*t-h)/g)-1}for(0<s.length&&h!=l&&(s[s.length-1].end=h/t),f=0;f<=v;++f)l=h+g,s.push({start:h/t,end:l/t,zg:h,Bb:c,nj:s.length+o}),h=l}t=s}return{timescale:i,Pa:n,Nd:a,Tb:r/i||0,yg:r,timeline:t}}function O0(e,t){return[t(e.P),t(e.Ea),t(e.Ka)].filter(Sr)}function Vn(e,t,n){t=O0(e,t),e=null,t=m(t);for(var i=t.next();!i.done&&!(e=i.value.getAttribute(n));i=t.next());return e}function ms(e,t,n){t=O0(e,t),e=null,t=m(t);for(var i=t.next();!i.done&&!(e=fn(i.value,n));i=t.next());return e}function Mx(e,t,n,i,r,o){for(var a=Gi(e,"http://www.w3.org/1999/xlink","href"),u=Gi(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",s=m(Array.from(e.attributes)),l=s.next();!l.done;l=s.next())l=l.value,l.namespaceURI=="http://www.w3.org/1999/xlink"&&e.removeAttributeNS(l.namespaceURI,l.localName);if(5<=o)return Vi(new I(2,4,4028));if(u!="onLoad")return Vi(new I(2,4,4027));var d=ht([i],[a]);return r.request(0,it(d,t)).Fa(function(c){if(c=gd(c.data,e.tagName),!c)return Vi(new I(2,4,4001,a));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;c.childNodes.length;){var f=c.childNodes[0];c.removeChild(f),e.appendChild(f)}for(c=m(Array.from(c.attributes)),f=c.next();!f.done;f=c.next())e.setAttributeNode(f.value.cloneNode(!1));return gs(e,t,n,d[0],r,o+1)})}function gs(e,t,n,i,r,o){if(o=o===void 0?0:o,Gi(e,"http://www.w3.org/1999/xlink","href")){var a=Mx(e,t,n,i,r,o);return n&&(a=a.Fa(void 0,function(){return gs(e,t,n,i,r,o)})),a}a=[];for(var u=m(Array.from(e.childNodes)),s=u.next();!s.done;s=u.next())s=s.value,s instanceof Element&&(Gi(s,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.removeChild(s):s.tagName!="SegmentTimeline"&&a.push(gs(s,t,n,i,r,o)));return Nf(a).Fa(function(){return e})}function Lx(e,t,n,i,r,o,a){var u,s=new Ie().T("sidx",function(l){u=kx(t,i,r,o,a,n,l)});if(e&&s.parse(e),u)return u;throw new I(2,3,3004)}function kx(e,t,n,i,r,o,a){var u=[];a.reader.skip(4);var s=a.reader.O();if(s==0)throw new I(2,3,3005);if(a.version==0)var l=a.reader.O(),d=a.reader.O();else l=a.reader.Uc(),d=a.reader.Uc();a.reader.skip(2);var c=a.reader.Ua();for(e=e+a.size+d,d=0;d<c;d++){var f=a.reader.O(),h=(f&2147483648)>>>31;f&=2147483647;var g=a.reader.O();if(a.reader.skip(4),h==1)throw new I(2,3,3006);u.push(new J(l/s+n,(l+g)/s+n,function(){return o},e,e+f-1,t,n,i,r)),l+=g,e+=f}return a.parser.stop(),u}function Ei(e){this.h=bt(e),this.g=new Ae(this.h,0)}Ei.prototype.xa=function(){return this.g.xa()};function ai(e){var t=V0(e);if(7<t.length)throw new I(2,3,3002);var n=0;t=m(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=V0(e);e:{i=m(bx);for(var r=i.next();!r.done;r=i.next())if(pi(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.Ga();else{if(t.length==8&&t[1]&224)throw new I(2,3,3001);for(r=i=0;r<t.length;r++){var o=t[r];i=r==0?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.g.Ga()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Ga(),i=bt(e.h,e.g.Ga(),t),e.g.skip(t),new Dx(n,i)}function V0(e){var t=e.g.Ga(),n=e.g.ra();if(n==0)throw new I(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),ae(e.h,t,n)}var bx=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Dx(e,t){this.id=e,this.g=t}function Nc(e){if(8<e.g.byteLength)throw new I(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new I(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var i=e.g.getUint8(n);t=256*t+i}return t}function Px(e,t,n,i,r,o,a,u,s){function l(){return r}var d=[];e=new Ei(e.g);for(var c=null,f=null;e.xa();){var h=ai(e);if(h.id==187){var g=Rx(h);g&&(h=n*g.wj,g=t+g.cj,c!=null&&d.push(new J(c+a,h+a,l,f,g-1,o,a,u,s)),c=h,f=g)}}return c!=null&&d.push(new J(c+a,i+a,l,f,null,o,a,u,s)),d}function Rx(e){var t=new Ei(e.g);if(e=ai(t),e.id!=179)throw new I(2,3,3013);if(e=Nc(e),t=ai(t),t.id!=183)throw new I(2,3,3012);t=new Ei(t.g);for(var n=0;t.xa();){var i=ai(t);if(i.id==241){n=Nc(i);break}}return{wj:e,cj:n}}function H0(e,t,n){if(t=ms(e,t,"Initialization"),!t)return null;var i=e.P.zb(),r=t.getAttribute("sourceURL");r&&(i=ht(i,[r])),r=0;var o=null;return(t=he(t,"range",Iu))&&(r=t.start,o=t.end),new Xt(function(){return i},r,o,q0(e),null,null,n)}function Nx(e,t,n){var i=Number(Vn(e,to,"presentationTimeOffset"))||0,r=Vn(e,to,"timescale"),o=1;r&&(o=Zn(r)||1);var a=i/o||0,u=H0(e,to,n);_x(e,u);var s=df(e);return{Kc:function(){var l=ms(s,to,"RepresentationIndex"),d=s.P.zb();return l&&(l=l.getAttribute("sourceURL"))&&(d=ht(d,[l])),l=B0(s),j0(s,t,u,d,l.start,l.end,a)}}}function j0(e,t,n,i,r,o,a){var u,s,l,d,c,f,h,g,v,E,S,T,A,w,x;return C(function(M){if(M.g==1)return u=e.presentationTimeline,s=!e.Yb||!e.ma.Mf,l=e.ma.start,d=e.ma.duration,c=e.P.mimeType.split("/")[1],f=t,h=null,g=[f(i,r,o,!1),c=="webm"?f(n.ba(),n.hb,n.Na,!0):null],f=null,y(M,Promise.all(g),2);if(v=M.h,E=v[0],S=v[1]||null,T=null,A=l-a,w=l,x=d?l+d:1/0,c=="mp4")var b=Lx(E,r,i,n,A,w,x);else{if(b=new Ei(S),ai(b).id!=440786851)throw new I(2,3,3008);var L=ai(b);if(L.id!=408125543)throw new I(2,3,3009);b=L.g.byteOffset,L=new Ei(L.g);for(var k=null;L.xa();){var R=ai(L);if(R.id==357149030){k=R;break}}if(!k)throw new I(2,3,3010);for(k=new Ei(k.g),R=1e6,L=null;k.xa();){var _=ai(k);if(_.id==2807729)R=Nc(_);else if(_.id==17545)if(_.g.byteLength==4)L=_.g.getFloat32(0);else if(_.g.byteLength==8)L=_.g.getFloat64(0);else throw new I(2,3,3003)}if(L==null)throw new I(2,3,3011);if(k=R/1e9,L*=k,R=ai(new Ei(E)),R.id!=475249515)throw new I(2,3,3007);b=Px(R,b,k,L,i,n,A,w,x)}return T=b,u.Dd(T),h=new ye(T),s&&h.Ic(w,x,!0),M.return(h)})}function to(e){return e.Ld}function B0(e){var t=ms(e,to,"RepresentationIndex");return e=Vn(e,to,"indexRange"),e=Iu(e||""),t&&(e=he(t,"range",Iu,e)),e}function _x(e,t){if(F0(e,t),!B0(e))throw new I(2,4,4002)}function F0(e,t){var n=e.P.mimeType.split("/")[1];if(e.P.contentType!=me&&n!="mp4"&&n!="webm")throw new I(2,4,4006);if(n=="webm"&&!t)throw new I(2,4,4005)}function q0(e){var t=e.P;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.De,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function Ux(e,t,n){var i=H0(e,G0,n),r=Ox(e);if(!r.Pa&&!r.timeline&&1<r.Rc.length)throw new I(2,4,4002);if(!r.Pa&&!e.ma.duration&&!r.timeline&&r.Rc.length==1)throw new I(2,4,4002);if(r.timeline&&r.timeline.length==0)throw new I(2,4,4002);var o=null,a=null;e.Ka.id&&e.P.id&&(a=t[e.Ka.id+","+e.P.id])&&(o=a.segmentIndex);var u=Vx(e.ma.start,e.ma.duration,e.P.zb,r,i,n);return t=!o,o?o.Cd(u,e.presentationTimeline.Ab()):o=new ye(u),e.presentationTimeline.Dd(u),e.Yb&&e.ma.Mf||o.Ic(e.ma.start,e.ma.duration?e.ma.start+e.ma.duration:1/0,t),a&&(a.segmentIndex=o),{Kc:function(){return o&&o.$b()!=0||o.ze(u),Promise.resolve(o)}}}function G0(e){return e.fc}function Ox(e){var t=Hx(e);e=U0(e,G0);var n=e.Nd;n==0&&(n=1);var i=0;return e.Pa?i=e.Pa*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{Pa:e.Pa,startTime:i,Nd:n,Tb:e.Tb,timeline:e.timeline,Rc:t}}function Vx(e,t,n,i,r,o){var a=i.Rc.length;i.timeline&&i.timeline.length!=i.Rc.length&&(a=Math.min(i.timeline.length,i.Rc.length));for(var u=e-i.Tb,s=t?e+t:1/0,l=[],d=i.startTime,c={},f=0;f<a;c={kd:c.kd,fd:c.fd},f++){c.fd=i.Rc[f];var h=void 0;h=i.Pa!=null?d+i.Pa:i.timeline?i.timeline[f].end:d+t,c.kd=null,l.push(new J(e+d,e+h,function(g){return function(){return g.kd==null&&(g.kd=ht(n(),[g.fd.Vi])),g.kd}}(c),c.fd.start,c.fd.end,r,u,e,s,[],"",null,null,gi,o)),d=h}return l}function Hx(e){return[e.P.fc,e.Ea.fc,e.Ka.fc].filter(Sr).map(function(t){return Re(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.getAttribute("indexRange")&&!e.Zg&&(e.Zg=!0);var n=t.getAttribute("media");return t=he(t,"mediaRange",Iu,{start:0,end:null}),{Vi:n,start:t.start,end:t.end}})}function jx(e,t,n,i,r,o,a){var u=Gx(e,a),s=Bx(e);Fx(s);var l=df(e);if(s.xd)return F0(e,u),{Kc:function(){var g=fs(s.xd,l.P.id,null,null,l.bandwidth||null,null);return g=ht(l.P.zb(),[g]),j0(l,t,u,g,0,null,s.Tb)}};if(s.Pa)return i||e.Ea.contentType==="image"||(e.presentationTimeline.Wf(s.Pa),e.presentationTimeline.Ce(e.ma.start)),{Kc:function(){return qx(l,s,r,u,o,a)}};var d=null;i=i=null,e.Ka.id&&e.P.id&&(i=e.Ka.id+","+e.P.id,i=n[i])&&(d=i.segmentIndex);var c=e.ma.start,f=e.ma.duration?c+e.ma.duration:1/0,h=!(e.Yb&&e.ma.Mf);return d?(n=d,z0(n,s,c,f,h,u),n.yb(e.presentationTimeline.Ab())):d=new ys(s,e.P.id,e.bandwidth,e.P.zb,c,f,u,h,a,e.P.hg),s.timeline&&e.Ea.contentType!=="image"&&e.presentationTimeline.hh(s.timeline,c),i&&e.Yb&&(i.segmentIndex=d),{Kc:function(){return d instanceof ys&&d.$b()==0&&z0(d,s,c,f,h,u),Promise.resolve(d)}}}function vs(e){return e.Md}function Bx(e){var t=U0(e,vs),n=Vn(e,vs,"media");return e=Vn(e,vs,"index"),{Pa:t.Pa,timescale:t.timescale,Nd:t.Nd,Tb:t.Tb,yg:t.yg,timeline:t.timeline,Sc:n,xd:e}}function Fx(e){var t=e.xd?1:0;if(t+=e.timeline?1:0,t+=e.Pa?1:0,t==0)throw new I(2,4,4002);if(t!=1&&(e.xd&&(e.timeline=null),e.Pa=null),!e.xd&&!e.Sc)throw new I(2,4,4002)}function qx(e,t,n,i,r,o){function a(R){var _=(R-g)*h,U=_+t.Tb,j=_+d;_=j+h;var W=Math.min(_,s());return j=new J(j,W,function(){var Y=U*v;return"BigInt"in D&&Y>Number.MAX_SAFE_INTEGER&&(Y=BigInt(U)*BigInt(v)),Y=fs(E,T,R,null,S,Y),ht(A(),[Y])},0,null,i,w,d,s(),[],"",null,null,gi,o),j.h=_,j}function u(){var R=[Math.max(l.Ab(),d),Math.min(l.ac(),s())].map(function(_){return _-d});return[Math.ceil(R[0]/h),Math.ceil(R[1]/h)-1].map(function(_){return _+g})}function s(){var R=c!=null&&r[c]||f;return R?d+R:1/0}var l=e.presentationTimeline,d=e.ma.start,c=e.Ka.id,f=e.ma.duration,h=t.Pa,g=t.Nd,v=t.timescale,E=t.Sc,S=e.bandwidth||null,T=e.P.id,A=e.P.zb,w=d-t.Tb,x=u();e=e.Yb?Math.max(x[0],x[1]-n+1):x[0],x=x[1],n=[];for(var M=e;M<=x;++M){var b=a(M);n.push(b)}var L=new ye(n);if(n=l.ac()<s(),M=l.R(),n||M){var k=Math.max(e,x+1);L.Qe(h,function(){var R=l.Ab();L.yb(R);var _=m(u());_.next(),_=_.next().value;for(var U=[];k<=_;){var j=a(k);U.push(j),k++}return R>s()&&!U.length?null:U})}return Promise.resolve(L)}function Gx(e,t){var n=Vn(e,vs,"initialization");if(!n)return null;var i=e.P.id,r=e.bandwidth||null,o=e.P.zb;return new Xt(function(){var a=fs(n,i,null,null,r,null);return ht(o(),[a])},0,null,q0(e),null,null,t)}function ys(e,t,n,i,r,o,a,u,s,l){ye.call(this,[]),this.h=e,this.H=t,this.D=n,this.G=i,this.i=r,this.l=o,this.u=a,this.C=s,this.I=l,u&&K0(this)}se(ys,ye),p=ys.prototype,p.$b=function(){return this.h?this.h.timeline.length:0},p.release=function(){ye.prototype.release.call(this),this.h=null},p.yb=function(e){if(this.h){for(var t=0,n=this.h.timeline,i=0;i<n.length&&n[i].end+this.i<=e;i+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.j+=t,this.$b()===0&&this.release())}};function z0(e,t,n,i,r,o){if(e.u=o,e.h){n=e.h.timeline,e.h.Sc=t.Sc;var a=n[n.length-1];t=t.timeline.filter(function(u){return u.start>=a.end}),0<t.length&&e.h.timeline.push.apply(e.h.timeline,H(t)),e.l!==i&&(e.l=i)}else e.h=t,e.i=n,e.l=i;r&&K0(e)}function K0(e){if(!e.s){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.l;)t.pop();e.yb(e.i)}}p.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.i)return this.j;if(!this.h)return null;var t=this.h.timeline;if(e<this.i||e>=this.l)return null;for(var n=t.length-1,i=0;i<t.length;i++){var r=t[i],o=r.start+this.i;if(r=i<n?t[i+1].start+this.i:this.l===1/0?r.end+this.i:this.l,e>=o&&e<r)return i+this.j}return null},p.get=function(e){var t=this;if(e-=this.j,0>e||e>=this.$b()||!this.h)return null;var n=this.g[e];if(!n){var i=this.h.Sc,r=this.h.timeline[e],o=r.nj,a=this.h.yg+r.zg;n=this.i-this.h.Tb;var u=this.i+r.end,s=u;e===this.$b()-1&&this.l!==1/0&&(s=this.l);for(var l=[],d=(r.end-r.start)/r.Bb,c={},f=0;f<r.Bb;c={ld:c.ld,$e:c.$e},f++){var h=r.start+d*f,g=h+d;c.$e=f+1,c.ld=null,h=new J(this.i+h,this.i+g,function(v){return function(){return t.h?(v.ld==null&&(v.ld=W0(t.h.Sc,t.H,o,t.D,a,v.$e,t.G)),v.ld):[]}}(c),0,null,this.u,n,this.i,this.l,[],"",null,null,gi,this.C),this.I==0?0<f&&h.xe():f%this.I!=0&&h.xe(),l.push(h)}n=new J(this.i+r.start,s,function(){return 0<r.Bb?[]:W0(i,t.H,o,t.D,a,null,t.G)},0,null,this.u,n,this.i,this.l,l,"",null,null,gi,this.C,0<r.Bb),n.h=u,this.g[e]=n}return n};function W0(e,t,n,i,r,o,a){return e=fs(e,t,n,o,i||null,r),ht(a(),[e]).map(function(u){return u.toString()})}function ya(e){this.s=null,this.C=e,this.I=new br,this.j=[],this.h=null,this.m=[],this.D=null,this.H=[],this.G=300,this.l=new Map,this.i=new Map,this.g=null,this.u="UNKNOWN"}ya.prototype.configure=function(e){this.s=e},ya.prototype.destroy=function(){return this.C=this.s=null,this.j=[],this.h=null,this.m=[],this.H=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.I.destroy()},ya.prototype.setManifestType=function(e){this.u=e};function Ea(e,t){var n,i,r,o,a,u,s;return C(function(l){if(l.g==1)return n=ht(e.j,[zx(e,t)]),i=it(n,e.s.retryParameters),r=e.C.networkingEngine.request(8,i),Hi(e.I,r),$(l,2),y(l,r.promise,4);if(l.g!=2)return o=l.h,a=Pe(o.data),u=JSON.parse(a),u.VERSION==1&&Kx(e,u,o.uri),oe(l,0);if((s=Q(l))&&s.code==7001)return l.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new re(function(){Ea(e,t)}),e.g.S(e.G),O(l)})}function zx(e,t){if(!e.m.length)return t;t=new Fe(t);var n=e.D||e.m[0],i=Math.round(e.C.getBandwidthEstimate()),r=t.g;return e.u=="DASH"?(r.add("_DASH_pathway",n),r.add("_DASH_throughput",String(i))):e.u=="HLS"&&(r.add("_HLS_pathway",n),r.add("_HLS_throughput",String(i))),Gh(r)&&ko(t,r),t.toString()}function Kx(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var i=t["RELOAD-URI"]||n;e.g=new re(function(){Ea(e,i)}),(n=t.TTL)&&(e.G=n),e.g.S(e.G),e.m=t["PATHWAY-PRIORITY"]||[],e.H=t["PATHWAY-CLONES"]||[]}function no(e,t,n,i){var r=e.l.get(t);r||(r=new Map),r.set(n,i),e.l.set(t,r)}function Ta(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var i=[],r={},o=m(e.m),a=o.next();!a.done;r={lc:r.lc},a=o.next())if(r.lc=a.value,a=t.get(r.lc))i.push({cg:r.lc,location:a});else if(a=e.H.find(function(s){return function(l){return l.Nj==s.lc}}(r))){var u=t.get(a["BASE-ID"]);u&&(a["URI-REPLACEMENT"].Dh?(u=new Fe(u),nu(u,a["URI-REPLACEMENT"].Dh),i.push({cg:r.lc,location:u.toString()})):i.push({cg:r.lc,location:u}))}for(r=Date.now(),o=m(e.i.keys()),a=o.next();!a.done;a=o.next())a=a.value,u=e.i.get(a),r>u&&e.i.delete(a);if(i=i.filter(function(s){for(var l=m(e.i.keys()),d=l.next();!d.done;d=l.next())if(d.value.includes(new Fe(s.location).Kb))return!1;return!0}),i.length&&(e.D=i[0].cg),i=i.map(function(s){return s.location}),!i.length&&e.h)for(r=m(e.h.split(",")),a=r.next();!a.done;a=r.next())(o=t.get(a.value))&&(e.D=e.h,i.push(o));if(!i.length)for(t=m(t.values()),r=t.next();!r.done;r=t.next())i.push(r.value);return n?i:ht(e.j,i)}function yn(){this.j=[],this.h=[],this.g=[],this.l=[],this.i=[],this.m=!1,this.s=new Set}p=yn.prototype,p.release=function(){for(var e=m(this.h.concat(this.g,this.l,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.l=[],this.i=[],this.j=[]},p.Ci=function(){return this.j},p.Jf=function(){return this.l.slice()},p.ei=function(){return this.i};function X0(e,t){var n=[],i=[],r=[],o=[];e=m(e);for(var a=e.next();!a.done;a=e.next()){var u=a.value;a=new Map(u.audioStreams.map(function(c){return[Oc(c),c]}));var s=new Map(u.videoStreams.map(function(c){return[Uc(c),c]})),l=new Map(u.textStreams.map(function(c){return[xa(c),c]}));if(u=new Map(u.imageStreams.map(function(c){return[Ca(c),c]})),t){var d=ev(me);l.set(xa(d),d),d=ev("image"),u.set(Ca(d),d)}n.push(a),i.push(s),r.push(l),o.push(u)}return{Fg:n,Ah:i,wh:r,Yg:o}}p.Kg=function(e,t){var n=this,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W,Y;return C(function(ne){if(ne.g==1){if(i=Ze,!t&&e.length==1)return r=X0(e,!1),o=r.Fg,a=r.Ah,u=r.wh,s=r.Yg,n.h=Array.from(o[0].values()),n.g=Array.from(a[0].values()),n.l=Array.from(u[0].values()),n.i=Array.from(s[0].values()),ne.F(2);for(l=-1,d=0;d<e.length;d++)c=e[d],n.s.has(c.id)||(n.s.add(c.id),l==-1&&(l=d));return l==-1?ne.return():(f=X0(e,!0),h=f.Fg,g=f.Ah,v=f.wh,E=f.Yg,y(ne,Promise.all([Ti(n,n.h,h,l,Sa,io),Ti(n,n.g,g,l,Sa,io),Ti(n,n.l,v,l,Sa,io),Ti(n,n.i,E,l,Sa,io)]),2))}if(S=0,T=[],n.g.length&&n.h.length)for(L=m(n.h),k=L.next();!k.done;k=L.next())for(R=k.value,_=m(n.g),U=_.next();!U.done;U=_.next())j=U.value,W=Ed(R.drmInfos,j.drmInfos),R.drmInfos.length&&j.drmInfos.length&&!W.length||(Y=S++,T.push({id:Y,language:R.language,disabledUntilTime:0,primary:R.primary,audio:R,video:j,bandwidth:(R.bandwidth||0)+(j.bandwidth||0),drmInfos:W,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(A=n.g.length?n.g:n.h,w=m(A),x=w.next();!x.done;x=w.next())M=x.value,b=S++,T.push({id:b,language:M.language,disabledUntilTime:0,primary:M.primary,audio:M.type==i.U?M:null,video:M.type==i.ia?M:null,bandwidth:M.bandwidth||0,drmInfos:M.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});n.j=T,O(ne)})};function Y0(e){var t,n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W;return C(function(Y){switch(Y.g){case 1:if(t=Ze,e.length==1)return Y.return(e[0]);for(n=e.map(function(ne){return new Map(ne.filter(function(F){return F.type===t.U}).map(function(F){return[Oc(F),F]}))}),i=e.map(function(ne){return new Map(ne.filter(function(F){return F.type===t.ia}).map(function(F){return[Uc(F),F]}))}),r=e.map(function(ne){return new Map(ne.filter(function(F){return F.type===t.Da}).map(function(F){return[xa(F),F]}))}),o=e.map(function(ne){return new Map(ne.filter(function(F){return F.type===t.cf}).map(function(F){return[Ca(F),F]}))}),a=m(r),u=a.next();!u.done;u=a.next())s=u.value,l=Z0(t.Da),s.set(xa(l),l);for(d=m(o),c=d.next();!c.done;c=d.next())f=c.value,h=Z0(t.cf),f.set(Ca(h),h);return g=new yn,y(Y,Ti(g,[],n,0,Es,Ts),2);case 2:return v=Y.h,y(Y,Ti(g,[],i,0,Es,Ts),3);case 3:return E=Y.h,y(Y,Ti(g,[],r,0,Es,Ts),4);case 4:return S=Y.h,y(Y,Ti(g,[],o,0,Es,Ts),5);case 5:if(T=Y.h,A=0,E.length&&v.length)for(L=m(v),k=L.next();!k.done;k=L.next())for(R=k.value,_=m(E),U=_.next();!U.done;U=_.next())j=U.value,W=A++,j.variantIds.push(W),R.variantIds.push(W);else for(w=E.concat(v),x=m(w),M=x.next();!M.done;M=x.next())b=M.value,b.variantIds=[A++];return Y.return(E.concat(v).concat(S).concat(T))}})}function Ti(e,t,n,i,r,o){var a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b;return C(function(L){switch(L.g){case 1:for(a=[],u=0;u<i;u++)a.push(new Set);for(s=i;s<n.length;s++)a.push(new Set(n[s].values()));l=m(t),d=l.next();case 2:if(d.done){L.F(4);break}return c=d.value,y(L,Wx(e,c,n,i,o,a),5);case 5:if(f=L.h,!f)throw new I(2,4,4037);d=l.next(),L.F(2);break;case 4:for(h=m(a),g=h.next();!g.done;g=h.next())for(v=g.value,E=m(v),S=E.next();!S.done;S=E.next())T=S.value,(A=Xx(e,T,n,r,o,a))&&t.push(A);for(w=m(a),g=w.next();!g.done;g=w.next())for(x=g.value,M={},b=m(x),S=b.next();!S.done;M={Wd:M.Wd},S=b.next())if(M.Wd=S.value,!nv(M.Wd)&&t.some(function(k){return function(R){return _c(e,k.Wd,R)}}(M)))throw new I(2,4,4037);return L.return(t)}})}function Wx(e,t,n,i,r,o){return C(function(a){return a.g==1?(J0(e,n,t),t.matchedStreams?t.segmentIndex?y(a,$0(t,i),2):a.F(2):a.return(!1)):(Q0(t,i,r,o),a.return(!0))})}function $0(e,t){var n,i,r,o,a,u,s;return C(function(l){if(l.g==1){for(n=[],i=e.matchedStreams,r=m(i),o=r.next();!o.done;o=r.next())a=o.value,n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex());return y(l,Promise.all(n),2)}if(e.segmentIndex instanceof qe)for(u={},s=t;s<i.length;u={Gb:u.Gb},s++)u.Gb=i[s],u.Gb.segmentIndex&&(Ud(u.Gb.segmentIndex,function(d){return function(c){c.codecs=d.Gb.codecs,c.mimeType=d.Gb.mimeType,c.ka&&(c.ka.codecs=d.Gb.codecs,c.ka.mimeType=d.Gb.mimeType)}}(u)),e.segmentIndex.h.push(u.Gb.segmentIndex));O(l)})}function Xx(e,t,n,i,r,o){if(nv(t))return null;var a=i(t);return J0(e,n,a),a.createSegmentIndex&&(a.createSegmentIndex=function(){return C(function(u){return a.segmentIndex?u.F(0):(a.segmentIndex=new qe,y(u,$0(a,0),0))})}),!a.matchedStreams||!a.matchedStreams.length?null:(Q0(a,0,r,o),a)}function Q0(e,t,n,i){for(var r=e.matchedStreams;t<r.length;t++){var o=r[t];n(e,o);var a=!0;if(e.type=="audio"&&Di(e.language,o.language)==0&&(a=!1),a){i[t].delete(o),a=new Set(e.codecs.split(",")),o=m(o.codecs.split(","));for(var u=o.next();!u.done;u=o.next())(u=u.value)&&a.add(u);u=Array.from(a),a=new Set,o=[],u=m(u);for(var s=u.next();!s.done;s=u.next()){s=s.value;var l=xn(s);a.has(l)||(o.push(s),a.add(l))}e.codecs=o.join(",")}}}function Sa(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=m(t.matchedStreams),i=n.next();!i.done;i=n.next())i=i.value,i.segmentIndex&&(i.segmentIndex.release(),i.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function Es(e){return e=Object.assign({},e),e.roles=e.roles.slice(),e.keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function io(e,t){function n(a,u){a||(a=[]),u=m(u);for(var s=u.next();!s.done;s=u.next())s=s.value,a.includes(s)||a.push(s);return a}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var i=m(t.keyIds),r=i.next();!r.done;r=i.next())e.keyIds.add(r.value);if(e.originalId==null?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),i=Ed(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new I(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=m(t.closedCaptions),r=i.next();!r.done;r=i.next()){var o=m(r.value);r=o.next().value,o=o.next().value,e.closedCaptions.set(r,o)}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Sa(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),io(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&io(e.trickModeVideo,t)}function Ts(e,t){var n=e.roles;n||(n=[]);for(var i=m(t.roles),r=i.next();!r.done;r=i.next())r=r.value,n.includes(r)||n.push(r);for(e.roles=n,n=m(t.keyIds),i=n.next();!i.done;i=n.next())e.keyIds.add(i.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,H(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=m(t.closedCaptions),n=t.next();!n.done;n=t.next())i=m(n.value),n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}function J0(e,t,n){var i=[];t=m(t);for(var r=t.next();!r.done;r=t.next()){if(r=Yx(e,r.value,n),!r)return;i.push(r)}n.matchedStreams=i}function Yx(e,t,n){var i=null,r=(0,{audio:Oc,video:Uc,text:xa,image:Ca}[n.type])(n);if(t.has(r))i=t.get(r);else{r={audio:function(u,s){return _c(e,u,s)},video:function(u,s){return _c(e,u,s)},text:$x,image:Qx}[n.type];var o={audio:Jx,video:Zx,text:e4,image:t4}[n.type];t=m(t.values());for(var a=t.next();!a.done;a=t.next())a=a.value,!r(n,a)||n.fastSwitching!=a.fastSwitching||i&&!o(n,i,a)||(i=a)}return i}function wa(e,t){function n(i){if(!Vc.has(i)){var r=dn(i);Vc.set(i,r)}return Vc.get(i)}return e.mimeType!=t.mimeType?!1:n(e.codecs)==n(t.codecs)}function _c(e,t,n){return!(!wa(t,n)&&!e.m||t.drmInfos&&!om(t.drmInfos,n.drmInfos))}function $x(e,t){return t.language?!(e.forced!==t.forced||Di(e.language,t.language)==0||t.kind!=e.kind):!0}function Qx(){return!0}function Jx(e,t,n){var i=wa(e,t),r=wa(e,n);if(i&&!r)return!1;if(!i&&r||(i=Di(e.language,t.language),r=Di(e.language,n.language),r>i))return!0;if(r<i)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}return e.roles.length?(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length?!0:r.length<i.length?!1:n.roles.length<t.roles.length):!n.roles.length&&t.roles.length?!0:n.roles.length&&!t.roles.length?!1:!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(i=Aa(e.channelsCount,t.channelsCount,n.channelsCount),i==kn?!0:i==ui?!1:(i=Aa(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==kn?!0:i==ui?!1:!!(e.bandwidth&&tv(e.bandwidth,t.bandwidth,n.bandwidth)==kn)))}function Zx(e,t,n){var i=wa(e,t),r=wa(e,n);if(i&&!r)return!1;if(!i&&r||(i=Aa(e.width*e.height,t.width*t.height,n.width*n.height),i==kn))return!0;if(i==ui)return!1;if(e.frameRate){if(i=Aa(e.frameRate,t.frameRate,n.frameRate),i==kn)return!0;if(i==ui)return!1}return!!(e.bandwidth&&tv(e.bandwidth,t.bandwidth,n.bandwidth)==kn)}function e4(e,t,n){var i=Di(e.language,t.language),r=Di(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function t4(e,t,n){return Aa(e.width*e.height,t.width*t.height,n.width*n.height)==kn}function Z0(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1}}function ev(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new ye([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1}}function Aa(e,t,n){if(t==e&&e!=n)return ui;if(n==e&&e!=t)return kn;if(t>e){if(n<=e||n-e<t-e)return kn;if(n-e>t-e)return ui}else{if(n>e)return ui;if(e-n<e-t)return kn;if(e-n>e-t)return ui}return iv}function tv(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?kn:t<e?ui:iv}function nv(e){switch(e.type){case me:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function Uc(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,e.codecs,e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function Oc(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,e.codecs,e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function xa(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Ca(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}N("shaka.util.PeriodCombiner",yn),yn.prototype.combinePeriods=yn.prototype.Kg,yn.prototype.getImageStreams=yn.prototype.ei,yn.prototype.getTextStreams=yn.prototype.Jf,yn.prototype.getVariants=yn.prototype.Ci;var kn=1,iv=0,ui=-1,Vc=new Map;function Ss(){var e=this;this.i=this.h=null,this.s=[],this.j=null,this.K=1,this.m={},this.M={},this.l=new yn,this.H=0,this.J=new fr(5),this.I=new re(function(){s4(e)}),this.G=new br,this.C=null,this.L=[],this.D=1/0,this.u=!1,this.g=null}p=Ss.prototype,p.configure=function(e){this.h=e,this.g&&this.g.configure(this.h),this.l&&(this.l.m=this.h.dash.multiTypeVariantsAllowed&&Pi())},p.start=function(e,t){var n=this,i;return C(function(r){if(r.g==1)return n.u=t.isLowLatencyMode(),n.s=[e],n.i=t,y(r,Hc(n),2);if(i=r.h,n.i&&jc(n,i),!n.i)throw new I(2,7,7001);return r.return(n.j)})},p.stop=function(){for(var e=m(Object.values(this.m)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.l&&this.l.release(),this.h=this.i=null,this.s=[],this.j=null,this.m={},this.l=null,this.I!=null&&(this.I.stop(),this.I=null),this.g&&this.g.destroy(),this.G.destroy()},p.update=function(){var e=this,t;return C(function(n){if(n.g==1)return $(n,2),y(n,Hc(e),4);if(n.g!=2)return oe(n,0);if(t=Q(n),!e.i||!t)return n.return();e.i.onError(t),O(n)})},p.onExpirationUpdated=function(){},p.onInitialVariantChosen=function(e){if(this.j&&this.j.presentationTimeline.R()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.j.presentationTimeline.ac();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.H=t.endTime-e,jc(this,0))}}},p.banLocation=function(e){this.g&&this.g.i.set(e,Date.now()+6e4)};function Hc(e){var t,n,i,r,o,a,u;return C(function(s){return s.g==1?(t=e.s,1<e.s.length&&e.g&&(n=Ta(e.g,"Location",!0),n.length&&(t=n)),i=it(t,e.h.retryParameters),r=Date.now(),y(s,Fc(e,i,0,{type:4}),2)):s.g!=3?(o=s.h,e.i?(o.uri&&o.uri!=o.originalUri&&!e.s.includes(o.uri)&&e.s.unshift(o.uri),y(s,n4(e,o.data,o.uri),3)):s.return(0)):(a=Date.now(),u=(a-r)/1e3,e.J.sample(1,u),s.return(u))})}function n4(e,t,n){var i,r,o,a;return C(function(u){if(u.g==1){if(i=gd(t,"MPD"),!i)throw new I(2,4,4001,n);return e.h.dash.disableXlinkProcessing?u.return(rv(e,i,n)):(r=e.h.dash.xlinkFailGracefully,o=gs(i,e.h.retryParameters,r,n,e.i.networkingEngine),Hi(e.G,o),y(u,o.promise,2))}return a=u.h,u.return(rv(e,a,n))})}function rv(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W,Y,ne,F,ze,ot,En,Mt,Rn,Se,_t,Lt,zt,We,yo,Ai,or,Eo,Nn,ar,To,xi,So,Ci,Fn,Xa,wo;return C(function(si){switch(si.g){case 1:for((i=e.h.dash.manifestPreprocessor)&&i(t),e.g&&e.g.l.clear(),r=[n],o=[],a=new Map,u=Re(t,"Location"),s=m(u),l=s.next();!l.done;l=s.next())d=l.value,c=d.getAttribute("serviceLocation"),(f=zi(d))&&(h=ht(r,[f])[0],c&&(e.g?no(e.g,"Location",c,h):a.set(c,h)),o.push(h));if(e.g?(g=Ta(e.g,"Location",!0),0<g.length&&(r=e.s=g)):o.length&&(r=e.s=o),v=Promise.resolve(),(E=fn(t,"ContentSteering"))&&e.i)for(S=E.getAttribute("defaultServiceLocation"),e.g?(e.g.j=r,e.g.h=S):(e.g=new ya(e.i),e.g.configure(e.h),e.g.setManifestType("DASH"),e.g.j=r,e.g.h=S,(T=zi(E))&&(he(E,"queryBeforeStart",md,!1)?v=Ea(e.g,T):Ea(e.g,T))),A=m(a.keys()),w=A.next();!w.done;w=A.next())x=w.value,M=a.get(x),no(e.g,"Location",x,M);if(b=Re(t,"BaseURL"),k=!1,e.g)for(R=m(b),_=R.next();!_.done;_=R.next())U=_.value,j=U.getAttribute("serviceLocation"),W=zi(U),j&&W&&(no(e.g,"BaseURL",j,W),k=!0);if(k&&e.g||(Y=b.map(zi),L=ht(r,Y)),ne=function(){return e.g&&k?Ta(e.g,"BaseURL"):L||[]},F=0,b&&b.length&&(F=he(b[0],"availabilityTimeOffset",Wo)||0),ze=e.h.dash.ignoreMinBufferTime,ot=0,ze||(ot=he(t,"minBufferTime",Jn)||0),e.H=he(t,"minimumUpdatePeriod",Jn,-1),En=he(t,"availabilityStartTime",Wf),Mt=he(t,"timeShiftBufferDepth",Jn),Rn=e.h.dash.ignoreSuggestedPresentationDelay,Se=null,Rn||(Se=he(t,"suggestedPresentationDelay",Jn)),_t=e.h.dash.ignoreMaxSegmentDuration,Lt=null,_t||(Lt=he(t,"maxSegmentDuration",Jn)),zt=t.getAttribute("type")||"static",e.j)for(We=e.j.presentationTimeline,yo=m(Object.values(e.m)),Ai=yo.next();!Ai.done;Ai=yo.next())or=Ai.value,or.segmentIndex&&or.segmentIndex.yb(We.Ab());else Eo=e.h.defaultPresentationDelay||1.5*ot,Nn=Se??Eo,We=new ie(En,Nn,e.h.dash.autoCorrectDrift);return We.Vc(zt=="static"),We.R()&&!isNaN(e.h.availabilityWindowOverride)&&(Mt=e.h.availabilityWindowOverride),Mt==null&&(Mt=1/0),We.Ne(Mt),ar=t.getAttribute("profiles")||"",To={Yb:zt!="static",presentationTimeline:We,Ka:null,ma:null,Ea:null,P:null,bandwidth:0,Zg:!1,Hc:F,profiles:ar.split(",")},xi=r4(e,To,ne,t),So=xi.duration,Ci=xi.periods,zt!="static"&&xi.Pg||We.gb(So||1/0),e.D&&!e.u&&e.i.isAutoLowLatencyMode()&&(e.i.enableLowLatencyMode(),e.u=e.i.isLowLatencyMode()),e.u?We.mh(e.D):e.D&&pe("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),We.Wf(Lt||1),y(si,e.l.Kg(Ci,To.Yb),2);case 2:return y(si,v,3);case 3:if(e.u&&(ot=0),e.j){e.j.variants=e.l.j,Fn=e.l.Jf(),0<Fn.length&&(e.j.textStreams=Fn),e.j.imageStreams=e.l.i,e.i.filter(e.j),si.F(4);break}if(e.j={presentationTimeline:We,variants:e.l.j,textStreams:e.l.Jf(),imageStreams:e.l.i,offlineSessionIds:[],minBufferTime:ot||0,sequenceMode:e.h.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:i4(t)},!We.yh()){si.F(5);break}return Xa=Re(t,"UTCTiming"),y(si,p4(e,ne,Xa),6);case 6:if(wo=si.h,!e.i)return si.return();We.nh(wo);case 5:We.ve();case 4:e.i.makeTextStreamsForClosedCaptions(e.j),O(si)}})}function i4(e){if(e=fn(e,"ServiceDescription"),!e)return null;var t=fn(e,"Latency"),n=fn(e,"PlaybackRate");if(t&&t.getAttribute("max")||n){e=t&&t.getAttribute("max")?parseInt(t.getAttribute("max"),10)/1e3:null;var i=n?parseFloat(n.getAttribute("max")):null;return t=t&&t.getAttribute("min")?parseInt(t.getAttribute("min"),10)/1e3:null,n=n?parseFloat(n.getAttribute("min")):null,{maxLatency:e,maxPlaybackRate:i,minLatency:t,minPlaybackRate:n}}return null}function r4(e,t,n,i){var r=he(i,"mediaPresentationDuration",Jn),o=[],a=0;i=Re(i,"Period");for(var u=0;u<i.length;u++){var s=i[u],l=i[u+1],d=he(s,"start",Jn,a),c=s.id,f=he(s,"duration",Jn),h=null;if(l){var g=he(l,"start",Jn);g!=null&&(h=g-d)}else r!=null&&(h=r-d);if(h==null&&(h=f),!(e.C!==null&&c!==null&&d!==null&&d<e.C)||e.L.includes(c)||u+1==i.length){if(d!==null&&(e.C===null||d>e.C)&&(e.C=d),a=o4(e,t,n,{start:d,duration:h,node:s,Mf:h==null||!l}),o.push(a),t.Ka.id&&h&&(e.M[t.Ka.id]=h),h==null){a=null;break}a=d+h}}return e.L=o.map(function(v){return v.id}),r!=null?{periods:o,duration:r,Pg:!1}:{periods:o,duration:a,Pg:!0}}function o4(e,t,n,i){t.Ka=Bc(e,i.node,null,n),t.ma=i,t.Ka.Hc=t.Hc,t.Ka.id||(t.Ka.id="__shaka_period_"+i.start);var r=Re(i.node,"EventStream");n=t.presentationTimeline.Ab(),r=m(r);for(var o=r.next();!o.done;o=r.next())h4(e,i.start,i.duration,o.value,n);if(n=Re(i.node,"AdaptationSet").map(function(d){return a4(e,t,d)}).filter(Sr),t.Yb){for(i=[],r=m(n),o=r.next();!o.done;o=r.next()){o=m(o.value.gj);for(var a=o.next();!a.done;a=o.next())i.push(a.value)}if(i.length!=new Set(i).size)throw new I(2,4,4018)}for(i=n.filter(function(d){return!d.wg}),n=n.filter(function(d){return d.wg}),n=m(n),r=n.next();!r.done;r=n.next()){r=r.value,o=r.wg.split(" "),a=m(i);for(var u=a.next();!u.done;u=a.next()){var s=u.value;if(o.includes(s.id)){u={},s=m(s.streams);for(var l=s.next();!l.done;u={Xd:u.Xd},l=s.next())u.Xd=l.value,u.Xd.trickModeVideo=r.streams.find(function(d){return function(c){return dn(d.Xd.codecs)==dn(c.codecs)}}(u))}}}if(n=ws(e.h.disableAudio,i,"audio"),r=ws(e.h.disableVideo,i,"video"),o=ws(e.h.disableText,i,me),i=ws(e.h.disableThumbnails,i,"image"),r.length===0&&n.length===0)throw new I(2,4,4004);return{id:t.Ka.id,audioStreams:n,videoStreams:r,textStreams:o,imageStreams:i}}function ws(e,t,n){return e||!t.length?[]:t.reduce(function(i,r){return r.contentType!=n||i.push.apply(i,H(r.streams)),i},[])}function a4(e,t,n){function i(L){switch(L){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.Ea=Bc(e,n,t.Ka,null);var r=!1,o=Re(n,"Role"),a=o.map(function(L){return L.getAttribute("value")}).filter(Sr),u=void 0,s=t.Ea.contentType==me;s&&(u="subtitle"),o=m(o);for(var l=o.next();!l.done;l=o.next()){l=l.value;var d=l.getAttribute("schemeIdUri");if(d==null||d=="urn:mpeg:dash:role:2011")switch(l=l.getAttribute("value"),l){case"main":r=!0;break;case"caption":case"subtitle":u=l}}var c;d=Re(n,"EssentialProperty"),o=null;var f=!1;l=!1,d=m(d);for(var h=d.next();!h.done;h=d.next()){h=h.value;var g=h.getAttribute("schemeIdUri");g=="http://dashif.org/guidelines/trickmode"?o=h.getAttribute("value"):g=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?c=i(parseInt(h.getAttribute("value"),10)):g!="urn:mpeg:mpegB:cicp:ColourPrimaries"&&g!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(g=="urn:mpeg:dash:ssr:2023"?f=!0:l=!0)}for(d=Re(n,"SupplementalProperty"),d=m(d),h=d.next();!h.done;h=d.next())h=h.value,h.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(c=i(parseInt(h.getAttribute("value"),10)));d=Re(n,"Accessibility");var v=new Map,E;for(d=m(d),h=d.next();!h.done;h=d.next())if(g=h.value,h=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),h=="urn:scte:dash:cc:cea-608:2015")if(h=1,g!=null){g=g.split(";");for(var S=m(g),T=S.next();!T.done;T=S.next()){var A=T.value,w=T=void 0;A.includes("=")?(A=A.split("="),T=A[0].startsWith("CC")?A[0]:"CC"+A[0],w=A[1]||"und"):(T="CC"+h,g.length==2?h+=2:h++,w=A),v.set(T,ve(w))}}else v.set("CC1","und");else if(h=="urn:scte:dash:cc:cea-708:2015")if(h=1,g!=null)for(g=m(g.split(";")),T=g.next();!T.done;T=g.next())T=T.value,A=S=void 0,T.includes("=")?(T=T.split("="),S="svc"+T[0],A=T[1].split(",")[0].split(":").pop()):(S="svc"+h,h++,A=T),v.set(S,ve(A));else v.set("svc1","und");else h=="urn:mpeg:dash:role:2011"?g!=null&&(a.push(g),g=="captions"&&(u="caption")):h=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(g=="1"?E="visually impaired":g=="2"&&(E="hard of hearing"));if(l)return null;l=Re(n,"ContentProtection");var x=_0(l,e.h.dash.ignoreDrmInfo,e.h.dash.keySystemsByURI),M=ve(t.Ea.language||"und"),b=n.getAttribute("label");if((l=Re(n,"Label"))&&l.length&&(l=l[0],l.textContent&&(b=l.textContent)),l=Re(n,"Representation"),n=l.map(function(L){return(L=u4(e,t,x,u,M,b,r,a,v,L,E))&&(L.hdr=L.hdr||c,L.fastSwitching=f),L}).filter(function(L){return!!L}),n.length==0){if(o=t.Ea.contentType=="image",e.h.dash.ignoreEmptyAdaptationSet||s||o)return null;throw new I(2,4,4003)}if(!t.Ea.contentType||t.Ea.contentType=="application")for(t.Ea.contentType=av(n[0].mimeType,n[0].codecs),s=m(n),h=s.next();!h.done;h=s.next())h.value.type=t.Ea.contentType;for(s=t.Ea.id||"__fake__"+e.K++,d=m(n),h=d.next();!h.done;h=d.next()){for(h=h.value,g=m(x.drmInfos),S=g.next();!S.done;S=g.next())S=S.value,S.keyIds=S.keyIds&&h.keyIds?new Set([].concat(H(S.keyIds),H(h.keyIds))):S.keyIds||h.keyIds;e.h.dash.enableAudioGroups&&(h.groupId=s)}return l=l.map(function(L){return L.getAttribute("id")}).filter(Sr),{id:s,contentType:t.Ea.contentType,language:M,yk:r,streams:n,drmInfos:x.drmInfos,wg:o,gj:l}}function u4(e,t,n,i,r,o,a,u,s,l,d){if(t.P=Bc(e,l,t.Ea,null),e.D=Math.min(e.D,t.P.Hc),!c4(t.P))return null;var c=t.ma.start;t.bandwidth=he(l,"bandwidth",Zn)||0;var f=t.P.contentType,h=f==me||f=="application";f=f=="image";try{var g=void 0;if(n.gf){var v=t.P.zb,E=ht(v(),[n.gf.Qi]),S=it(E,e.h.retryParameters);g={method:"AES-128",iv:n.gf.iv,firstMediaSequenceNumber:0,fetchKey:function(){var k,R,_;return C(function(U){if(U.g==1)return y(U,Fc(e,S,6),2);if(U.g!=3){if(k=U.h,!k.data||k.data.byteLength!=16)throw new I(2,4,4049);return R={name:"AES-CBC"},_=g,y(U,D.crypto.subtle.importKey("raw",k.data,R,!0,["decrypt"]),3)}_.cryptoKey=U.h,g.fetchKey=void 0,O(U)})}}}if(v=function(k,R,_,U){return f4(e,k,R,_,U)},t.P.Ld)var T=Nx(t,v,g);else if(t.P.fc)T=Ux(t,e.m,g);else if(t.P.Md)T=jx(t,v,e.m,!!e.j,e.h.dash.initialSegmentLimit,e.M,g);else{var A=t.ma.duration||0,w=t.P.zb;T={Kc:function(){return Promise.resolve(Od(c,A,w()))}}}}catch(k){if((h||f)&&k.code==4002)return null;throw k}v=Re(l,"ContentProtection"),v=yx(v,n,e.h.dash.ignoreDrmInfo,e.h.dash.keySystemsByURI),v=new Set(v?[v]:[]),E=!1,Re(l,"SupplementalProperty").some(function(k){return k.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&k.getAttribute("value")=="JOC"})&&(E=!0);var x=!1;h&&(x=u.includes("forced_subtitle")||u.includes("forced-subtitle"));var M;if(f&&((l=Re(l,"EssentialProperty").find(function(k){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(k.getAttribute("schemeIdUri"))}))&&(M=l.getAttribute("value")),!M))return null;var b;l=t.P.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(b="PQ"),l=t.P.id?t.Ka.id+","+t.P.id:"";var L=l&&e.m[l]?e.m[l]:{id:e.K++,originalId:t.P.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){L.segmentIndex&&(L.segmentIndex.release(),L.segmentIndex=null)},segmentIndex:null,mimeType:t.P.mimeType,codecs:t.P.codecs,frameRate:t.P.frameRate,pixelAspectRatio:t.P.pixelAspectRatio,bandwidth:t.bandwidth,width:t.P.width,height:t.P.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:v,language:r,originalLanguage:t.Ea.language,label:o,type:t.Ea.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:t.P.emsgSchemeIdUris,roles:u,forced:x,channelsCount:t.P.De,audioSamplingRate:t.P.audioSamplingRate,spatialAudio:E,closedCaptions:s,hdr:b,videoLayout:void 0,tilesLayout:M,accessibilityPurpose:d,external:!1,fastSwitching:!1};return L.createSegmentIndex=function(){var k;return C(function(R){if(R.g==1)return L.segmentIndex?R.F(0):(k=L,y(R,T.Kc(),3));k.segmentIndex=R.h,O(R)})},l&&t.Yb&&!e.m[l]&&(e.m[l]=L),L}function s4(e){var t,n;C(function(i){switch(i.g){case 1:return t=0,$(i,2),y(i,Hc(e),4);case 4:t=i.h,oe(i,3);break;case 2:if(n=Q(i),e.i){if(e.h.raiseFatalErrorOnManifestUpdateRequestFailure)return e.i.onError(n),i.return();n.severity=1,e.i.onError(n)}case 3:if(!e.i)return i.return();e.i.onManifestUpdated(),jc(e,t),O(i)}})}function jc(e,t){0>e.H||e.I.S(Math.max(e.H-t,au(e.J)))}function Bc(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,De:null,audioSamplingRate:null,Hc:0,hg:0},i=i||n.zb;var r=t.getAttribute("id"),o=Re(t,"BaseURL"),a,u=!1;if(e.g)for(var s=m(o),l=s.next();!l.done;l=s.next()){var d=l.value;l=d.getAttribute("serviceLocation"),d=zi(d),l&&d&&(no(e.g,r,l,d),u=!0)}u&&e.g||(a=o.map(zi)),s=t.getAttribute("contentType")||n.contentType,l=t.getAttribute("mimeType")||n.mimeType,d=t.getAttribute("codecs")||n.codecs;var c=he(t,"frameRate",lS)||n.frameRate,f=t.getAttribute("sar")||n.pixelAspectRatio,h=l4(Re(t,"InbandEventStream"),n.emsgSchemeIdUris),g=Re(t,"AudioChannelConfiguration");g=d4(g)||n.De;var v=he(t,"audioSamplingRate",xt)||n.audioSamplingRate;s||(s=av(l,d));var E=fn(t,"SegmentBase"),S=fn(t,"SegmentTemplate"),T=E&&he(E,"availabilityTimeOffset",Wo)||0,A=S&&he(S,"availabilityTimeOffset",Wo)||0,w=o&&o.length&&he(o[0],"availabilityTimeOffset",Wo)||0;return T=n.Hc+w+T+A,A=null,(w=fn(t,"SegmentSequenceProperties"))&&(w=fn(w,"SAP"))&&(A=he(w,"cadence",Mu)),{zb:function(){return ht(i(),o.length?e.g&&u?Ta(e.g,r):a||[]:[])},Ld:E||n.Ld,fc:fn(t,"SegmentList")||n.fc,Md:S||n.Md,width:he(t,"width",xt)||n.width,height:he(t,"height",xt)||n.height,contentType:s,mimeType:l,codecs:d,frameRate:c,pixelAspectRatio:f,emsgSchemeIdUris:h,id:r,language:t.getAttribute("lang"),De:g,audioSamplingRate:v,Hc:T,hg:A||n.hg}}function l4(e,t){t=t.slice(),e=m(e);for(var n=e.next();!n.done;n=e.next())n=n.value.getAttribute("schemeIdUri"),t.includes(n)||t.push(n);return t}function d4(e){e=m(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(n,10),!t)continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16),!t)continue;for(e=0;t;)t&1&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}function c4(e){var t=e.Ld?1:0;return t+=e.fc?1:0,t+=e.Md?1:0,t==0?e.contentType==me||e.contentType=="application":(t!=1&&(e.Ld&&(e.fc=null),e.Md=null),!0)}function ov(e,t,n,i){var r,o,a,u,s,l;return C(function(d){if(d.g==1)return r=ht(t(),[n]),o=it(r,e.h.retryParameters),o.method=i,a=e.i.networkingEngine.request(4,o),Hi(e.G,a),y(d,a.promise,2);if(u=d.h,i=="HEAD"){if(!u.headers||!u.headers.date)return d.return(0);s=u.headers.date}else s=Pe(u.data);return l=Date.parse(s),isNaN(l)?d.return(0):d.return(l-Date.now())})}function p4(e,t,n){var i,r,o,a,u,s,l,d;return C(function(c){switch(c.g){case 1:i=n.map(function(f){return{scheme:f.getAttribute("schemeIdUri"),value:f.getAttribute("value")}}),r=e.h.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),o=m(i),a=o.next();case 2:if(a.done){c.F(4);break}switch(u=a.value,$(c,5),s=u.scheme,l=u.value,s){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return c.F(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return c.F(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),c.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":pe("NTP UTCTiming scheme is not supported");break;default:pe("Unrecognized scheme in UTCTiming element",s)}c.F(9);break;case 7:return y(c,ov(e,t,l,"HEAD"),10);case 10:return c.return(c.h);case 8:return y(c,ov(e,t,l,"GET"),11);case 11:return c.return(c.h);case 9:oe(c,3);break;case 5:Q(c);case 3:a=o.next(),c.F(2);break;case 4:return pe("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),c.return(0)}})}function h4(e,t,n,i,r){var o=i.getAttribute("schemeIdUri")||"",a=i.getAttribute("value")||"",u=he(i,"timescale",xt)||1;i=m(Re(i,"Event"));for(var s=i.next();!s.done;s=i.next()){s=s.value;var l=he(s,"presentationTime",xt)||0,d=he(s,"duration",xt)||0;l=l/u+t,d=l+d/u,n!=null&&(l=Math.min(l,t+n),d=Math.min(d,t+n)),d<r||(s={schemeIdUri:o,value:a,startTime:l,endTime:d,id:s.getAttribute("id")||"",eventElement:s},e.i.onTimelineRegionAdded(s))}}function f4(e,t,n,i,r){var o,a,u,s;return C(function(l){return l.g==1?(o=In,a=r?0:1,u=ta(t,n,i,e.h.retryParameters),y(l,Fc(e,u,o,{type:a}),2)):(s=l.h,l.return(s.data))})}function av(e,t){return t=Ot(e,t),du(t)?me:e.split("/")[0]}function Fc(e,t,n,i){return t=e.i.networkingEngine.request(n,t,i),Hi(e.G,t),t.promise}N("shaka.dash.DashParser",Ss),mn["application/dash+xml"]=function(){return new Ss},mn["video/vnd.mpeg.dash.mpd"]=function(){return new Ss};function As(){}N("shaka.dependencies",As),As.has=function(e){return qc.has(e)},As.add=function(e,t){if(!sv[e])throw Error(e+" is not supported");e==uv?pn("mux.js","mux.js is no longer used in Shaka Player."):qc.set(e,function(){return t})};var uv="muxjs",sv={zk:uv,ISOBoxer:"ISOBoxer"};As.Allowed=sv;var qc=new Map([["ISOBoxer",function(){return D.ISOBoxer}]]);function lv(e,t,n){this.type=e,this.g=t,this.segments=n||null}function Gc(e,t,n,i){this.id=e,this.name=t,this.g=n,this.value=i===void 0?null:i}Gc.prototype.toString=function(e){function t(r){return r.name+"="+(isNaN(Number(r.value))?'"'+r.value+'"':r.value)}var n="#"+this.name,i=this.g?this.g.filter(function(r){return e?!e.has(r.name):!0}).map(t):[];return this.value&&i.unshift(this.value),0<i.length&&(n+=":"+i.join(",")),n};function dv(e){var t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI");return e.toString(t)}Gc.prototype.getAttribute=function(e){var t=this.g.filter(function(n){return n.name==e});return t.length?t[0]:null};function z(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function He(e,t){if(e=e.getAttribute(t),!e)throw new I(2,4,4023,t);return e.value}function cv(e,t,n){n=n===void 0?[]:n,this.g=t,this.h=e,this.Bb=n}function pv(e,t){this.name=e,this.value=t}function bn(e,t){return e.filter(function(n){return n.name==t})}function hv(e,t){return e.filter(function(n){return He(n,"TYPE")==t})}function mt(e,t){e=m(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function ro(e,t,n){return n=n===void 0?0:n,(e=mt(e,t))?Number(e.value):n}function Qi(e,t,n){return t?fv(e,[t],n):[]}function fv(e,t,n){if(!t.length)return[];t=ht(e,t),e=[],t=m(t);for(var i=t.next();!i.done;i=t.next()){var r=e,o=r.push,a=i.value;if((i=n)&&i.size){a=String(a).replace(/%7B/g,"{").replace(/%7D/g,"}");var u=a.match(/{\$\w*}/g);if(u){u=m(u);for(var s=u.next();!s.done;s=u.next()){s=s.value;var l=s.slice(2,s.length-1),d=i.get(l);if(d)a=a.replace(s,d);else throw new I(2,4,4039,l)}}i=a}else i=a;o.call(r,i)}return e}function Ji(e){this.h=e||"",this.g=0}function oo(e){Si(e,/[ \t]+/gm)}function Si(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function Zi(e){return e.g==e.h.length?null:(e=Si(e,/[^ \t\n]*/gm))?e[0]:null}function m4(){this.g=0}function zc(e,t){t=Pe(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new I(2,4,4015);t=0;for(var i=!0,r=m(n),o=r.next();!o.done;o=r.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else if(o=Kc(e,o),--e.g,mv.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(i=!0);for(r=[],i=!0,o=0;o<n.length;o++){var a=n[o],u=n[o+1];if(/^#(?!EXT)/m.test(a)||i)i=!1;else{if(a=Kc(e,a),g4.includes(a.name)){if(t!=1)throw new I(2,4,4017);a=n.splice(o,n.length-o),n=[],i=[],o=[],u=null,a=m(a);for(var s=a.next();!s.done;s=a.next())s=s.value,/^(#EXT)/.test(s)?(s=Kc(e,s),mv.includes(s.name)?r.push(s):s.name=="EXT-X-MAP"?u=s:s.name=="EXT-X-PART"?o.push(s):s.name=="EXT-X-PRELOAD-HINT"?z(s,"TYPE")=="PART"?o.push(s):z(s,"TYPE")=="MAP"&&(s.name="EXT-X-MAP",u=s):i.push(s)):/^#(?!EXT)/m.test(s)||(s=s.trim(),u&&i.push(u),n.push(new cv(s,i,o)),i=[],o=[]);return o.length&&(u&&i.push(u),n.push(new cv("",i,o))),new lv(t,r,n)}r.push(a),a.name=="EXT-X-STREAM-INF"&&(a.g.push(new pv("URI",u)),i=!0)}}return new lv(t,r)}function Kc(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new I(2,4,4016,t);t=n[1];var i=n[2];n=[];var r;if(i){i=new Ji(i);var o;(o=Si(i,/^([^,=]+)(?:,|$)/g))&&(r=o[1]);for(var a=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=Si(i,a);)n.push(new pv(o[1],o[2]||o[3])),oo(i)}return new Gc(e,t,n,r)}var mv="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF".split(" "),g4="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function gv(){}function vv(e){try{var t=Wc(e);return kr({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Vi(n)}}function Wc(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new I(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new I(2,1,1004,e);var n=t[0];e=D.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var i=!1;1<t.length&&t[t.length-1]=="base64"&&(i=!0,t.pop());var r;return i?r=hn(e):r=Yn(e),{data:r,contentType:n}}N("shaka.net.DataUriPlugin",gv),gv.parse=vv,Wn("data",vv);function yv(e){var t=zn(e),n=t.split("/")[0];return e=cn(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map}}function v4(e,t){function n(v){return i(v.name)}function i(v){switch(v=v.toLowerCase(),v){case"avc1":case"avc3":r.push(v+".42E01E"),a=!0;break;case"hev1":case"hvc1":r.push(v+".1.6.L93.90"),a=!0;break;case"dvh1":case"dvhe":r.push(v+".05.04"),a=!0;break;case"vp09":r.push(v+".00.10.08"),a=!0;break;case"av01":r.push(v+".0.01M.08"),a=!0;break;case"mp4a":r.push("mp4a.40.2"),o=!0;break;case"ac-3":case"ec-3":case"opus":case"flac":r.push(v),o=!0}}var r=[],o=!1,a=!1,u=null,s=null,l=null,d=null,c=null;if(new Ie().box("moov",Te).box("trak",Te).T("tkhd",function(v){v=vm(v.reader,v.version),s=String(v.height),l=String(v.width)}).box("mdia",Te).T("mdhd",function(v){u=bu(v.reader,v.version).language}).box("minf",Te).box("stbl",Te).T("stsd",Rr).box("mp4a",function(v){var E=v.reader;E.skip(6),E.skip(2),E.skip(8);var S=E.Ua();E.skip(2),E.skip(2),E.skip(2),E=E.Ua()+E.Ua()/65536,d=S,c=E,v.reader.xa()?Te(v):n(v)}).box("esds",function(v){v=US(v.reader),r.push(v.wa),o=!0}).box("ac-3",n).box("ec-3",n).box("opus",n).box("Opus",n).box("fLaC",n).box("avc1",function(v){v=ym(v.reader,v.name),r.push(v.wa),a=!0}).box("avc3",function(v){v=ym(v.reader,v.name),r.push(v.wa),a=!0}).box("hev1",n).box("hvc1",n).box("dvh1",n).box("dvhe",n).box("vp09",n).box("av01",n).box("enca",Au).box("encv",Au).box("sinf",Te).box("frma",function(v){v=Em(v.reader).wa,i(v)}).parse(e||t,!0),!r.length)return null;var f=o&&!a,h=new Map;if(a){var g=new Ut("video/mp4");for(e&&g.init(e),g.i(t),e=m(g.j()),t=e.next();!t.done;t=e.next())t=t.value,h.set(t,t);g.h()}return{type:f?"audio":"video",mimeType:f?"audio/mp4":"video/mp4",codecs:y4(r).join(", "),language:u,height:s,width:l,channelCount:d,sampleRate:c,closedCaptions:h}}function y4(e){var t=new Set,n=[];e=m(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=xn(i);t.has(r)||(n.push(i),t.add(r))}return n}function xs(){var e=this;this.g=this.i=null,this.C=1,this.s=new Map,this.J=new Map,this.L=new Map,this.L.set("video",new Map),this.L.set("audio",new Map),this.L.set(me,new Map),this.L.set("image",new Map),this.va=new Set,this.h=new Map,this.l=null,this.Z="",this.sa=new m4,this.K=-1,this.V=1/0,this.$=this.Xa=!1,this.u=new re(function(){B4(e)}),this.aa=Ms,this.G=null,this.ua=0,this.m=1/0,this.ha=this.Aa=this.M=0,this.N=new br,this.H=new Map,this.I=new Map,this.W=new Map,this.Wa=this.D=!1,this.Ra=new fr(5),this.j=null}p=xs.prototype,p.configure=function(e){this.g=e,this.j&&this.j.configure(this.g)},p.start=function(e,t){var n=this,i;return C(function(r){return r.g==1?(n.i=t,n.D=t.isLowLatencyMode(),y(r,ep(n,[e]),2)):r.g!=3?(i=r.h,n.Z=i.uri,y(r,w4(n,i.data,e),3)):r.return(n.G)})},p.stop=function(){this.u&&(this.u.stop(),this.u=null);var e=[];return this.N&&(e.push(this.N.destroy()),this.N=null),this.g=this.i=null,this.va.clear(),this.G=null,this.h.clear(),this.J.clear(),this.I.clear(),this.s.clear(),this.W.clear(),this.j&&this.j.destroy(),Promise.all(e)},p.update=function(){var e=this,t,n,i,r,o,a,u,s,l;return C(function(d){if(d.g==1){if(!Ht(e))return d.return();for(t=[],n=Array.from(e.h.values()),e.m=1/0,i=n.filter(function(c){return c.stream.segmentIndex}),r=m(i),o=r.next();!o.done;o=r.next())a=o.value,t.push(E4(e,a));return y(d,Promise.all(t),2)}Lv(e,i.map(function(c){return c.stream})),u=i.some(function(c){return c.vd==0}),i.length&&!u&&(s=F4,Is(e,s.Fh),l=i.map(function(c){return c.Qb}),e.l.gb(Math.min.apply(Math,H(l))),e.i.updateDuration()),u&&Yc(e),O(d)})};function Xc(e,t){return Ht(e)?e.L.get(t.type):t.ye}function E4(e,t){var n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W;return C(function(Y){if(Y.g==1){for(n=[],i=m(t.ba()),r=i.next();!r.done;r=i.next())o=r.value,a=new Fe(o),u=a.g,t.$d&&(0<=t.rb&&u.add("_HLS_msn",String(t.rb)),0<=t.sb&&u.add("_HLS_part",String(t.sb))),t.ae&&u.add("_HLS_skip","YES"),Gh(u)&&ko(a,u),n.push(a.toString());return y(Y,ep(e,n,!0),2)}if(s=Y.h,!t.stream.segmentIndex)return Y.return();if(l=zc(e.sa,s.data),l.type!=1)throw new I(2,4,4017);d=s.uri,d==s.originalUri||t.ba().includes(d)||t.jh.push(d),c=bn(l.g,"EXT-X-DEFINE"),f=Sv(e,c,d),h=t.stream,g=Xc(e,t),v=Pv(l,h.mimeType),E=v.keyIds,S=v.drmInfos,T=function(ne,F){return ne.size===F.size&&[].concat(H(ne)).every(function(ze){return F.has(ze)})},T(h.keyIds,E)||(h.keyIds=E,h.drmInfos=S,e.i.newDrmInfo(h)),A=Ov(e,l,h,g,f,t.ba),w=A.segments,(x=A.bandwidth)&&(h.bandwidth=x),h.segmentIndex.Cd(w,e.l.Ab()),w.length&&(M=ro(l.g,"EXT-X-MEDIA-SEQUENCE",0),L=(b=mt(l.g,"EXT-X-SKIP"))?Number(z(b,"SKIPPED-SEGMENTS")):0,k=bv(M,w),R=k.rb,_=k.sb,t.rb=R+L,t.sb=_,U=g.get(M),h.segmentIndex.yb(U)),j=w[0],t.yc=j.startTime,W=w[w.length-1],t.Qb=W.endTime,mt(l.g,"EXT-X-ENDLIST")&&(t.vd=!0),Qc(e,l),O(Y)})}p.onExpirationUpdated=function(){},p.onInitialVariantChosen=function(){},p.banLocation=function(e){this.j&&this.j.i.set(e,Date.now()+6e4)};function T4(e,t){for(var n=e.K==-1,i=m(t),r=i.next();!r.done;r=i.next()){r=r.value;var o=r.stream.segmentIndex,a=Xc(e,r);if(o=o.g[0]||null){a=m(a);for(var u=a.next();!u.done;u=a.next()){u=m(u.value);var s=u.next().value;if(u.next().value==o.startTime){n&&(e.K=Math.max(e.K,s)),r.pf=s;break}}}}if(!(0>e.K))for(t=m(t),r=t.next();!r.done;r=t.next())n=r.value,(i=n.stream.segmentIndex)&&(i.g.splice(0,e.K-n.pf),(i=i.g[0]||null)&&(i=-i.startTime,n.stream.segmentIndex.offset(i),Ev(e,n,i)))}function S4(e,t){if(e.V==1/0){t=m(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value.stream.segmentIndex.g[0]||null;i!=null&&i.oa!=null&&(e.V=Math.min(e.V,i.oa))}}if(t=e.V,t!=1/0)for(i=m(e.h.values()),n=i.next();!n.done;n=i.next()){n=n.value;var r=n.stream.segmentIndex;if(r!=null){var o=r.g[0]||null;if(o.oa==null)di("Missing EXT-X-PROGRAM-DATE-TIME for stream",n.ba(),"Expect AV sync issues!");else for(Ev(e,n,o.oa-t-o.startTime),n=m(r),r=n.next();!r.done;r=n.next())r.value.sg(t)}}}function Ev(e,t,n){t.yc+=n,t.Qb+=n,e=Xc(e,t);for(var i=m(e),r=i.next();!r.done;r=i.next()){var o=m(r.value);r=o.next().value,o=o.next().value,e.set(r,o+n)}t.ba()}function w4(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W,Y,ne;return C(function(F){switch(F.g){case 1:return i=zc(e.sa,t),r=bn(i.g,"EXT-X-DEFINE"),o=[],a=[],u=[],i.type==1?(v=function(){return[n]},y(F,Tv(e,i,v),6)):(A4(e,r),s=bn(i.g,"EXT-X-MEDIA"),l=bn(i.g,"EXT-X-STREAM-INF"),d=bn(i.g,"EXT-X-IMAGE-STREAM-INF"),c=bn(i.g,"EXT-X-I-FRAME-STREAM-INF"),f=bn(i.g,"EXT-X-SESSION-KEY"),h=bn(i.g,"EXT-X-SESSION-DATA"),g=bn(i.g,"EXT-X-CONTENT-STEERING"),C4(e,h),y(F,I4(e,g),4));case 4:return x4(e,l),R4(e,s),o=b4(e,l,f,s),a=M4(e,s),y(F,L4(e,d,c),5);case 5:u=F.h,F.F(3);break;case 6:return E=F.h,S=E.type,T=E.mimeType,A=E.codecs,w=E.language,x=E.height,M=E.width,b=E.channelCount,L=E.sampleRate,k=E.closedCaptions,y(F,kv(e,e.C++,i,v,n,A,S,w,!0,"Media Playlist",b,k,null,!1,L,!1,T),7);case 7:R=F.h,e.h.set(n,R),S=="video"&&Vv(R.stream,M,x,null,null,null),o.push({id:0,language:ve(w||"und"),disabledUntilTime:0,primary:!0,audio:S=="audio"?R.stream:null,video:S=="video"?R.stream:null,bandwidth:R.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.i)throw new I(2,7,7001);if(e.l=new ie(null,0),e.l.Vc(!0),i.type==1&&(Ht(e)&&(Nv(e,i),_=e.m,e.u.S(_)),U=Array.from(e.h.values()),$c(e,U),Yc(e)),e.G={presentationTimeline:e.l,variants:o,textStreams:a,imageStreams:u,offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null},e.$||!e.g.hls.disableCodecGuessing){F.F(8);break}for(j=[],W=m(e.G.variants),Y=W.next();!Y.done;Y=W.next())ne=Y.value,ne.audio&&ne.audio.codecs===""&&j.push(ne.audio.createSegmentIndex()),ne.video&&ne.video.codecs===""&&j.push(ne.video.createSegmentIndex());return y(F,Promise.all(j),8);case 8:e.i.makeTextStreamsForClosedCaptions(e.G),O(F)}})}function Tv(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w;return C(function(x){switch(x.g){case 1:if(i=yv(e.g.hls.mediaPlaylistFullMimeType),!t.segments.length)return x.return(i);if(r=Math.trunc((t.segments.length-1)/2),o=t.segments[r],a=Qi(n(),t.segments[0].h),u=a[0],s=new Fe(u),l=s.Ya.split(".").pop(),d=Hv[l])return x.return(yv(d));if(c=In,f=null,h=_v(e,t,o.g,n),e.W.clear(),!h){x.F(2);break}return g=ta(h.ba(),h.Pb(),h.Mb(),e.g.retryParameters),y(x,ao(e,g,c,{type:0}),3);case 3:v=x.h,f=v.data;case 2:return E=it(a,e.g.retryParameters),y(x,ao(e,E,c,{type:1}),4);case 4:if(S=x.h,(T=S.headers["content-type"])&&(T=T.split(";")[0].toLowerCase()),l=="ts"||T=="video/mp2t"){var M=S.data,b=ae(M);b=new Me().parse(b);var L=b.sd();b=b.Lf();var k=[],R=!1,_=!1;switch(L.audio){case"aac":k.push("mp4a.40.2"),R=!0;break;case"mp3":k.push("mp4a.40.34"),R=!0;break;case"ac3":k.push("ac-3"),R=!0;break;case"ec3":k.push("ec-3"),R=!0}switch(L.video){case"avc":b.wa?k.push(b.wa):k.push("avc1.42E01E"),_=!0;break;case"hvc":b.wa?k.push(b.wa):k.push("hvc1.1.6.L93.90"),_=!0}if(k.length){if(L=R&&!_,R=new Map,_){_=new Ut("video/mp2t"),_.i(M),M=m(_.j());for(var U=M.next();!U.done;U=M.next())U=U.value,R.set(U,U);_.h()}b={type:L?"audio":"video",mimeType:"video/mp2t",codecs:k.join(", "),language:null,height:b.height,width:b.width,channelCount:null,sampleRate:null,closedCaptions:R}}else b=null;if(A=b)return x.return(A)}else if((l=="mp4"||l=="cmfv"||l=="m4s"||T=="video/mp4"||T=="audio/mp4"||T=="video/iso.segment")&&(w=v4(f,S.data)))return x.return(w);return x.return(i)}})}function Yc(e){if(Ht(e)){if(e.aa==Ls){var t=U4(e);e.g.hls.useSafariBehaviorForLive&&(t=e.l.s),isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Ne(t)}if(!e.l.m){t=Array.from(e.h.values()).filter(function(i){return i.stream.segmentIndex}),t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value,(n.type=="audio"||n.type=="video")&&(n=n.stream.segmentIndex.get(0))&&n.oa&&e.l.og(n.oa)}}else e.l.gb(Mv(e));e.l.ve()}function A4(e,t){var n=new Fe(e.Z).g;t=m(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=z(r,"NAME");var o=z(r,"VALUE");r=z(r,"QUERYPARAM"),i&&o&&(e.s.has(i)||e.s.set(i,o)),r&&(i=n.get(r)[0])&&!e.s.has(i)&&e.s.set(r,i)}}function Sv(e,t,n){n=new Fe(n).g;var i=new Map;t=m(t);for(var r=t.next();!r.done;r=t.next()){var o=r.value,a=z(o,"NAME"),u=z(o,"VALUE");r=z(o,"QUERYPARAM"),o=z(o,"IMPORT"),a&&u&&(i.has(a)||i.set(a,u)),r&&(a=n.get(r)[0])&&!i.has(a)&&i.set(r,a),o&&(r=e.s.get(o))&&i.set(o,r)}return i}function x4(e,t){t=m(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=z(i,"AUDIO");n=z(i,"VIDEO");var o=z(i,"SUBTITLES");if(i=wv(e,i),o){var a=kt(me,i);e.I.set(o,a),An(i,a)}r&&(o=kt("audio",i),o||(o=e.g.hls.defaultAudioCodec),e.I.set(r,o)),n&&(r=kt("video",i),r||(r=e.g.hls.defaultVideoCodec),e.I.set(n,r))}}function C4(e,t){t=m(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=z(i,"DATA-ID");n=z(i,"URI");var o=z(i,"LANGUAGE");i=z(i,"VALUE"),r=new Map().set("id",r),n&&r.set("uri",Qi([e.Z],n,e.s)[0]),o&&r.set("language",o),i&&r.set("value",i),n=new B("sessiondata",r),e.i&&e.i.onEvent(n)}}function I4(e,t){var n,i,r,o,a,u;return C(function(s){if(!e.i||!e.g)return s.return();for(i=m(t),r=i.next();!r.done;r=i.next())if(o=r.value,a=z(o,"PATHWAY-ID"),u=z(o,"SERVER-URI"),a&&u){e.j=new ya(e.i),e.j.configure(e.g),e.j.j=[e.Z],e.j.setManifestType("HLS"),e.j.h=a,n=Ea(e.j,u);break}return y(s,n,0)})}function M4(e,t){var n=hv(t,"SUBTITLES");t=n.map(function(a){if(e.g.disableText)return null;try{return Iv(e,[a],new Map).stream}catch(u){if(e.g.hls.ignoreTextStreamFailures)return null;throw u}}),n=m(n);for(var i=n.next();!i.done;i=n.next()){var r=He(i.value,"GROUP-ID");if((i=e.I.get(r))&&(r=e.J.get(r))){r=m(r);for(var o=r.next();!o.done;o=r.next())o=o.value,o.stream.codecs=i,o.stream.mimeType=Jc(me,i)||Zc(me)}}return t.filter(function(a){return a})}function L4(e,t,n){var i,r;return C(function(o){return o.g==1?(i=t.map(function(a){var u,s;return C(function(l){if(l.g==1)return e.g.disableThumbnails?l.return(null):($(l,2),y(l,N4(e,a),4));if(l.g!=2)return u=l.h,l.return(u.stream);if(s=Q(l),e.g.hls.ignoreImageStreamFailures)return l.return(null);throw s})}).concat(n.map(function(a){if(e.g.disableThumbnails)return null;try{var u=He(a,"URI"),s=z(a,"CODECS")||"";if(e.h.has(u))var l=e.h.get(u);else{var d=z(a,"LANGUAGE"),c=z(a,"NAME"),f=z(a,"CHARACTERISTICS"),h=Cs(e,e.C++,[u],s,"image",d,!1,c,null,null,f,!1,null,!1),g=z(a,"RESOLUTION"),v=m(g?g.split("x"):[null,null]),E=v.next().value,S=v.next().value;h.stream.width=Number(E)||void 0,h.stream.height=Number(S)||void 0;var T=z(a,"BANDWIDTH");T&&(h.stream.bandwidth=Number(T)),e.h.set(u,h),l=h}return a=l,a.stream.codecs!=="mjpg"?null:a.stream}catch(A){if(e.g.hls.ignoreImageStreamFailures)return null;throw A}})),y(o,Promise.all(i),2)):(r=o.h,o.return(r.filter(function(a){return a})))})}function k4(e,t,n){t=t.filter(function(u){var s=z(u,"URI")||"";return z(u,"TYPE")!="SUBTITLES"&&s!=""});var i={};t=m(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=dv(r);i[o]?i[o].push(r):i[o]=[r]}for(var a in i)Iv(e,i[a],n)}function b4(e,t,n,i){var r=[],o=new Set;if(0<n.length){n=m(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var u=He(a,"METHOD");if(u!="NONE"&&u!="AES-128"&&(u=z(a,"KEYFORMAT")||"identity",a=(u=Bv[u])?u(a,""):null)){if(a.keyIds){u=m(a.keyIds);for(var s=u.next();!s.done;s=u.next())o.add(s.value)}r.push(a)}}}for(n={},t=m(t),a=t.next();!a.done;a=t.next())a=a.value,u=dv(a),n[u]?n[u].push(a):n[u]=[a];t=[];for(var l in n){s=n[l];var d=s[0];a=z(d,"FRAME-RATE"),u=Number(z(d,"AVERAGE-BANDWIDTH"))||Number(He(d,"BANDWIDTH"));var c=z(d,"RESOLUTION"),f=m(c?c.split("x"):[null,null]);c=f.next().value,f=f.next().value;var h=z(d,"VIDEO-RANGE");(d=z(d,"REQ-VIDEO-LAYOUT"))&&d.includes(",")&&(d=d.split(",").filter(function(g){return g=="CH-STEREO"||g=="CH-MONO"})[0]),d=d||"CH-MONO",s=D4(e,s,i,u),t.push.apply(t,H(P4(e,s.audio,s.video,u,c,f,a,h,d,r,o)))}return t.filter(function(g){return g!=null})}function D4(e,t,n,i){for(var r={audio:[],video:[]},o=new Map,a=[],u=!1,s=!1,l=m(t),d=l.next();!d.done;d=l.next()){var c=d.value;d=z(c,"AUDIO");var f=z(c,"VIDEO"),h=d||f;h&&(a.includes(h)||a.push(h),(c=z(c,"PATHWAY-ID"))&&o.set(h,c),d?u=!0:f&&(s=!0))}a.length&&n.length&&(l=n.filter(function(E){return a.includes(He(E,"GROUP-ID"))}),k4(e,l,o)),l=(o=a.sort().join(","))&&e.J.has(o)?e.J.get(o):[],u?r.audio.push.apply(r.audio,H(l)):s&&r.video.push.apply(r.video,H(l)),d=!1;var g=t.map(function(E){return He(E,"URI")});if(s=r.audio.find(function(E){return E&&E.ba().find(function(S){return g.includes(S)})}),u=wv(e,t[0]),f=kt("video",u),(h=kt("audio",u))&&!f?(s="audio",d=0<r.audio.length):!r.audio.length&&!r.video.length&&h&&f?(s="video",u=[[f,h].join()]):r.audio.length&&s?(s="audio",d=!0):s=r.video.length&&!r.audio.length?"audio":"video",!d){var v=c=h=f=d=null;!l.length&&(n=n.find(function(E){var S=z(E,"URI")||"",T=z(E,"TYPE");return E=He(E,"GROUP-ID"),T!="SUBTITLES"&&S==""&&a.includes(E)}))&&(d=z(n,"LANGUAGE"),f=z(n,"NAME"),h=Av(n),Cv(n),c=z(n,"CHARACTERISTICS"),v=xv(n)),e=_4(e,t,u,s,d,f,h,c,v),o&&(e.stream.groupId=o),l.length||(e.stream.bandwidth=i),r[e.stream.type]=[e]}return r}function wv(e,t){var n=z(t,"CODECS")||"";e.$=0<n.length,e.$||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),n=t.join(",")),e=new Set,t=[],n=m(n.split(/\s*,\s*/));for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=xn(i);e.has(r)||(t.push(i),e.add(r))}return t}function Av(e){return(e=z(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}function xv(e){return(e=z(e,"SAMPLE-RATE"))?parseInt(e,10):null}function Cv(e){return(e=z(e,"CHANNELS"))?e.includes("/JOC"):!1}function P4(e,t,n,i,r,o,a,u,s,l,d){for(var c=m(n),f=c.next();!f.done;f=c.next())Vv(f.value.stream,r,o,a,u,s);for(r=e.g.disableAudio,(!t.length||r)&&(t=[null]),r=e.g.disableVideo,(!n.length||r)&&(n=[null]),r=[],t=m(t),o=t.next();!o.done;o=t.next())for(o=o.value,a=m(n),u=a.next();!u.done;u=a.next()){var h=u.value;(u=o?o.stream:null)&&(u.drmInfos=l,u.keyIds=d),(s=h?h.stream:null)&&(s.drmInfos=l,s.keyIds=d),c=o?o.stream.drmInfos:null,f=h?h.stream.drmInfos:null,h=h?h.ba().sort().join(","):"";var g=o?o.ba().sort().join(","):"";h=h+" - "+g,u&&s&&!om(c,f)||e.va.has(h)||(u={id:e.C++,language:u?u.language:"und",disabledUntilTime:0,primary:!!u&&u.primary||!!s&&s.primary,audio:u,video:s,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},r.push(u),e.va.add(h))}return r}function R4(e,t){t=hv(t,"CLOSED-CAPTIONS"),t=m(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=z(i,"LANGUAGE");n=ve(r||"und"),r||(r=z(i,"NAME"))&&(n=r),r=He(i,"GROUP-ID"),i=He(i,"INSTREAM-ID").replace("SERVICE","svc"),e.H.get(r)||e.H.set(r,new Map),e.H.get(r).set(i,n)}}function Iv(e,t,n){for(var i=[],r=[],o=new Map,a=m(t),u=a.next();!u.done;u=a.next()){var s=u.value;u=He(s,"URI"),s=He(s,"GROUP-ID"),i.push(u),r.push(s),o.set(s,u)}if(a=r.sort().join(","),u=t[0],t="",s=He(u,"TYPE").toLowerCase(),s=="subtitles"&&(s=me),s==me)t=z(u,"CODECS")||"";else{r=m(r);for(var l=r.next();!l.done;l=r.next())if(l=l.value,e.I.has(l)){t=e.I.get(l);break}}if(r=i.sort().join(","),e.h.has(r))return e.h.get(r);if(l=e.C++,e.j){o=m(o);for(var d=o.next();!d.done;d=o.next()){var c=m(d.value);d=c.next().value,c=c.next().value,(d=n.get(d))&&no(e.j,l,d,c)}}n=z(u,"LANGUAGE"),o=z(u,"NAME"),d=z(u,"DEFAULT")=="YES",c=s=="audio"?Av(u):null;var f=s=="audio"?Cv(u):!1,h=z(u,"CHARACTERISTICS"),g=z(u,"FORCED")=="YES";return u=s=="audio"?xv(u):null,i=Cs(e,l,i,t,s,n,d,o,c,null,h,g,u,f),i.stream&&(i.stream.groupId=a),e.J.has(a)?e.J.get(a).push(i):e.J.set(a,[i]),e.h.set(r,i),i}function N4(e,t){var n,i,r,o,a,u,s,l,d,c;return C(function(f){return f.g==1?(n=He(t,"URI"),i=z(t,"CODECS","jpeg")||"",e.h.has(n)?f.return(e.h.get(n)):(r=z(t,"LANGUAGE"),o=z(t,"NAME"),a=z(t,"CHARACTERISTICS"),u=Cs(e,e.C++,[n],i,"image",r,!1,o,null,null,a,!1,null,!1),(s=z(t,"RESOLUTION"))?y(f,u.stream.createSegmentIndex(),3):f.F(2))):(f.g!=2&&(l=u.stream.segmentIndex.get(0),d=l.tilesLayout)&&(u.stream.width=Number(s.split("x")[0])*Number(d.split("x")[0]),u.stream.height=Number(s.split("x")[1])*Number(d.split("x")[1])),(c=z(t,"BANDWIDTH"))&&(u.stream.bandwidth=Number(c)),e.h.set(n,u),f.return(u))})}function _4(e,t,n,i,r,o,a,u,s){for(var l=e.C++,d=[],c=m(t),f=c.next();!f.done;f=c.next()){var h=f.value;f=He(h,"URI"),h=z(h,"PATHWAY-ID"),e.j&&h&&no(e.j,l,h,f),d.push(f)}if(c=d.sort().join(","),e.h.has(c))return e.h.get(c);e:{if(t=z(t[0],"CLOSED-CAPTIONS"),i=="video"){if(t&&t!="NONE"){t=e.H.get(t);break e}if(!t&&e.H.size)for(t=m(e.H.keys()).next();!t.done;){t=e.H.get(t.value);break e}}t=null}return n=pr(i,n),i=Cs(e,l,d,n,i,r,!1,o,a,t,u,!1,s,!1),e.h.set(c,i),i}function Cs(e,t,n,i,r,o,a,u,s,l,d,c,f,h){function g(x){var M,b,L,k,R,_,U,j,W,Y,ne,F,ze,ot,En,Mt,Rn;return C(function(Se){switch(Se.g){case 1:return M=T.ba(),y(Se,ep(e,T.ba(),!0),2);case 2:if(b=Se.h,x.aborted)return Se.return();if(L=b.uri,L==b.originalUri||M.includes(L)||S.push(L),k=zc(e.sa,b.data),R=void 0,e.$||!e.g.hls.disableCodecGuessing){Se.F(3);break}return y(Se,Tv(e,k,v),4);case 4:_=Se.h,R=_.mimeType,i=_.codecs;case 3:return U=Ht(e),y(Se,kv(e,0,k,v,L,i,r,o,a,u,s,l,d,c,f,h,R),5);case 5:if(j=Se.h,x.aborted)return Se.return();if(W=j.stream,Ht(e)&&!U&&Nv(e,k),T.yc=j.yc,T.Qb=j.Qb,T.ae=j.ae,T.$d=j.$d,T.vd=j.vd,T.ye=j.ye,T.rb=j.rb,T.sb=j.sb,T.Sf=!0,E.segmentIndex=W.segmentIndex,E.encrypted=W.encrypted,E.drmInfos=W.drmInfos,E.keyIds=W.keyIds,E.mimeType=W.mimeType,E.bandwidth=E.bandwidth||W.bandwidth,E.codecs=E.codecs||W.codecs,E.drmInfos.length&&e.i.newDrmInfo(E),Y=Ze,r==Y.ia||r==Y.U)for(ne=m(e.h.values()),F=ne.next();!F.done;F=ne.next())ze=F.value,ze.Sf||ze.type!=r||(ze.stream.mimeType=W.mimeType);r==Y.Da&&(ot=W.segmentIndex.get(0))&&ot.ka&&(E.mimeType="application/mp4"),O4(e)&&(e.Xa?$c(e,[T]):(e.Xa=!0,En=Array.from(e.h.values()),Mt=En.filter(function(_t){return _t.stream.segmentIndex}),$c(e,Mt),Yc(e),Rn=e.m,0<Rn&&e.u.S(Rn))),O(Se)}})}function v(){return e.j&&1<n.length?Ta(e.j,t):S.concat(fv([e.Z],n,e.s))}var E=Dv(e,i,r,o,a,u,s,l,d,c,f,h),S=[],T={stream:E,type:r,jh:S,ba:v,yc:0,Qb:0,ye:new Map,ae:!1,$d:!1,vd:!1,pf:-1,rb:-1,sb:-1,Sf:!1},A=null,w=new AbortController;return E.createSegmentIndex=function(){return A||(w=new AbortController,A=new Promise(function(x){x(g(w.signal))}))},E.closeSegmentIndex=function(){A&&!E.segmentIndex&&w.abort(),E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null),A=null},T}function Mv(e){var t=1/0;e=m(e.h.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&(t=Math.min(t,n.Qb));return t}function U4(e){var t=1/0,n=1/0;e=m(e.h.values());for(var i=e.next();!i.done;i=e.next())i=i.value,i.stream.segmentIndex&&i.stream.type!="text"&&(t=Math.min(t,i.Qb),n=Math.min(n,i.yc));return t-n}function Lv(e,t){var n=[];t=m(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.segmentIndex&&Ud(i.segmentIndex,function(r){n.push(r)});e.l.Dd(n)}function $c(e,t){if(!Ht(e))for(var n=Mv(e),i=m(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.Ic(0,n);Lv(e,t.map(function(o){return o.stream})),e.g.hls.ignoreManifestProgramDateTime?T4(e,t):S4(e,t)}function O4(e){if(!e.G)return!1;var t=[],n=[];e=m(e.G.variants);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&t.push(i.video),i.audio&&n.push(i.audio);return!(0<t.length&&!t.some(function(r){return r.segmentIndex})||0<n.length&&!n.some(function(r){return r.segmentIndex}))}function kv(e,t,n,i,r,o,a,u,s,l,d,c,f,h,g,v,E){var S,T,A,w,x,M,b,L,k,R,_,U,j,W,Y,ne,F,ze,ot,En,Mt,Rn,Se;return C(function(_t){if(_t.g==1){if(n.type!=1)throw new I(2,4,4017);S=bn(n.g,"EXT-X-DEFINE"),T=Sv(e,S,r);var Lt=mt(n.g,"EXT-X-PLAYLIST-TYPE"),zt=mt(n.g,"EXT-X-ENDLIST");return zt=Lt&&Lt.value=="VOD"||zt,Lt=Lt&&Lt.value=="EVENT"&&!zt,Lt=!zt&&!Lt,zt?Is(e,Ms):Lt?Is(e,Ls):Is(e,Fv),Ht(e)&&Qc(e,n),E?_t.F(2):y(_t,j4(e,a,o,n,T,i),3)}if(_t.g!=2&&(E=_t.h),A=Pv(n,E),w=A.drmInfos,x=A.keyIds,M=A.encrypted,b=A.Jh,M&&!w.length&&!b)throw new I(2,4,4026);return L=Dv(e,o,a,u,s,l,d,c,f,h,g,v),L.encrypted=M,L.drmInfos=w,L.keyIds=x,L.mimeType=E,k=Ht(e)?e.L.get(a):new Map,R=Ov(e,n,L,k,T,i),_=R.segments,(U=R.bandwidth)&&(L.bandwidth=U),Ht(e)&&Qc(e,n),j=_[0].startTime,W=_[_.length-1],Y=W.endTime,ne=new ye(_),L.segmentIndex=ne,ze=(F=mt(n.g,"EXT-X-SERVER-CONTROL"))?F.getAttribute("CAN-SKIP-UNTIL")!=null:!1,ot=F?F.getAttribute("CAN-BLOCK-RELOAD")!=null:!1,En=ro(n.g,"EXT-X-MEDIA-SEQUENCE",0),Mt=bv(En,_),Rn=Mt.rb,Se=Mt.sb,_t.return({stream:L,type:a,jh:[],ba:i,yc:j,Qb:Y,ae:ze,$d:ot,vd:!1,pf:-1,rb:Rn,sb:Se,ye:k,Sf:!1})})}function bv(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{rb:e,sb:n};t=t[t.length-1];var i=t.g;return t.g.length?(n=i.length-1,i[i.length-1].l||(e++,n=0),{rb:e,sb:n}):(e++,t.m&&(n=0),{rb:e,sb:n})}function Dv(e,t,n,i,r,o,a,u,s,l,d,c){var f=Jc(n,t)||Zc(n),h=[];if(s){s=m(s.split(","));for(var g=s.next();!g.done;g=s.next())h.push(g.value)}return s=void 0,g=null,n==me?s=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(g="visually impaired"),h.length||s!=="subtitle"||h.push("subtitle"),{id:e.C++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:f,codecs:t,kind:n==me?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:ve(i||"und"),originalLanguage:i,label:o,type:n,primary:r,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:l,channelsCount:a,audioSamplingRate:d,spatialAudio:c,closedCaptions:u,hdr:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:g,external:!1,fastSwitching:!1}}function Pv(e,t){var n=[];if(e.segments){e=m(e.segments);for(var i=e.next();!i.done;i=e.next())i=bn(i.value.g,"EXT-X-KEY"),n.push.apply(n,H(i))}i=e=!1;var r=[],o=new Set;n=m(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var u=He(a,"METHOD");if(u!="NONE"){if(e=!0,u=="AES-128")i=!0;else if(u=z(a,"KEYFORMAT")||"identity",a=(u=Bv[u])?u(a,t):null){if(a.keyIds){u=m(a.keyIds);for(var s=u.next();!s.done;s=u.next())o.add(s.value)}r.push(a)}}}return{drmInfos:r,keyIds:o,encrypted:e,Jh:i}}function Rv(e,t,n,i,r){if(!D.crypto||!D.crypto.subtle)throw pe("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new I(2,4,4042);var o=0,a=z(t,"IV","");if(a){var u=qi(a.substr(2));if(u.byteLength!=16)throw new I(2,4,4048)}else o=ro(n.g,"EXT-X-MEDIA-SEQUENCE",0);var s={method:"AES-128",iv:u,firstMediaSequenceNumber:o,fetchKey:function(){var l,d,c,f,h;return C(function(g){if(g.g==1)return l=Qi(i(),He(t,"URI"),r),d=it(l,e.g.retryParameters),y(g,ao(e,d,6),2);if(g.g!=3){if(c=g.h,!c.data||c.data.byteLength!=16)throw new I(2,4,4049);return f={name:"AES-CBC"},h=s,y(g,D.crypto.subtle.importKey("raw",c.data,f,!0,["decrypt"]),3)}h.cryptoKey=g.h,s.fetchKey=void 0,O(g)})}};return s}function Qc(e,t){var n=1/0,i=t.segments;if(i.length)for(var r=i.length-1;0<=r;){var o=mt(i[r].g,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}r--}if(i=mt(t.g,"EXT-X-TARGETDURATION"),!i)throw new I(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),(r=mt(t.g,"EXT-X-PART-INF"))&&(e.M=Number(He(r,"PART-TARGET"))),t=mt(t.g,"EXT-X-SERVER-CONTROL"),e.D&&e.M?(e.m=e.Wa?5*e.M<=n?Math.min(e.M,e.m):Math.min(n,e.m):Math.min(e.M,e.m),e.ha=t?Number(He(t,"PART-HOLD-BACK")):0):(e.m=Math.min(n,e.m),n=t?t.getAttribute("HOLD-BACK"):null,e.Aa=n?Number(n.value):0),e.ua=Math.max(i,e.ua)}function Nv(e,t){if(e.g.defaultPresentationDelay)t=e.g.defaultPresentationDelay;else if(e.ha)t=e.ha;else if(e.Aa)t=e.Aa;else{t=t.segments.length;var n=e.g.hls.liveSegmentsDelay;n>t-2&&(n=Math.max(1,t-2)),t=e.ua*n}e.l.og(0),e.l.oh(t),e.l.Vc(!1)}function _v(e,t,n,i,r){var o=mt(n,"EXT-X-MAP");if(!o)return null;var a=He(o,"URI"),u=Qi(i(),a,r);if(a=[u.toString(),z(o,"BYTERANGE","")].join("-"),!e.W.has(a)){var s=void 0,l=null;n=m(n);for(var d=n.next();!d.done;d=n.next())d=d.value,d.name=="EXT-X-KEY"?He(d,"METHOD")=="AES-128"&&d.id<o.id&&(s=Rv(e,d,t,i,r)):d.name=="EXT-X-BYTERANGE"&&d.id<o.id&&(l=d);t=V4(u,o,l,s),e.W.set(a,t)}return e.W.get(a)}function V4(e,t,n,i){var r=0,o=null;return t=z(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(r=t.split("@"),o=Number(r[0]),r=Number(r[1]),o=r+o-1,i&&(n=o+1-r,n%16&&(o+=16-n%16))),new Xt(function(){return e},r,o,null,null,null,i)}function H4(e,t,n,i,r,o,a,u,s){var l=i.g,d=mt(l,"EXTINF"),c=0,f=0,h=null;i.Bb.length&&!e.D&&pe("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var g=null;if(!e.g.hls.ignoreManifestProgramDateTime){var v=mt(l,"EXT-X-PROGRAM-DATE-TIME");v&&v.value&&(g=Wf(v.value))}var E=gi;if(mt(l,"EXT-X-GAP")&&(E=2),!d){if(i.Bb.length==0)throw new I(2,4,4024,"EXTINF");if(!e.D)return null}var S=[];v=!1;var T=null,A=!1,w=!1;if(e.D&&i.Bb.length){c=(a.mimeType=="video/mp4"||a.mimeType=="audio/mp4")&&D.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var x=g,M={},b=0;b<i.Bb.length;M={hd:M.hd,Ud:M.Ud},b++){var L=i.Bb[b],k=b==0?n:S[S.length-1],R=b==0?r:k.endTime,_=Number(z(L,"DURATION"))||e.M;if(_){var U=R+_,j=0,W=null;if(L.name=="EXT-X-PRELOAD-HINT"?(j=(j=z(L,"BYTERANGE-START"))?Number(j):0,(k=z(L,"BYTERANGE-LENGTH"))?W=j+Number(k)-1:j&&(W=Number.MAX_SAFE_INTEGER)):(j=z(L,"BYTERANGE"),W=m(Uv(k,j)),j=W.next().value,W=W.next().value),M.Ud=z(L,"URI"),M.Ud){k=gi,z(L,"GAP")=="YES"&&(k=2,A=!0),M.hd=null;var Y=function(F){return function(){return F.hd==null&&(F.hd=Qi(u(),F.Ud,o)),F.hd}}(M);c&&0<=j&&W!=null&&(T=Y,v=!0),R=new J(R,U,Y,j,W,t,0,0,1/0,[],"",null,x,k,s),L.name=="EXT-X-PRELOAD-HINT"&&(R.Tf(),w=!0),z(L,"INDEPENDENT")!="YES"&&0<b&&R.xe(),S.push(R),x&&(x+=_)}}}}if(d){if(d=Number(d.value.split(",")[0]),d==0)return null;c=r+d}else if(S.length)c=S[S.length-1].endTime;else return null;v&&(A||S[0].hb!=0?(v=!1,T=null):S=[]),(d=mt(l,"EXT-X-BYTERANGE"))?(h=m(Uv(n,d.value)),f=h.next().value,h=h.next().value):S.length&&(f=S[0].hb,h=S[S.length-1].Na),n="",d=null,a.type=="image"&&(n="1x1",a=mt(l,"EXT-X-TILES"))&&(n=He(a,"LAYOUT"),(a=z(a,"DURATION"))&&(d=Number(a)));var ne=null;return t=new J(r,c,function(){return T?T():(ne==null&&(ne=Qi(u(),i.h,o)),ne||[])},f,h,t,0,0,1/0,S,n,d,g,E,s,0<S.length&&!!i.h),v&&(e.Wa=!0,t.bh(),w&&t.Tf()),t}function Uv(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.Na+1,i=n+t-1),[n,i]}function Ov(e,t,n,i,r,o){var a=t.segments,u=void 0,s=ro(t.g,"EXT-X-DISCONTINUITY-SEQUENCE",0),l=ro(t.g,"EXT-X-MEDIA-SEQUENCE",0),d=mt(t.g,"EXT-X-SKIP"),c=d?Number(z(d,"SKIPPED-SEGMENTS")):0,f=l+c,h=0;Ht(e)&&i.has(f)&&(h=i.get(f)),h===0&&e.aa==Ls&&0<i.size&&!i.has(f)&&(h=e.l.Ab());var g=[],v=null;d=[];for(var E=0;E<a.length;E++){var S=a[E],T=E==0?h:v.endTime;f=l+c+E,mt(S.g,"EXT-X-DISCONTINUITY")&&s++;for(var A=m(S.g),w=A.next();!w.done;w=A.next())w=w.value,w.name=="EXT-X-KEY"&&(He(w,"METHOD")=="AES-128"?u=Rv(e,w,t,o,r):u=void 0);i.set(f,T),A=_v(e,t,S.g,o,r),!e.D&&e.i.isAutoLowLatencyMode()&&(e.i.enableLowLatencyMode(),e.D=e.i.isLowLatencyMode()),(T=H4(e,A,v,S,T,r,n,o,u))&&((v=ro(S.g,"EXT-X-BITRATE"))?d.push({bitrate:v,duration:T.endTime-T.startTime}):d.length&&(v=d.pop(),v.duration+=T.endTime-T.startTime,d.push(v)),v=T,T.i=s,e.g.hls.ignoreManifestProgramDateTime&&e.K!=null&&f<e.K||g.push(T))}if(t=void 0,d.length&&(t=d.reduce(function(x,M){return x+M.duration},0),t=Math.round(d.reduce(function(x,M){return x+M.bitrate*M.duration},0)/t*1e3)),d=g.some(function(x){return x.oa!=null})){for(n={},i=0;i<g.length;n={Zc:n.Zc,Yc:n.Yc,Qd:n.Qd,Vb:n.Vb,Xc:n.Xc},i++)if(n.Vb=g[i],n.Vb.oa==null)for(n.Yc=0,n.Zc=i,r=function(x){return function(){var M=g[x.Zc];if(M){if(M.oa!=null)return M.oa+x.Yc;x.Yc-=M.endTime-M.startTime,x.Zc+=1}return null}}(n),n.Xc=0,n.Qd=i,o=function(x){return function(){var M=g[x.Qd];if(M){if(M!=x.Vb&&(x.Xc+=M.endTime-M.startTime),M.oa!=null)return M.oa+x.Xc;--x.Qd}return null}}(n);n.Vb.oa==null;)n.Vb.oa=o(),n.Vb.oa==null&&(n.Vb.oa=r())}if(d)for(n=m(g),i=n.next();!i.done;i=n.next())for(r=i.value,i=r.oa,r=m(r.g),o=r.next();!o.done;o=r.next())o=o.value,o.oa=i,i+=o.endTime-o.startTime;if(e=e.V,d&&e!=1/0)for(d=m(g),i=d.next();!i.done;i=d.next())i.value.sg(e);return{segments:g,bandwidth:t}}function Jc(e,t){if(e==me){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function Zc(e){return e==me?"text/vtt":jv[e].mp4}function j4(e,t,n,i,r,o){var a,u,s,l,d,c,f,h,g,v,E,S,T;return C(function(A){switch(A.g){case 1:return a=In,u=Math.trunc((i.segments.length-1)/2),s=Qi(o(),i.segments[u].h,r),l=new Fe(s[0]),d=l.Ya.split(".").pop(),c=jv[t],(f=c[d])||(f=Hv[d])||(f=Jc(t,n))?A.return(f):(g=1,v=it(s,e.g.retryParameters),$(A,2),v.method="HEAD",y(A,ao(e,v,a,{type:g}),4));case 4:E=A.h,h=E.headers["content-type"],oe(A,3);break;case 2:if(S=Q(A),!S||S.code!=1002&&S.code!=1001){A.F(3);break}return v.method="GET",y(A,ao(e,v,a,{type:g}),6);case 6:T=A.h,h=T.headers["content-type"];case 3:return h?A.return(h.split(";")[0]):A.return(Zc(t))}})}function Vv(e,t,n,i,r,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(i)||void 0,e.hdr=r||void 0,e.videoLayout=o||void 0)}function ep(e,t,n){return ao(e,it(t,e.g.retryParameters),0,{type:n?2:3})}function B4(e){var t,n,i,r,o,a;C(function(u){switch(u.g){case 1:return e.i?($(u,2),t=Date.now(),y(u,e.update(),4)):u.return();case 4:n=Date.now(),Ht(e)&&(i=(n-t)/1e3,e.Ra.sample(1,i),r=e.m,o=Math.max(0,r-au(e.Ra)),e.u.S(o)),oe(u,3);break;case 2:if(a=Q(u),!e.i)return u.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.i.onError(a),u.return();a.severity=1,e.i.onError(a),e.u.S(.1);case 3:if(!e.i)return u.return();e.i.onManifestUpdated(),O(u)}})}function Ht(e){return e.aa!=Ms}function Is(e,t){e.aa=t,e.l&&e.l.Vc(!Ht(e)),Ht(e)||e.u.stop()}function ao(e,t,n,i){if(!e.N)throw new I(2,7,7001);return t=e.i.networkingEngine.request(n,t,i),Hi(e.N,t),t.promise}N("shaka.hls.HlsParser",xs);var Hv={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},jv={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},Bv={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new I(2,4,4040);if(D.shakaMediaKeysPolyfill)throw new I(2,4,4041);return ci("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=He(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=He(e,"URI"),t=Wc(t),t=ae(t.data),t=ci("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=z(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=He(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(e=He(e,"URI"),e=Wc(e),e=ae(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=Cu(e,t,new Set,0),ci("com.microsoft.playready",[{initDataType:"cenc",initData:e}])):null},identity:function(e,t){if(t=="video/mp2t")throw new I(2,4,4040);if(D.shakaMediaKeysPolyfill)throw new I(2,4,4041);return e=He(e,"METHOD"),["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?ci("org.w3.clearkey",null):null}},Ms="VOD",Fv="EVENT",Ls="LIVE",F4={Fh:Ms,Hj:Fv,Pj:Ls};mn["application/x-mpegurl"]=function(){return new xs},mn["application/vnd.apple.mpegurl"]=function(){return new xs};function q4(e){var t=0,n=bt(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,r&1||r+e>n.byteLength){n=[];break e}var o=ae(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function ks(e){if(e=qv(e))e:{e=m(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next())if(t=fn(t.value,"LA_URL")){e=t.textContent;break e}e=""}else e="";return e}function qv(e){return e=hn(e.textContent),e=q4(e).filter(function(t){return t.type===G4})[0],e?(e=Xn(e.value,!0),(e=_r(e,"WRMHEADER"))?e:null):null}var G4=1,z4=new Map().set("com.microsoft.playready",ks).set("com.microsoft.playready.recommendation",ks).set("com.microsoft.playready.software",ks).set("com.microsoft.playready.hardware",ks);function uo(e){if(!Wv){Wv=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);Ds=ce("ftyp",t,i,t,n),t=ce("dref",nC),tp=ce("dinf",t)}this.g=e}function so(e){for(var t=[],n=m(e.g),i=n.next();!i.done;i=n.next()){var r=t,o=r.push,a=i.value;i=ce;var u=a.id+1,s=a.stream.width||0,l=a.stream.height||0;a.type=="audio"&&(l=s=0);var d=a.duration*a.timescale,c=Math.floor(d/(wi+1));switch(d=Math.floor(d%(wi+1)),u=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(H(_e(u,4)),[0,0,0,0],H(_e(c,4)),H(_e(d,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],H(_e(s,2)),[0,0],H(_e(l,2)),[0,0])),u=ce("tkhd",u),s=ce,c=a.duration*a.timescale,l=Math.floor(c/(wi+1)),c=Math.floor(c%(wi+1)),d=a.stream.language,d=d.charCodeAt(0)-96<<10|d.charCodeAt(1)-96<<5|d.charCodeAt(2)-96,l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(H(_e(a.timescale,4)),H(_e(l,4)),H(_e(c,4)),H(_e(d,2)),[0,0])),l=ce("mdhd",l),c=a,d=new Uint8Array([]),c.type){case"video":d=W4;break;case"audio":d=X4}c=ce("hdlr",d);e:{switch(a.type){case"video":a=ce("minf",ce("vmhd",Z4),tp,Gv(a));break e;case"audio":a=ce("minf",ce("smhd",eC),tp,Gv(a));break e}a=new Uint8Array([])}a=s("mdia",l,c,a),i=i("trak",u,a),o.call(r,i)}for(t=Ve.apply(vt,H(t)),o=e.g[0],n=ce,i=o.duration*o.timescale,r=Math.floor(i/(wi+1)),i=Math.floor(i%(wi+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(H(_e(o.timescale,4)),H(_e(r,4)),H(_e(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),r=ce("mvhd",r),i=[],e=m(e.g),s=e.next();!s.done;s=e.next())a=i,u=a.push,s=new Uint8Array([0,0,0,0].concat(H(_e(s.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1])),s=ce("trex",s),u.call(a,s);if(e=Ve.apply(vt,H(i)),e=ce("mvex",e),i=[],o.encrypted){for(o=m(o.stream.drmInfos),a=o.next();!a.done;a=o.next())if(a=a.value,a.initData)for(a=m(a.initData),u=a.next();!u.done;u=a.next())i.push(u.value.initData);o=Ve.apply(vt,H(i))}else o=new Uint8Array([]);return e=n("moov",r,t,e,o),t=new Uint8Array(Ds.byteLength+e.byteLength),t.set(Ds),t.set(e,Ds.byteLength),t}function Gv(e){var t=ce,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var i=e.stream.height||0;if(0<e.Ca.byteLength)var r=ce("avcC",e.Ca);else{r=ce;for(var o=7,a=[],u=[],s=0,l=0,d=0,c=0;c<e.ib.length;c++){var f=Kv(e.ib[c]);switch(f[0]&31){case 7:a.push(f),o+=f.length+2;break;case 8:u.push(f),o+=f.length+2}}for(0<a.length&&(s=a[0][1],d=a[0][2],l=a[0][3]),o=new Uint8Array(o),c=0,o[c++]=1,o[c++]=s,o[c++]=d,o[c++]=l,o[c++]=255,o[c++]=224|a.length,s=0;s<a.length;s++)o[c++]=(a[s].length&65280)>>8,o[c++]=a[s].length&255,o.set(a[s],c),c+=a[s].length;for(o[c++]=u.length,a=0;a<u.length;a++)o[c++]=(u[a].length&65280)>>8,o[c++]=u[a].length&255,o.set(u[a],c),c+=u[a].length;r=r("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(H(_e(n,2)),H(_e(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="avc1",u=zv(e),a=new Uint8Array([]),e.encrypted&&(a=Ia(e),i="encv"),n=ce(i,n,r,u,a)}else e.codecs.includes("hvc1")&&(i=e.stream.width||0,r=e.stream.height||0,n=new Uint8Array([]),0<e.Ca.byteLength&&(n=ce("hvcC",e.Ca)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(H(_e(i,2)),H(_e(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",u=zv(e),a=new Uint8Array([]),e.encrypted&&(a=Ia(e),r="encv"),n=ce(r,i,n,u,a));break;case"audio":e.codecs.includes("mp3")?e=ce(".mp3",bs(e)):e.codecs.includes("ac-3")?(n=ce("dac3",e.qa),i="ac-3",r=new Uint8Array([]),e.encrypted&&(r=Ia(e),i="enca"),e=ce(i,bs(e),n,r)):e.codecs.includes("ec-3")?(n=ce("dec3",e.qa),i="ec-3",r=new Uint8Array([]),e.encrypted&&(r=Ia(e),i="enca"),e=ce(i,bs(e),n,r)):(0<e.qa.byteLength?n=ce("esds",e.qa):(n=ce,i=e.id+1,r=e.stream.channelsCount||2,a=e.stream.audioSamplingRate||44100,s=pr("audio",e.codecs.split(",")),l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},u=l[a],(s==="mp4a.40.5"||s==="mp4a.40.29")&&(u=l[2*a]),a=parseInt(s.split(".").pop(),10),i=new Uint8Array([0,0,0,0,3,25].concat(H(_e(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,a<<3|u>>>1,u<<7|r<<3,6,1,2])),n=n("esds",i)),i="mp4a",r=new Uint8Array([]),e.encrypted&&(r=Ia(e),i="enca"),e=ce(i,bs(e),n,r)),n=e}return e=ce("stsd",tC,n),t("stbl",e,ce("stts",Y4),ce("stsc",$4),ce("stsz",J4),ce("stco",Q4))}function zv(e){if(!e.Ja&&!e.La)return new Uint8Array([]);var t=e.La;return e=new Uint8Array([].concat(H(_e(e.Ja,4)),H(_e(t,4)))),ce("pasp",e)}function bs(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(H(_e(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Ia(e){for(var t=ce,n=e.codecs.substring(0,e.codecs.indexOf(".")),i=0,r=0;r<n.length;r+=1)i|=n.charCodeAt(r)<<8*(n.length-r-1);n=new Uint8Array([].concat(H(_e(i,4)))),n=ce("frma",n),i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),i=ce("schm",i),r=ce;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=m(e.stream.drmInfos);for(var a=e.next();!a.done;a=e.next())if((a=a.value)&&a.keyIds&&a.keyIds.size){a=m(a.keyIds);for(var u=a.next();!u.done;u=a.next())o=Kv(u.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=ce("tenc",e,o),t("sinf",n,i,r("schi",o))}function Ma(e){var t=[];e=m(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=t.push,r=i.apply,o=ce,a=new Uint8Array([0,0,0,0].concat(H(_e(n.data?n.data.Cb:0,4))));a=ce("mfhd",a);var u,s=n.data?n.data.fb:[],l=new Uint8Array(4+s.length);for(u=0;u<s.length;u++){var d=s[u].flags;l[u+4]=d.$a<<4|d.bb<<2|d.ab}s=ce("sdtp",l);var c=s.length+92;l=ce,u=new Uint8Array([0,0,0,58].concat(H(_e(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),u=ce("tfhd",u),d=n.data?n.data.baseMediaDecodeTime:0;var f=Math.floor(d%(wi+1));d=new Uint8Array([1,0,0,0].concat(H(_e(Math.floor(d/(wi+1)),4)),H(_e(f,4)))),d=ce("tfdt",d);var h=c;c=n.data?n.data.fb:[],f=c.length;var g=12+16*f,v=new Uint8Array(g);for(h+=8+g,v.set([n.type==="video"?1:0,0,15,1].concat(H(_e(f,4)),H(_e(h,4))),0),h=0;h<f;h++){var E=c[h];g=_e(E.duration,4);var S=_e(E.size,4),T=E.flags;E=_e(E.kb,4),v.set([].concat(H(g),H(S),[T.ob<<2|T.$a,T.bb<<6|T.ab<<4|T.pb,T.Za&61440,T.Za&15],H(E)),12+16*h)}c=ce("trun",v),s=l("traf",u,d,c,s),o=o("moof",a,s),r.call(i,t,[o,K4(n)])}return Ve.apply(vt,H(t))}function K4(e){return e=(e.data?e.data.fb:[]).map(function(t){return t.data}),e=Ve.apply(vt,H(e)),ce("mdat",e)}function _e(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Kv(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function ce(e){var t=Ge.apply(1,arguments),n=Xv[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Xv[e]=n);for(var i=8,r=t.length-1;0<=r;r--)i+=t[r].byteLength;for(r=new Uint8Array(i),r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=i&255,r.set(n,4),n=0,i=8;n<t.length;n++)r.set(t[n],i),i+=t[n].byteLength;return r}var Wv=!1,wi=Math.pow(2,32)-1,Xv={},W4=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),X4=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Y4=new Uint8Array([0,0,0,0,0,0,0,0]),$4=new Uint8Array([0,0,0,0,0,0,0,0]),Q4=new Uint8Array([0,0,0,0,0,0,0,0]),J4=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Z4=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),eC=new Uint8Array([0,0,0,0,0,0,0,0]),tC=new Uint8Array([0,0,0,0,0,0,0,1]),Ds=new Uint8Array([]),nC=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),tp=new Uint8Array([]);function np(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.u=1,this.i=null,this.D=new fr(5),this.s=new re(function(){iC(e)}),this.C=new br,this.m=new Map}p=np.prototype,p.configure=function(e){this.g=e},p.start=function(e,t){var n=this;return C(function(i){if(i.g==1)return n.l=[e],n.h=t,y(i,ip(n),2);if(!n.h)throw new I(2,7,7001);return i.return(n.j)})};function iC(e){var t;C(function(n){switch(n.g){case 1:return $(n,2),y(n,ip(e),4);case 4:oe(n,3);break;case 2:t=Q(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();O(n)}})}p.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.s!=null&&(this.s.stop(),this.s=null),this.m.clear(),this.C.destroy()},p.update=function(){var e=this,t;return C(function(n){if(n.g==1)return $(n,2),y(n,ip(e),4);if(n.g!=2)return oe(n,0);if(t=Q(n),!e.h||!t)return n.return();e.h.onError(t),O(n)})},p.onExpirationUpdated=function(){},p.onInitialVariantChosen=function(){},p.banLocation=function(){};function ip(e){var t,n,i,r,o,a,u;return C(function(s){if(s.g==1)return t=it(e.l,e.g.retryParameters),n=e.h.networkingEngine,i=Date.now(),r=n.request(0,t,{type:5}),Hi(e.C,r),y(s,r.promise,2);if(o=s.h,!e.h)return s.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var l=o.uri,d=gd(o.data,"SmoothStreamingMedia");if(!d)throw new I(2,4,4046,l);if((l=e.g.mss.manifestPreprocessor)&&l(d),e.i||(e.i=new ie(null,0)),l=he(d,"IsLive",md,!1))throw new I(2,4,4047);e.i.Vc(!l);var c=he(d,"TimeScale",xt,1e7),f=he(d,"DVRWindowLength",xt);l&&(f===0||isNaN(f))&&(f=1/0);var h=he(d,"CanSeek",md,!1);f===0&&h&&(f=1/0),h=null,f&&0<f&&(h=f/c),l&&!isNaN(e.g.availabilityWindowOverride)&&(h=e.g.availabilityWindowOverride),h==null&&(h=1/0),e.i.Ne(h),f=he(d,"Duration",xt,1/0),l||e.i.gb(f/c),l={variants:[],textStreams:[],timescale:c,duration:f/c},h=Re(d,"Protection");var g;for(c=e.g.mss.keySystemsBySystemId,f=[],h=m(h),g=h.next();!g.done;g=h.next())f=f.concat(Re(g.value,"ProtectionHeader"));if(f.length){for(h=[],g=0;g<f.length;g++){var v=f[g],E=v.getAttribute("SystemID").toLowerCase(),S=c[E];if(S){var T=qv(v);if(T)e:{T=m(T.getElementsByTagName("DATA"));for(var A=T.next();!A.done;A=T.next())if(A=fn(A.value,"KID")){T=hn(A.textContent),T=new Uint8Array([T[3],T[2],T[1],T[0],T[5],T[4],T[7],T[6]].concat(H(T.slice(8)))),T=Nr(T);break e}T=null}else T=null;A=hn(v.textContent),E=qi(E.replace(/-/g,"")),E=[{initData:Cu(A,E,new Set,0),initDataType:"cenc",keyId:T}],E=ci(S,E),T&&E.keyIds.add(T),(S=z4.get(S))&&(E.licenseServerUri=S(v)),h.push(E)}}c=h}else c=[];for(g=c,h=[],c=[],f=[],d=Re(d,"StreamIndex"),d=m(d),v=d.next();!v.done;v=d.next()){v=v.value,S=Re(v,"QualityLevel"),E=l.timescale,T=l.duration,A=Re(v,"c");for(var w=[],x=0,M=0;M<A.length;++M){var b=A[M],L=A[M+1],k=he(b,"t",xt),R=he(b,"d",xt);if(b=he(b,"r",Mu),!R)break;if(k=k??x,b=b||0,0>b)if(L){if(L=he(L,"t",xt),L==null)break;if(k>=L)break;b=Math.ceil((L-k)/R)-1}else{if(T==1/0)break;if(k/E>=T)break;b=Math.ceil((T*E-k)/R)-1}for(L=0;L<=b;++L)x=k+R,w.push({start:k/E,end:x/E,zg:k}),k=x}for(E=w,S=m(S),T=S.next();!T.done;T=S.next())(T=rC(e,v,T.value,E,g,l))&&(T.type!="audio"||e.g.disableAudio?T.type!="video"||e.g.disableVideo?T.type!=me||e.g.disableText||f.push(T):c.push(T):h.push(T))}for(d=[],h=m(0<h.length?h:[null]),g=h.next();!g.done;g=h.next())for(g=g.value,v=m(0<c.length?c:[null]),T=v.next();!T.done;T=v.next())S=d,E=S.push,T=T.value,A=0,g&&g.bandwidth&&0<g.bandwidth&&(A+=g.bandwidth),T&&T.bandwidth&&0<T.bandwidth&&(A+=T.bandwidth),T={id:e.u++,language:g?g.language:"und",disabledUntilTime:0,primary:!!g&&g.primary||!!T&&T.primary,audio:g,video:T,bandwidth:A,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},E.call(S,T);l.variants=d,l.textStreams=f,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null},e.i.ve()),Promise.resolve(),a=Date.now(),u=(a-i)/1e3,e.D.sample(1,u),O(s)})}function rC(e,t,n,i,r,o){var a=t.getAttribute("Type");if(a!=="audio"&&a!=="video"&&a!=="text")return pe("Ignoring unrecognized type:",a),null;var u=t.getAttribute("Language"),s=e.u++,l=he(n,"Bitrate",Zn),d=he(n,"MaxWidth",Zn),c=he(n,"MaxHeight",Zn),f=he(n,"Channels",Zn),h=he(n,"SamplingRate",Zn),g=o.duration;i.length&&(g=i[i.length-1].end-i[0].start);var v=e.i.getDuration();e.i.gb(Math.min(g,v));var E={id:s,originalId:t.getAttribute("Name")||String(s),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:d||void 0,height:c||void 0,kind:"",encrypted:0<r.length,drmInfos:r,keyIds:new Set,language:ve(u||"und"),originalLanguage:u,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:f,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1};if((r=t.getAttribute("Subtype"))&&((r=dC[r])&&E.roles.push(r),r==="main"&&(E.primary=!0)),r=n.getAttribute("FourCC"),(r===null||r==="")&&(r=t.getAttribute("FourCC")),!r){if(a==="audio")r="AAC";else if(a==="video")return pe('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!lC.includes(r.toUpperCase()))return pe("Codec not supported:",r),null;switch(n=oC(n,a,r,E),E.mssPrivateData.codecPrivateData=n,a){case"audio":if(!n)return pe("Quality unsupported without CodecPrivateData",a),null;E.type="audio",E.mimeType="mss/audio/mp4",E.codecs=aC(r,n);break;case"video":if(!n)return pe("Quality unsupported without CodecPrivateData",a),null;E.type="video",E.mimeType="mss/video/mp4",E.codecs=uC(n);break;case"text":E.type=me,E.mimeType="application/mp4",(r==="TTML"||r==="DFXP")&&(E.codecs="stpp")}return E.createSegmentIndex=function(){if(E.segmentIndex)return Promise.resolve();if(e.m.has(E.id))var S=e.m.get(E.id);else S=[],E.type=="video"&&(S=E.mssPrivateData.codecPrivateData.split("00000001").slice(1)),S={id:E.id,type:E.type,codecs:E.codecs,encrypted:E.encrypted,timescale:E.mssPrivateData.timescale,duration:E.mssPrivateData.duration,ib:S,qa:new Uint8Array([]),Ca:new Uint8Array([]),Ja:0,La:0,data:null,stream:E},S=so(new uo([S])),e.m.set(E.id,S);return S=sC(e,new Xt(function(){return[]},0,null,null,void 0,S),E,t,i),E.segmentIndex=new ye(S),Promise.resolve()},E.closeSegmentIndex=function(){E.segmentIndex&&(E.segmentIndex.release(),E.segmentIndex=null)},E}function oC(e,t,n,i){if(e=e.getAttribute("CodecPrivateData"))return e;if(t!=="audio")return null;t=i.channelsCount||2,e=i.audioSamplingRate||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return i=r[e],n==="AACH"?(n=new Uint8Array(4),e=r[2*e],n[0]=40|i>>1,n[1]=i<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|i>>1,n[1]=i<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function aC(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function uC(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function sC(e,t,n,i,r){var o=i.getAttribute("Url").replace("{bitrate}",String(n.bandwidth));i=[];var a={};r=m(r);for(var u=r.next();!u.done;a={gd:a.gd},u=r.next())a.gd=u.value,i.push(new J(a.gd.start,a.gd.end,function(s){return function(){return ht(e.l,[o.replace("{start time}",String(s.gd.zg))])}}(a),0,null,t,0,0,n.mssPrivateData.duration));return i}N("shaka.mss.MssParser",np);var lC="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),dC={CAPT:"main",SUBT:"alternate",DESC:"main"};mn["application/vnd.ms-sstr+xml"]=function(){return new np};function Yv(e,t,n,i,r,o){if(200<=n&&299>=n&&n!=202)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};r=null;try{r=mi(t)}catch{}throw new I(n==401||n==403?2:1,1,1001,i,n,r,e,o)}function rp(){}function Ps(e,t,n,i,r){var o=new mC;zo(t.headers).forEach(function(l,d){o.append(d,l)});var a=new hC,u={Hg:!1,xh:!1};if(e=cC(e,n,{body:t.body||void 0,headers:o,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,i,r,t.streamDataCallback),e=new je(e,function(){return u.Hg=!0,a.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var s=new re(function(){u.xh=!0,a.abort()});s.S(t/1e3),e.finally(function(){s.stop()})}return e}function cC(e,t,n,i,r,o,a){var u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:return u=pC,s=fC,f=c=0,h=Date.now(),$(w,2),y(w,u(e,n),4);case 4:if(l=w.h,o($v(l.headers)),n.method=="HEAD"){w.F(5);break}return g=l.clone().body.getReader(),E=(v=l.headers.get("Content-Length"))?parseInt(v,10):0,S=function(x){function M(){var b,L;return C(function(k){switch(k.g){case 1:return $(k,2),y(k,g.read(),4);case 4:b=k.h,oe(k,3);break;case 2:return Q(k),k.return();case 3:if(b.done){k.F(5);break}if(c+=b.value.byteLength,!a){k.F(5);break}return y(k,a(b.value),5);case 5:L=Date.now(),(100<L-h||b.done)&&(r(L-h,c-f,E-c),f=c,h=L),b.done?x.close():(x.enqueue(b.value),M()),O(k)}})}M()},new s({start:S}),y(w,l.arrayBuffer(),6);case 6:d=w.h;case 5:oe(w,3);break;case 2:throw T=Q(w),i.Hg?new I(1,1,7001,e,t):i.xh?new I(1,1,1003,e,t):new I(1,1,1002,e,T,t);case 3:return A=$v(l.headers),w.return(Yv(A,d,l.status,e,l.url,t))}})}function $v(e){var t={};return e.forEach(function(n,i){t[i.trim()]=n}),t}function Qv(){if(D.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(D.Response){if(!new Response("").body)return!1}else return!1;return!(!D.fetch||!D.AbortController)}N("shaka.net.HttpFetchPlugin",rp),rp.isSupported=Qv,rp.parse=Ps;var pC=D.fetch,hC=D.AbortController,fC=D.ReadableStream,mC=D.Headers;Qv()&&(Wn("http",Ps,2,!0),Wn("https",Ps,2,!0),Wn("blob",Ps,2,!0));function Jv(){}function Rs(e,t,n,i,r){var o=new gC,a=Date.now(),u=0,s=new Promise(function(l,d){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){d(new I(1,1,7001,e,n))};var c=!1;o.onreadystatechange=function(){if(o.readyState==2&&!c){var h=Zv(o);r(h),c=!0}},o.onload=function(){var h=Zv(o),g=o.response;try{var v=Yv(h,g,o.status,e,o.responseURL,n);l(v)}catch(E){d(E)}},o.onerror=function(h){d(new I(1,1,1002,e,h,n))},o.ontimeout=function(){d(new I(1,1,1003,e,n))},o.onprogress=function(h){var g=Date.now();(100<g-a||h.lengthComputable&&h.loaded==h.total)&&(i(g-a,h.loaded-u,h.total-h.loaded),u=h.loaded,a=g)};for(var f in t.headers)o.setRequestHeader(f.toLowerCase(),t.headers[f]);o.send(t.body)});return new je(s,function(){return o.abort(),Promise.resolve()})}function Zv(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=m(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}N("shaka.net.HttpXHRPlugin",Jv),Jv.parse=Rs;var gC=D.XMLHttpRequest;Wn("http",Rs,1,!0),Wn("https",Rs,1,!0),Wn("blob",Rs,1,!0);function ey(e,t,n,i){this.g=e,this.i=t,this.groupId=n,this.h=i}function op(e){return e.ba().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.hb+":"+e.Na}function vC(e,t){return ta(e.g.ba(),e.g.hb,e.g.Na,t.streaming.retryParameters)}function ty(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function ny(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}ty.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function iy(e){var t=this;this.s=e,this.j=new Map,this.i=new Dr(function(){return ap(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new ty}iy.prototype.destroy=function(){return this.i.destroy()};function yC(e,t,n){e.m=t,e.l=n}function ap(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function EC(e,t,n,i,r,o){we(e.i);var a=(e.j.get(t)||Promise.resolve()).then(function(){var u,s,l,d,c,f,h;return C(function(g){if(g.g==1)return y(g,SC(e,n),2);if(u=g.h,e.i.g)throw new I(2,9,7001);if(r)for(d in s=ae(u),l=new zf(s),l.data)c=Number(d),f=l.data[c],h=l.g[c],e.l(f,h);e.g.close(i,u.byteLength);var v=e.g;return e.m(v.i==0?0:v.j/v.i,e.g.h),g.return(o(u))})});e.j.set(t,a)}function TC(e){return C(function(t){return t.g==1?y(t,Promise.all(e.j.values()),2):t.return(e.g.h)})}function SC(e,t){var n,i,r,o;return C(function(a){return a.g==1?(n=In,i=e.s.request(n,t),r=function(){return i.abort()},e.h.push(r),y(a,i.promise,2)):(o=a.h,An(e.h,r),a.return(o.data))})}function Ns(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new De,e.onabort=function(i){i.preventDefault(),n.g.reject()},e.onerror=function(i){i.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}Ns.prototype.abort=function(){var e=this;return C(function(t){if(t.g==1){try{e.i.abort()}catch{}return $(t,2),y(t,e.g,4)}if(t.g!=2)return oe(t,0);Q(t),O(t)})};function up(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var o;return C(function(a){if(a.g==1)return r.result==null?(n(),a.return()):(o=r.result,y(a,t(o.key,o.value,o),2));o.continue(),O(a)})}})}Ns.prototype.store=function(){return this.h},Ns.prototype.promise=function(){return this.g};function sp(e){this.h=e,this.g=[]}sp.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function er(e,t){return _s(e,t,"readwrite")}function _s(e,t,n){n=e.h.transaction([t],n);var i=new Ns(n,t);return e.g.push(i),i.promise().then(function(){An(e.g,i)},function(){An(e.g,i)}),i}function tr(e,t,n){this.h=new sp(e),this.i=t,this.g=n}p=tr.prototype,p.destroy=function(){return this.h.destroy()},p.hasFixedKeySpace=function(){return!0},p.addSegments=function(){return ry(this.i)},p.removeSegments=function(e,t){return oy(this,this.i,e,t)},p.getSegments=function(e){var t=this,n;return C(function(i){return i.g==1?y(i,ay(t,t.i,e),2):(n=i.h,i.return(n.map(function(r){return t.Lg(r)})))})},p.addManifests=function(){return ry(this.g)},p.updateManifest=function(){return Promise.reject(new I(2,9,9016,"Cannot modify values in "+this.g))};function wC(e,t,n){e=er(e.h,e.g);var i=e.store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}p.updateManifestExpiration=function(e,t){var n=er(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,i.put(r,e))},n.promise()},p.removeManifests=function(e,t){return oy(this,this.g,e,t)},p.getManifests=function(e){var t=this,n;return C(function(i){return i.g==1?y(i,ay(t,t.g,e),2):(n=i.h,i.return(Promise.all(n.map(function(r){return t.qd(r)}))))})},p.getAllManifests=function(){var e=this,t,n;return C(function(i){return i.g==1?(t=_s(e.h,e.g,"readonly"),n=new Map,y(i,up(t,function(r,o){var a;return C(function(u){if(u.g==1)return y(u,e.qd(o),2);a=u.h,n.set(r,a),O(u)})}),2)):i.g!=3?y(i,t.promise(),3):i.return(n)})},p.Lg=function(e){return e},p.qd=function(e){return Promise.resolve(e)};function ry(e){return Promise.reject(new I(2,9,9011,"Cannot add new value to "+e))}p.add=function(e,t){var n=this,i,r,o,a,u,s,l;return C(function(d){if(d.g==1){for(i=er(n.h,e),r=i.store(),o=[],a={},u=m(t),s=u.next();!s.done;a={Vd:a.Vd},s=u.next())l=s.value,a.Vd=r.add(l),a.Vd.onsuccess=function(c){return function(){o.push(c.Vd.result)}}(a);return y(d,i.promise(),2)}return d.return(o)})};function oy(e,t,n,i){e=er(e.h,t),t=e.store();var r={};n=m(n);for(var o=n.next();!o.done;r={Td:r.Td},o=n.next())r.Td=o.value,t.delete(r.Td).onsuccess=function(a){return function(){return i(a.Td)}}(r);return e.promise()}function ay(e,t,n){var i,r,o,a,u,s,l;return C(function(d){if(d.g==1){for(i=_s(e.h,t,"readonly"),r=i.store(),o={},a=[],u={},s=m(n),l=s.next();!l.done;u={ed:u.ed,bd:u.bd},l=s.next())u.bd=l.value,u.ed=r.get(u.bd),u.ed.onsuccess=function(c){return function(){c.ed.result==null&&a.push(c.bd),o[c.bd]=c.ed.result}}(u);return y(d,i.promise(),2)}if(a.length)throw new I(2,9,9012,"Could not find values for "+a);return d.return(n.map(function(c){return o[c]}))})}function La(e){this.g=new sp(e)}La.prototype.destroy=function(){return this.g.destroy()},La.prototype.getAll=function(){var e=this,t,n;return C(function(i){return i.g==1?(t=_s(e.g,"session-ids","readonly"),n=[],y(i,up(t,function(r,o){n.push(o)}),2)):i.g!=3?y(i,t.promise(),3):i.return(n)})},La.prototype.add=function(e){var t=er(this.g,"session-ids"),n=t.store();e=m(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},La.prototype.remove=function(e){var t=this,n;return C(function(i){return i.g==1?(n=er(t.g,"session-ids"),y(i,up(n,function(r,o,a){e.includes(o.sessionId)&&a.delete()}),2)):y(i,n.promise(),0)})};function It(){this.g=new Map}It.prototype.destroy=function(){for(var e=[],t=m(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},It.prototype.init=function(){var e=this;ka.forEach(function(r,o){(r=r())&&e.g.set(o,r)});for(var t=[],n=m(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)};function uy(e){var t=null;if(e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){r.hasFixedKeySpace()||t||(t={path:{qb:i,Ma:o},Ma:r})})}),t)return t;throw new I(2,9,9013,"Could not find a cell that supports add-operations")}function AC(e,t){e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){t({qb:i,Ma:o},r)})})}function Us(e,t,n){if(e=e.g.get(t),!e)throw new I(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new I(2,9,9013,"Could not find cell with name "+n);return t}function xC(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function CC(e){var t=Array.from(e.g.keys());if(!t.length)throw new I(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function IC(e){var t,n,i;return C(function(r){return r.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(i=ka,i.forEach(function(o){(o=o())&&t.push(o)})),y(r,Promise.all(t.map(function(o){return o.erase()})),2)):n?r.F(0):y(r,Promise.all(t.map(function(o){return o.destroy()})),0)})}function sy(e,t){ka.set(e,t)}N("shaka.offline.StorageMuxer",It),It.unregister=function(e){ka.delete(e)},It.register=sy,It.prototype.destroy=It.prototype.destroy;var ka=new Map;function ba(){tr.apply(this,arguments)}se(ba,tr),ba.prototype.updateManifestExpiration=function(e,t){var n=this,i,r,o;return C(function(a){return i=er(n.h,n.g),r=i.store(),o=new De,r.get(e).onsuccess=function(u){(u=u.target.result)?(u.expiration=t,r.put(u),o.resolve()):o.reject(new I(2,9,9012,"Could not find values for "+e))},y(a,Promise.all([i.promise(),o]),0)})},ba.prototype.qd=function(e){var t,n,i,r,o,a;return C(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,o=MC(e.periods[n],r),t.push(o);return y(u,Y0(t),2)}return a=u.h,u.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:a,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function MC(e,t){kC(e);for(var n=m(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(r){return LC(r,e.startTime,t)})}function LC(e,t,n){var i=e.initSegmentUri?ly(e.initSegmentUri):null,r=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(a){var u=ly(a.uri);return{startTime:t+a.startTime,endTime:t+a.endTime,dataKey:u,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:r,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}ba.prototype.Lg=function(e){return{data:e.data}};function ly(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new I(2,9,9004,"Could not parse uri "+e)}function kC(e){var t=e.streams.filter(function(u){return u.contentType=="audio"});if(e=e.streams.filter(function(u){return u.contentType=="video"}),!t.every(function(u){return u.variantIds})||!e.every(function(u){return u.variantIds})){for(var n=m(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=m(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){var r=n++,o=m(e);for(i=o.next();!i.done;i=o.next())i.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,o=m(t),i=o.next();!i.done;i=o.next())i.value.variantIds.push(r);if(e.length&&t.length)for(t=m(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=m(e),o=r.next();!o.done;o=r.next()){o=o.value;var a=n++;i.variantIds.push(a),o.variantIds.push(a)}}}function Os(){tr.apply(this,arguments)}se(Os,tr),Os.prototype.qd=function(e){var t,n,i,r,o,a;return C(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var s=e.periods[n],l=[],d=m(s.streams),c=d.next();!c.done;c=d.next())c=c.value,c.variantIds.length!=0&&l.push(bC(c,s.startTime,s.startTime+r));o=l,t.push(o)}return y(u,Y0(t),2)}return a=u.h,u.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:a,sequenceMode:!1})})};function bC(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}function lp(){tr.apply(this,arguments)}se(lp,tr),p=lp.prototype,p.hasFixedKeySpace=function(){return!1},p.addSegments=function(e){return this.add(this.i,e)},p.addManifests=function(e){return this.add(this.g,e)},p.updateManifest=function(e,t){return wC(this,e,t)},p.qd=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function dy(){this.m=this.j=this.i=this.h=this.g=this.l=null}p=dy.prototype,p.init=function(){var e=this,t=new De,n=!1,i=new re(function(){n=!0,t.reject(new I(2,9,9017))});i.S(5);var r=D.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){if(!n){var o=r.result;e.l=o;var a=o.objectStoreNames;a=a.contains("manifest")&&a.contains("segment")?new ba(o,"segment","manifest"):null,e.g=a,a=o.objectStoreNames,a=a.contains("manifest-v2")&&a.contains("segment-v2")?new Os(o,"segment-v2","manifest-v2"):null,e.h=a,a=o.objectStoreNames,a=a.contains("manifest-v3")&&a.contains("segment-v3")?new Os(o,"segment-v3","manifest-v3"):null,e.i=a,a=o.objectStoreNames,a=a.contains("manifest-v5")&&a.contains("segment-v5")?new lp(o,"segment-v5","manifest-v5"):null,e.j=a,o=o.objectStoreNames.contains("session-ids")?new La(o):null,e.m=o,i.stop(),t.resolve()}},r.onupgradeneeded=function(){for(var o=r.result,a=m(["segment-v5","manifest-v5","session-ids"]),u=a.next();!u.done;u=a.next())u=u.value,o.objectStoreNames.contains(u)||o.createObjectStore(u,{autoIncrement:!0})},r.onerror=function(o){n||(t.reject(new I(2,9,9001,r.error)),i.stop(),o.preventDefault())},t},p.destroy=function(){var e=this;return C(function(t){switch(t.g){case 1:if(!e.g){t.F(2);break}return y(t,e.g.destroy(),2);case 2:if(!e.h){t.F(4);break}return y(t,e.h.destroy(),4);case 4:if(!e.i){t.F(6);break}return y(t,e.i.destroy(),6);case 6:if(!e.j){t.F(8);break}return y(t,e.j.destroy(),8);case 8:if(!e.m){t.F(10);break}return y(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),O(t)}})},p.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},p.getEmeSessionCell=function(){return this.m},p.erase=function(){var e=this;return C(function(t){switch(t.g){case 1:if(!e.g){t.F(2);break}return y(t,e.g.destroy(),2);case 2:if(!e.h){t.F(4);break}return y(t,e.h.destroy(),4);case 4:if(!e.i){t.F(6);break}return y(t,e.i.destroy(),6);case 6:if(!e.j){t.F(8);break}return y(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),y(t,DC(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,y(t,e.init(),0)}})};function DC(){var e=new De,t=D.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new I(2,9,9001,t.error)),n.preventDefault()},e}sy("idb",function(){return wr()||Fo()||!D.indexedDB?null:new dy});function Hn(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}Hn.prototype.qb=function(){return this.i},Hn.prototype.Ma=function(){return this.h},Hn.prototype.key=function(){return this.l},Hn.prototype.toString=function(){return this.j};function dp(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var i=e[3];return i&&t!=null?new Hn(t,n,i,Number(e[4])):null}function cy(e,t){this.h=e,this.g=t}function py(e,t){var n=new ie(null,0);n.gb(t.duration);var i=t.streams.filter(function(l){return l.type=="audio"}),r=t.streams.filter(function(l){return l.type=="video"});i=PC(e,i,r,n),r=t.streams.filter(function(l){return l.type==me}).map(function(l){return Vs(e,l,n)});var o=t.streams.filter(function(l){return l.type=="image"}).map(function(l){return Vs(e,l,n)}),a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var u=m(i.values()),s=u.next();!s.done;s=u.next())s=s.value,s.audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null}}function PC(e,t,n,i){for(var r=new Set,o=m(t),a=o.next();!a.done;a=o.next()){var u=m(a.value.variantIds);for(a=u.next();!a.done;a=u.next())r.add(a.value)}for(o=m(n),a=o.next();!a.done;a=o.next())for(u=m(a.value.variantIds),a=u.next();!a.done;a=u.next())r.add(a.value);for(o=new Map,r=m(r),a=r.next();!a.done;a=r.next())a=a.value,o.set(a,{id:a,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=m(t),r=t.next();!r.done;r=t.next())for(r=r.value,a=Vs(e,r,i),u=m(r.variantIds),r=u.next();!r.done;r=u.next())r=o.get(r.value),r.language=a.language,r.primary=r.primary||a.primary,r.audio=a;for(n=m(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Vs(e,r,i),a=m(r.variantIds),r=a.next();!r.done;r=a.next())r=o.get(r.value),r.primary=r.primary||t.primary,r.video=t;return o}function Vs(e,t,n){var i=t.segments.map(function(r){return RC(e,r)});return n.Dd(i),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new ye(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching}}function RC(e,t){var n=new Hn("segment",e.h,e.g,t.dataKey);return new J(t.startTime,t.endTime,function(){return[n.toString()]},0,null,t.initSegmentKey!=null?NC(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||"")}function NC(e,t){var n=new Hn("segment",e.h,e.g,t);return new Xt(function(){return[n.toString()]},0,null)}function hy(){this.g=null}p=hy.prototype,p.configure=function(){},p.start=function(e,t){var n=this,i,r,o,a,u,s,l;return C(function(d){switch(d.g){case 1:if(i=dp(e),n.g=i,i==null||i.g!="manifest")throw new I(2,1,9004,e);return r=new It,pt(d,2),y(d,r.init(),4);case 4:return y(d,Us(r,i.qb(),i.Ma()),5);case 5:return o=d.h,y(d,o.getManifests([i.key()]),6);case 6:return a=d.h,u=a[0],s=new cy(i.qb(),i.Ma()),l=py(s,u),t.makeTextStreamsForClosedCaptions(l),d.return(l);case 2:return At(d),y(d,r.destroy(),7);case 7:gt(d,0)}})},p.stop=function(){return Promise.resolve()},p.update=function(){},p.onExpirationUpdated=function(e,t){var n=this,i,r,o,a,u,s,l;return C(function(d){switch(d.g){case 1:return i=n.g,r=new It,$(d,2,3),y(d,r.init(),5);case 5:return y(d,Us(r,i.qb(),i.Ma()),6);case 6:return o=d.h,y(d,o.getManifests([i.key()]),7);case 7:if(a=d.h,u=a[0],s=u.sessionIds.includes(e),l=u.expiration==null||u.expiration>t,!s||!l){d.F(3);break}return y(d,o.updateManifestExpiration(i.key(),t),3);case 3:return At(d),y(d,r.destroy(),10);case 10:gt(d,0);break;case 2:Q(d),d.F(3)}})},p.onInitialVariantChosen=function(){},p.banLocation=function(){},mn["application/x-offline-manifest"]=function(){return new hy};function fy(){}function my(e){var t=dp(e);return t&&t.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=kr(e)):e=t&&t.g=="segment"?_C(t.key(),t):Vi(new I(2,1,9004,e)),e}function _C(e,t){var n=new It;return kr(void 0).Fa(function(){return n.init()}).Fa(function(){return Us(n,t.qb(),t.Ma())}).Fa(function(i){return i.getSegments([t.key()])}).Fa(function(i){return{uri:t,data:i[0].data,headers:{}}}).finally(function(){return n.destroy()})}N("shaka.offline.OfflineScheme",fy),fy.plugin=my,Wn("offline",my);function gy(e,t,n){var i,r,o,a,u,s;return C(function(l){switch(l.g){case 1:i=[];for(var d=[],c=m(n),f=c.next();!f.done;f=c.next()){f=f.value;for(var h=!1,g=m(d),v=g.next();!v.done;v=g.next())if(v=v.value,OC(v.info,f)){v.sessionIds.push(f.sessionId),h=!0;break}h||d.push({info:f,sessionIds:[f.sessionId]})}r=m(d),o=r.next();case 2:if(o.done){l.F(4);break}return a=o.value,u=UC(e,t,a),y(l,u,5);case 5:s=l.h,i=i.concat(s),o=r.next(),l.F(2);break;case 4:return l.return(i)}})}function UC(e,t,n){var i,r;return C(function(o){switch(o.g){case 1:return i=new Lu({zc:t,onError:function(){},Fe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),$(o,2),i.configure(e),y(o,hS(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:oe(o,3);break;case 2:return Q(o),y(o,i.destroy(),5);case 5:return o.return([]);case 3:return r=[],y(o,Promise.all(n.sessionIds.map(function(a){return C(function(u){if(u.g==1)return $(u,2),y(u,gS(i,a),4);if(u.g!=2)return r.push(a),oe(u,0);Q(u),O(u)})})),6);case 6:return y(o,i.destroy(),7);case 7:return o.return(r)}})}function OC(e,t){function n(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&$h(e.audioCapabilities,t.audioCapabilities,n)&&$h(e.videoCapabilities,t.videoCapabilities,n)}function VC(e,t,n){var i=t.presentationTimeline.getDuration();return t=vy(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function cp(e,t){var n=py(new cy(e.qb(),e.Ma()),t),i=t.appMetadata||{};return n=vy(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function vy(e){var t=[],n=ad(e.variants);n=m(n);for(var i=n.next();!i.done;i=n.next())t.push(Ir(i.value));for(e=m(e.textStreams),n=e.next();!n.done;n=e.next())t.push(gu(n.value));return t}function HC(){this.g={}}function jC(e,t){var n=t.audio,i=t.video;if(n&&!i&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&i&&(e.g[i.id]=i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,o=i.bandwidth||t.bandwidth-r;0>=o&&(o=t.bandwidth),e.g[n.id]=r,e.g[i.id]=o}}function BC(e,t){e.g[t.id]=t.bandwidth||2048}function yy(e,t){return e=e.g[t],e==null&&(e=0),e}function tt(e){var t=this;if(e&&e.constructor!=P)throw new I(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Zb()):(this.h=Gr(),this.g=new ke),this.i=[],this.j=[];var n=!e;this.l=new Dr(function(){var i,r,o,a,u;return C(function(s){switch(s.g){case 1:return y(s,Promise.all(t.j.map(function(l){return ap(l)})),2);case 2:for(i=function(){},r=[],o=m(t.i),a=o.next();!a.done;a=o.next())u=a.value,r.push(u.then(i,i));return y(s,Promise.all(r),3);case 3:if(!n){s.F(4);break}return y(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,O(s)}})})}function pp(){if(Cn())e:{for(var e=m(ka.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}p=tt.prototype,p.destroy=function(){return this.l.destroy()},p.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=zu(e,t)),zr(this.h,e)},p.getConfiguration=function(){var e=Gr();return zr(e,this.h,Gr()),e},p.Zb=function(){return this.g},p.store=function(e,t,n){var i=this,r=this.getConfiguration(),o=new iy(this.g);return this.j.push(o),t=FC(this,e,t||{},function(){var a;return C(function(u){return u.g==1?n?u.F(2):y(u,zd(e,i.g,r.manifest.retryParameters),3):(u.g!=2&&(n=u.h),a=sm(e,n||null),u.return(a()))})},r,o),t=new je(t,function(){return ap(o)}),t.finally(function(){An(i.j,o)}),n2(this,t)};function FC(e,t,n,i,r,o){var a,u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:return Hs(),u=a=null,s=new It,c=d=l=null,$(w,2,3),y(w,i(),5);case 5:return a=w.h,y(w,QC(e,t,a,r),6);case 6:if(f=w.h,lt(e),h=!f.presentationTimeline.R()&&!f.presentationTimeline.wc(),!h)throw new I(2,9,9005,t);return y(w,JC(e,f,function(x){c=c||x},r),7);case 7:if(u=w.h,lt(e),c)throw c;return y(w,GC(f,u,r),8);case 8:return y(w,s.init(),9);case 9:return lt(e),y(w,uy(s),10);case 10:return l=w.h,lt(e),g=zC(u,f,t,n,r,o),v=g.Si,E=g.vg,y(w,l.Ma.addManifests([v]),11);case 11:if(S=w.h,lt(e),d=S[0],lt(e),c)throw c;return y(w,qC(e,E,d,v,o,r,l.Ma,f,u),12);case 12:return lt(e),wy(f,v,u,r),y(w,l.Ma.updateManifest(d,v),13);case 13:return lt(e),T=new Hn("manifest",l.path.qb,l.path.Ma,d),w.return(cp(T,v));case 3:return At(w),y(w,s.destroy(),14);case 14:if(!a){w.F(15);break}return y(w,a.stop(),15);case 15:if(!u){w.F(17);break}return y(w,u.destroy(),17);case 17:gt(w,0);break;case 2:if(A=Q(w),d==null){w.F(19);break}return y(w,Ey(d),19);case 19:throw c||A}})}function qC(e,t,n,i,r,o,a,u,s){var l,d,c,f,h,g,v,E,S,T;return C(function(A){switch(A.g){case 1:if(l={},d=0,c=function(w,x){var M,b,L,k,R,_,U;return C(function(j){if(j.g==1){for(M={},b=m(w),L=b.next();!L.done;M={kc:M.kc},L=b.next())M.kc=L.value,k=vC(M.kc,o),R=M.kc.i,_=M.kc.h,U=function(W){return function(Y){var ne,F,ze;return C(function(ot){if(ot.g==1)return y(ot,a.addSegments([{data:Y}]),2);ne=ot.h,lt(e),F=W.kc.g,ze=op(F),l[ze]=ne[0],d+=Y.byteLength,O(ot)})}}(M),EC(r,M.kc.groupId,k,R,_,U);return y(j,TC(r),2)}return x?(lt(e),wy(u,i,s,o),y(j,a.updateManifest(n,i),0)):j.F(0)})},f=!1,$(A,2),!hp(u)||!f||Sy(u)){A.F(4);break}return y(A,c(t.filter(function(w){return w.h}),!0),5);case 5:return lt(e),t=t.filter(function(w){return!w.h}),h=l,g=d,l={},d=0,y(A,Ty(a,n,i,h,g,function(){return lt(e)}),6);case 6:lt(e);case 4:if(f){A.F(7);break}return y(A,c(t,!1),8);case 8:return lt(e),v=l,E=d,l={},d=0,y(A,Ty(a,n,i,v,E,function(){return lt(e)}),9);case 9:lt(e);case 7:oe(A,0);break;case 2:return S=Q(A),T=Object.values(l),y(A,a.removeSegments(T,function(){}),10);case 10:throw S}})}function Ey(e){var t,n,i,r;return C(function(o){switch(o.g){case 1:return t=new It,y(o,t.init(),2);case 2:return y(o,uy(t),3);case 3:return n=o.h,i=new Hn("manifest",n.path.qb,n.path.Ma,e),y(o,t.destroy(),4);case 4:return r=new tt,y(o,r.remove(i.toString()),0)}})}function Ty(e,t,n,i,r,o){var a,u,s,l,d,c,f,h,g,v,E;return C(function(S){switch(S.g){case 1:for(a=!1,$(S,2),u=!0,s=m(n.streams),l=s.next();!l.done;l=s.next())for(d=l.value,c=m(d.segments),f=c.next();!f.done;f=c.next())h=f.value,g=h.pendingSegmentRefId?i[h.pendingSegmentRefId]:null,g!=null&&(h.dataKey=g,h.pendingSegmentRefId=void 0),g=h.pendingInitSegmentRefId?i[h.pendingInitSegmentRefId]:null,g!=null&&(h.initSegmentKey=g,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(u=!1),h.pendingInitSegmentRefId&&(u=!1);return n.size+=r,u&&(n.isIncomplete=!1),y(S,e.updateManifest(t,n),4);case 4:a=!0,o(),oe(S,0);break;case 2:return v=Q(S),y(S,Ey(t),5);case 5:if(a){S.F(6);break}return E=Object.values(i),y(S,e.removeSegments(E,function(){}),6);case 6:throw v}})}function GC(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w,x,M,b,L,k,R,_,U,j,W;return C(function(Y){switch(Y.g){case 1:return i={width:1/0,height:1/0},NT(e,n.restrictions,i),y(Y,mf(t,e,n.offline.usePersistentLicense),2);case 2:for(r=[],o=n.preferredDecodingAttributes,a=n.preferredVideoCodecs,u=n.preferredAudioCodecs,hf(e,a,u,o),s=m(e.variants),l=s.next();!l.done;l=s.next())d=l.value,r.push(Ir(d));for(c=m(e.textStreams),f=c.next();!f.done;f=c.next())h=f.value,r.push(gu(h));for(g=m(e.imageStreams),v=g.next();!v.done;v=g.next())E=v.value,r.push(id(E));return y(Y,n.offline.trackSelectionCallback(r),3);case 3:for(S=Y.h,T=e.presentationTimeline.getDuration(),A=0,w=m(S),x=w.next();!x.done;x=w.next())M=x.value,b=M.bandwidth*T/8,A+=b;return $(Y,4),y(Y,n.offline.downloadSizeCallback(A),6);case 6:if(L=Y.h,!L)throw new I(2,9,9014);oe(Y,5);break;case 4:throw k=Q(Y),k instanceof I?k:new I(2,9,9015);case 5:for(R=new Set,_=new Set,U=new Set,j=m(S),x=j.next();!x.done;x=j.next())W=x.value,W.type=="variant"&&R.add(W.id),W.type=="text"&&_.add(W.id),W.type=="image"&&U.add(W.id);e.variants=e.variants.filter(function(ne){return R.has(ne.id)}),e.textStreams=e.textStreams.filter(function(ne){return _.has(ne.id)}),e.imageStreams=e.imageStreams.filter(function(ne){return U.has(ne.id)}),o2(e),O(Y)}})}function zC(e,t,n,i,r,o){var a=VC(n,t,i),u=r.offline.progressCallback;yC(o,function(h,g){a.size=g,u(a,h)},function(h,g){s&&r.offline.usePersistentLicense&&l==g&&Xo(e,"cenc",h)});var s=hp(t)&&!Sy(t),l=null;s&&(l=a2.get(e.g.keySystem));for(var d=new HC,c=m(t.textStreams),f=c.next();!f.done;f=c.next())d.g[f.value.id]=52;for(c=m(t.imageStreams),f=c.next();!f.done;f=c.next())BC(d,f.value);for(f=m(t.variants),c=f.next();!c.done;c=f.next())jC(d,c.value);return d=ZC(o,d,t,r),o=d.streams,d=d.vg,f=e.g,c=r.offline.usePersistentLicense,f&&c&&(f.initData=[]),{Si:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.td(),streams:o,sessionIds:c?Zf(e):[],drmInfo:f,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},vg:d}}function hp(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function Sy(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function wy(e,t,n,i){if(t.expiration=n.td(),n=Zf(n),t.sessionIds=i.offline.usePersistentLicense?n:[],hp(e)&&i.offline.usePersistentLicense&&!n.length)throw new I(2,9,9007)}p.remove=function(e){return fp(this,KC(this,e))};function KC(e,t){var n,i,r,o,a,u;return C(function(s){switch(s.g){case 1:if(Hs(),n=dp(t),n==null||n.g!="manifest")throw new I(2,9,9004,t);return i=n,r=new It,pt(s,2),y(s,r.init(),4);case 4:return y(s,Us(r,i.qb(),i.Ma()),5);case 5:return o=s.h,y(s,o.getManifests([i.key()]),6);case 6:return a=s.h,u=a[0],y(s,Promise.all([WC(e,u,r),XC(o,i,u)]),2);case 2:return At(s),y(s,r.destroy(),8);case 8:gt(s,0)}})}function Ay(e,t){for(var n=[],i=m(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&r.type=="video"?n.push({contentType:Ot(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||r.type!="audio"||n.push({contentType:Ot(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function WC(e,t,n){return C(function(i){return y(i,r2(e.g,e.h.drm,n,t),0)})}function XC(e,t,n){function i(){}var r=i2(n);return cp(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}p.fj=function(){return fp(this,YC(this))};function YC(e){var t,n,i,r,o,a,u,s,l,d;return C(function(c){switch(c.g){case 1:return Hs(),t=e.g,n=e.h.drm,i=new It,r=!1,pt(c,2),y(c,i.init(),4);case 4:o=[],xC(i,function(f){return o.push(f)}),a=m(o),u=a.next();case 5:if(u.done){c.F(2);break}return s=u.value,y(c,s.getAll(),8);case 8:return l=c.h,y(c,gy(n,t,l),9);case 9:return d=c.h,y(c,s.remove(d),10);case 10:d.length!=l.length&&(r=!0),u=a.next(),c.F(5);break;case 2:return At(c),y(c,i.destroy(),11);case 11:gt(c,3);break;case 3:return c.return(!r)}})}p.list=function(){return fp(this,$C())};function $C(){var e,t,n;return C(function(i){switch(i.g){case 1:return Hs(),e=[],t=new It,pt(i,2),y(i,t.init(),4);case 4:return n=Promise.resolve(),AC(t,function(r,o){n=n.then(function(){var a;return C(function(u){if(u.g==1)return y(u,o.getAllManifests(),2);a=u.h,a.forEach(function(s,l){s=cp(new Hn("manifest",r.qb,r.Ma,l),s),e.push(s)}),O(u)})})}),y(i,n,2);case 2:return At(i),y(i,t.destroy(),6);case 6:gt(i,3);break;case 3:return i.return(e)}})}function QC(e,t,n,i){var r,o,a,u,s;return C(function(l){if(l.g==1)return r=null,o=e.g,a={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(d){r=d},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return i.abr.defaultBandwidthEstimate}},n.configure(i.manifest),lt(e),y(l,n.start(t,a),2);if(l.g!=3)return u=l.h,lt(e),s=xy(u),y(l,Promise.all(Ol(s,function(d){return d.createSegmentIndex()})),3);if(lt(e),r)throw r;return l.return(u)})}function JC(e,t,n,i){var r;return C(function(o){return o.g==1?(r=new Lu({zc:e.g,onError:n,Fe:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),r.configure(i.drm),y(o,pS(r,t.variants,i.offline.usePersistentLicense),2)):o.g!=3?y(o,Qf(r),3):o.return(r)})}function ZC(e,t,n,i){var r=new Map,o=xy(n),a=new Map;o=m(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var s=e2(e,t,n,u,i,r);a.set(u.id,s)}for(e=m(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&a.get(t.audio.id).variantIds.push(t.id),t.video&&a.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(a.values()),vg:Array.from(r.values())}}function e2(e,t,n,i,r,o){var a={id:i.id,originalId:i.originalId,groupId:i.groupId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,videoLayout:i.videoLayout,kind:i.kind,language:i.language,originalLanguage:i.originalLanguage,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout,external:i.external,fastSwitching:i.fastSwitching},u=r.offline.numberOfParallelDownloads,s=0;return t2(i,n.presentationTimeline.Ab(),function(l){var d=op(l),c=void 0;if(!o.has(d)){var f=l.endTime-l.startTime;f=yy(t,i.id)*f,f=ny(e.g,f),o.set(d,new ey(l,f,s,!1))}l.ka&&(c=op(l.ka),o.has(c)||(f=.5*yy(t,i.id),f=ny(e.g,f),o.set(c,new ey(l.ka,f,s,!0)))),a.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:l.startTime,endTime:l.endTime,appendWindowStart:l.appendWindowStart,appendWindowEnd:l.appendWindowEnd,timestampOffset:l.timestampOffset,tilesLayout:l.tilesLayout,pendingSegmentRefId:d,dataKey:0}),s=(s+1)%u}),a}function t2(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}function lt(e){if(e.l.g)throw new I(2,9,7001)}function Hs(){if(!pp())throw new I(2,9,9e3)}function fp(e,t){return C(function(n){return n.g==1?(e.i.push(t),pt(n,2),y(n,t,4)):n.g!=2?n.return(n.h):(At(n),An(e.i,t),gt(n,0))})}function n2(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){An(e.i,n)})}function i2(e){var t=new Set;e=m(e.streams);for(var n=e.next();!n.done;n=e.next()){n=m(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,i.initSegmentKey!=null&&t.add(i.initSegmentKey),t.add(i.dataKey)}return Array.from(t)}function r2(e,t,n,i){var r,o,a;return C(function(u){return u.g==1?i.drmInfo?(r=CC(n),o=i.sessionIds.map(function(s){return{sessionId:s,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:Ay(i,!1),videoCapabilities:Ay(i,!0)}}),y(u,gy(t,e,o),2)):u.return():u.g!=3?(a=u.h,y(u,r.remove(a),3)):y(u,r.add(o.filter(function(s){return!a.includes(s.sessionId)})),0)})}function xy(e){for(var t=new Set,n=m(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(n=m(e.imageStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=m(e.variants),n=e.next();!n.done;n=e.next())n=n.value,n.audio&&t.add(n.audio),n.video&&t.add(n.video);return t}function o2(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=m(t),i=n.next();!i.done;i=n.next()){i=m(t);for(var r=i.next();!r.done;r=i.next());}for(t=m(e),n=t.next();!n.done;n=t.next())for(n=m(e),i=n.next();!i.done;i=n.next());}N("shaka.offline.Storage",tt),tt.deleteAll=function(){var e;return C(function(t){return t.g==1?(e=new It,pt(t,2),y(t,IC(e),2)):t.g!=5?(At(t),y(t,e.destroy(),5)):gt(t,0)})},tt.prototype.list=tt.prototype.list,tt.prototype.removeEmeSessions=tt.prototype.fj,tt.prototype.remove=tt.prototype.remove,tt.prototype.store=tt.prototype.store,tt.prototype.getNetworkingEngine=tt.prototype.Zb,tt.prototype.getConfiguration=tt.prototype.getConfiguration,tt.prototype.configure=tt.prototype.configure,tt.prototype.destroy=tt.prototype.destroy,tt.support=pp;var a2=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");fc.offline=pp;function rt(){}function Cy(){for(var e=m(Da),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){pe("Error installing polyfill!",n)}}}function Et(e,t){for(e={priority:t||0,callback:e},t=0;t<Da.length;t++)if(Da[t].priority<e.priority){Da.splice(t,0,e);return}Da.push(e)}N("shaka.polyfill",rt),rt.register=Et,rt.installAll=Cy;var Da=[];function Pa(){this.g=new js}function Iy(){D.AbortController||(D.AbortController=Pa,D.AbortSignal=js)}Pa.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,t.g===void 0&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new B("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},sn.Object.defineProperties(Pa.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),rt.AbortController=Pa,Pa.install=Iy;function js(){fe.call(this),this.h=!1,this.g=void 0,this.onabort=null}se(js,fe),sn.Object.defineProperties(js.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),Et(Iy);function My(){}function Ly(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=m(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())u2(t.value)}function u2(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}rt.Aria=My,My.install=Ly,Et(Ly);function ky(){}function by(){W1()}rt.EncryptionScheme=ky,ky.install=by,Et(by,-2);function Dy(){}function Py(){if(D.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",lo),document.addEventListener("webkitfullscreenerror",lo),document.addEventListener("mozfullscreenchange",lo),document.addEventListener("mozfullscreenerror",lo),document.addEventListener("MSFullscreenChange",lo),document.addEventListener("MSFullscreenError",lo)}}function lo(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}rt.Fullscreen=Dy,Dy.install=Py,Et(Py);function Bs(){}function Ry(){var e=!0;(qo()||Ue("PlayStation 5")||Ar()||Ue("Web0S")||Oi()||wr()||Ue("PC=EOS")||Ue("Hisense")||Ue("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Ny=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=s2)}function s2(e){var t,n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A;return C(function(w){switch(w.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return w.return(t);if(n=e.video,i=e.audio,e.type=="media-source"){if(!Cn())return w.return(t);if(n){if(wr())if(D.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var x=n.contentType;n.width&&n.height&&(x+="; width="+n.width+"; height="+n.height),n.framerate&&(x+="; framerate="+n.framerate),n.transferFunction==="pq"&&(x+="; eotf=smpte2084"),r=cast.__platform__.canDisplayType(x)}else r=Ke(n.contentType);else Oi()?(o=n.contentType,n.width&&n.height&&(o+="; width="+n.width,o+="; height="+n.height),n.framerate&&(o+="; framerate="+n.framerate),n.bitrate&&(o+="; bitrate="+n.bitrate),r=Ke(o)):r=Ke(n.contentType);if(!r)return w.return(t)}if(i&&(wr()&&i.spatialRendering?(u=i.contentType+"; spatialRendering=true",a=Ke(u)):a=Ke(i.contentType),!a))return w.return(t)}else if(e.type=="file"){if(n&&(s=n.contentType,l=Bo(s),!l)||i&&(d=i.contentType,c=Bo(d),!c))return w.return(t)}else return w.return(t);if(!e.keySystemConfiguration)return t.supported=!0,w.return(Promise.resolve(t));if(f=e.keySystemConfiguration,h=[],g=[],f.audio&&(v={robustness:f.audio.robustness||"",contentType:e.audio.contentType},Oi()&&e.audio.contentType.includes('codecs="ac-3"')&&(v={robustness:v.robustness,contentType:'audio/mp4; codecs="ec-3"'}),h.push(v)),f.video&&(E={robustness:f.video.robustness||"",contentType:e.video.contentType},g.push(E)),S={initDataTypes:[f.initDataType],distinctiveIdentifier:f.distinctiveIdentifier,persistentState:f.persistentState,sessionTypes:f.sessionTypes},h.length&&(S.audioCapabilities=h),g.length&&(S.videoCapabilities=g),T=(e.video?e.video.contentType:"")+"#"+(e.audio?e.audio.contentType:"")+"#"+e.keySystemConfiguration.keySystem,$(w,3),T in Fs){A=Fs[T],w.F(5);break}return y(w,navigator.requestMediaKeySystemAccess(f.keySystem,[S]),6);case 6:A=w.h,Fs[T]=A;case 5:oe(w,4);break;case 3:Q(w);case 4:A&&(t.supported=!0,t.keySystemAccess=A);case 2:return w.return(t)}})}rt.MediaCapabilities=Bs,Bs.install=Ry;var Ny=null;Bs.originalMcap=Ny;var Fs={};Bs.memoizedMediaKeySystemAccessRequests_=Fs,Et(Ry,-1);function _y(){}function Uy(){var e=xr();D.MediaSource&&(wr()?Vy():e?10>=e?D.MediaSource=null:12>=e?(Oy(),l2()):15>=e&&Oy():ed()?Vy():(pu()||cu()||Ue("Tizen 4"))&&d2()),D.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&c2()}function Oy(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,Ge.apply(0,arguments));return t.abort=function(){},t}}function l2(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Vy(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return t.split(";")[0].split("/")[1]!="mp2t"&&e(t)}}function d2(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return xn(t)!="opus"&&e(t)}}function c2(){var e=MediaSource.isTypeSupported;Ue("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(a){return a.startsWith("codecs=")});if(0>i)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=r.findIndex(function(a){return a.startsWith("vp09")});return 0<=o&&(r[o]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}rt.MediaSource=_y,_y.install=Uy,Et(Uy);function Hy(){}function jy(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?p2():D.orientation!=null&&h2())}function p2(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function h2(){function e(){switch(D.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new qs;screen.orientation=t,e(),D.addEventListener("orientationchange",function(){e();var n=new B("change");t.dispatchEvent(n)})}rt.Orientation=Hy,Hy.install=jy;function qs(){fe.call(this),this.type="",this.angle=0}se(qs,fe),qs.prototype.lock=function(e){function t(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):screen.msLockOrientation?screen.msLockOrientation(i):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},qs.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},Et(jy);function mp(){}var gp,vp,yp,Ep,Tp,Sp;function f2(e,t){try{var n=new Gs(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function m2(e){var t=this.mediaKeys;return t&&t!=e&&By(t,null),delete this.mediaKeys,(this.mediaKeys=e)?By(e,this):Promise.resolve()}function g2(e){if(e=ae(e.initData),bt(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Xn(e.subarray(4),!0),e=Yn(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=Kt(e),this.dispatchEvent(t)}rt.PatchedMediaKeysApple=mp,mp.uninstall=function(){gp&&(gp=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",vp),HTMLMediaElement.prototype.setMediaKeys=yp,D.MediaKeys=Ep,D.MediaKeySystemAccess=Tp,navigator.requestMediaKeySystemAccess=Sp,vp=Sp=yp=Tp=Ep=null,D.shakaMediaKeysPolyfill=!1)},mp.install=function(e){D.HTMLVideoElement&&D.WebKitMediaKeys&&(e!==void 0&&e&&(gp=!0,vp=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),yp=HTMLMediaElement.prototype.setMediaKeys,Ep=D.MediaKeys,Tp=D.MediaKeySystemAccess,Sp=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=m2,D.MediaKeys=Ra,D.MediaKeySystemAccess=Gs,navigator.requestMediaKeySystemAccess=f2,D.shakaMediaKeysPolyfill=!0)};function Gs(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=m(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var o=m(n.audioCapabilities),a=o.next();!a.done;a=o.next())a=a.value,a.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.audioCapabilities.push(a),r=!0));if(n.videoCapabilities)for(n=m(n.videoCapabilities),a=n.next();!a.done;a=n.next())o=a.value,o.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Gs.prototype.createMediaKeys=function(){var e=new Ra(this.keySystem);return Promise.resolve(e)},Gs.prototype.getConfiguration=function(){return this.g};function Ra(e){this.h=new WebKitMediaKeys(e),this.g=new Ce}Ra.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new wp(this.h)},Ra.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function By(e,t){if(e.g.ub(),!t)return Promise.resolve();e.g.o(t,"webkitneedkey",g2);try{return jr(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}Ra.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function wp(e){fe.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Ce,this.sessionId="",this.expiration=NaN,this.closed=new De,this.keyStatuses=new Fy}se(wp,fe),p=wp.prototype,p.generateRequest=function(e,t){var n=this;this.h=new De;try{var i=this.l.createSession("video/mp4",ae(t));this.i=i,this.sessionId=i.sessionId||"",this.j.o(this.i,"webkitkeymessage",function(r){n.h&&(n.h.resolve(),n.h=null),r=new Map().set("messageType",n.keyStatuses.sc()==null?"license-request":"license-renewal").set("message",Kt(r.message)),r=new B("message",r),n.dispatchEvent(r)}),this.j.o(i,"webkitkeyadded",function(){n.g&&(zs(n,"usable"),n.g.resolve(),n.g=null)}),this.j.o(i,"webkitkeyerror",function(){var r=Error("EME PatchedMediaKeysApple key error");if(r.errorCode=n.i.error,n.h!=null)n.h.reject(r),n.h=null;else if(n.g!=null)n.g.reject(r),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:zs(n,"output-not-allowed");break;default:zs(n,"internal-error")}}),zs(this,"status-pending")}catch(r){this.h.reject(r)}return this.h},p.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},p.update=function(e){this.g=new De;try{this.i.update(ae(e))}catch(t){this.g.reject(t)}return this.g},p.close=function(){try{this.i.close(),this.closed.resolve(),this.j.ub()}catch(e){this.closed.reject(e)}return this.closed},p.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function zs(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new B("keystatuseschange"),e.dispatchEvent(t)}function Fy(){this.size=0,this.g=void 0}p=Fy.prototype,p.sc=function(){return this.g},p.forEach=function(e){this.g&&e(this.g,ku.value())},p.get=function(e){if(this.has(e))return this.g},p.has=function(e){var t=ku.value();return!!(this.g&&pi(e,t))},p.entries=function(){},p.keys=function(){},p.values=function(){};function qy(){}function Gy(){!D.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=v2,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=y2,D.MediaKeys=Ks,D.MediaKeySystemAccess=Ap,D.shakaMediaKeysPolyfill=!0)}function v2(){return Promise.reject(Error("The key system specified is not supported."))}function y2(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}rt.PatchedMediaKeysNop=qy,qy.install=Gy;function Ks(){throw new TypeError("Illegal constructor.")}Ks.prototype.createSession=function(){},Ks.prototype.setServerCertificate=function(){},Ks.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Ap(){throw this.keySystem="",new TypeError("Illegal constructor.")}Ap.prototype.getConfiguration=function(){},Ap.prototype.createMediaKeys=function(){},Et(Gy,-10);function zy(){}function Ky(){if(!(!D.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Lp="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=E2,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=T2,D.MediaKeys=Na,D.MediaKeySystemAccess=Ws,D.shakaMediaKeysPolyfill=!0}}function xp(e){var t=Lp;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function E2(e,t){try{var n=new Ws(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function T2(e){var t=this.mediaKeys;return t&&t!=e&&Wy(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Wy(e,this),Promise.resolve()}rt.PatchedMediaKeysWebkit=zy,zy.install=Ky;function Ws(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video"),t=m(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var s=m(o.audioCapabilities),l=s.next();!l.done;l=s.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType.split(";")[0],this.g)&&(a.audioCapabilities.push(l),i=!0));if(o.videoCapabilities)for(s=m(o.videoCapabilities),l=s.next();!l.done;l=s.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType,this.g)&&(a.videoCapabilities.push(l),i=!0));if(u||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(a.persistentState="required",a.sessionTypes=["persistent-license"]):i=!1),i){this.h=a;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Ws.prototype.createMediaKeys=function(){var e=new Na(this.g);return Promise.resolve(e)},Ws.prototype.getConfiguration=function(){return this.h};function Na(e){this.l=e,this.h=null,this.g=new Ce,this.i=[],this.j=new Map}function Wy(e,t){e.h=t,e.g.ub();var n=Lp;t&&(e.g.o(t,n+"needkey",function(i){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=Kt(i.initData),e.h.dispatchEvent(r)}),e.g.o(t,n+"keymessage",function(i){var r=Cp(e,i.sessionId);r&&(i=new Map().set("messageType",r.keyStatuses.sc()==null?"licenserequest":"licenserenewal").set("message",i.message),i=new B("message",i),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(i))}),e.g.o(t,n+"keyadded",function(i){(i=Cp(e,i.sessionId))&&(Xs(i,"usable"),i.g&&i.g.resolve(),i.g=null)}),e.g.o(t,n+"keyerror",function(i){var r=Cp(e,i.sessionId);if(r){var o=Error("EME v0.1b key error"),a=i.errorCode;a.systemCode=i.systemCode,o.errorCode=a,!i.sessionId&&r.h?(i.systemCode==45&&(o.message="Unsupported session type."),r.h.reject(o),r.h=null):i.sessionId&&r.g?(r.g.reject(o),r.g=null):(o=i.systemCode,i.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Xs(r,"output-restricted"):o==1?Xs(r,"expired"):Xs(r,"internal-error"))}}))}Na.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Ip(t,this.l,e),this.i.push(e),e},Na.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Na.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Cp(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Ip(e,t,n){fe.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new De,this.keyStatuses=new Yy}se(Ip,fe);function Xy(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var i=ae(Yn("LOAD_SESSION|"+n));else{var r=Yn("PERSISTENT|");i=Ve(r,t)}else i=ae(t)}catch(a){return Promise.reject(a)}e.h=new De;var o=xp("generateKeyRequest");try{e.j[o](e.i,i)}catch(a){if(a.name!="InvalidStateError")return e.h=null,Promise.reject(a);new re(function(){try{e.j[o](e.i,i)}catch(u){e.h.reject(u),e.h=null}}).S(.01)}return e.h}function Mp(e,t,n){if(e.g)e.g.then(function(){return Mp(e,t,n)}).catch(function(){return Mp(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var i=Pe(n),r=JSON.parse(i);r.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=hn(r.keys[0].k),r=hn(r.keys[0].kid)}else i=ae(n),r=null;var o=xp("addKey");try{e.j[o](e.i,i,r,e.sessionId)}catch(a){e.g.reject(a),e.g=null}}}function Xs(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new B("keystatuseschange"),e.dispatchEvent(t)}p=Ip.prototype,p.generateRequest=function(e,t){return Xy(this,t,null)},p.load=function(e){return this.l=="persistent-license"?Xy(this,null,e):Promise.reject(Error("Not a persistent session."))},p.update=function(e){var t=new De;return Mp(this,t,e),t},p.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=xp("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},p.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function Yy(){this.size=0,this.g=void 0}p=Yy.prototype,p.sc=function(){return this.g},p.forEach=function(e){this.g&&e(this.g,ku.value())},p.get=function(e){if(this.has(e))return this.g},p.has=function(e){var t=ku.value();return!!(this.g&&pi(e,t))},p.entries=function(){},p.keys=function(){},p.values=function(){};var Lp="";Et(Ky);function $y(){}function Qy(){if(D.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=w2,Object.defineProperty(e,"disablePictureInPicture",{get:x2,set:C2,enumerable:!0,configurable:!0}),document.exitPictureInPicture=A2,document.addEventListener("webkitpresentationmodechanged",S2,!0))}}function S2(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function w2(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function A2(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function x2(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function C2(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}rt.PiPWebkit=$y,$y.install=Qy,Et(Qy);function Jy(){}function Zy(){D.crypto&&("randomUUID"in D.crypto||(D.crypto.randomUUID=I2))}function I2(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}rt.RandomUUID=Jy,Jy.install=Zy,Et(Zy);function e1(){}function t1(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=M2)}function M2(){return new Promise(function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(n,i){e({usage:n,quota:i})},t)})}rt.StorageEstimate=e1,e1.install=t1,Et(t1);function n1(){}function i1(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:L2})}function L2(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}rt.Symbol=n1,n1.install=i1,Et(i1);function r1(){}function o1(){if(D.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}rt.VideoPlayPromise=r1,r1.install=o1,Et(o1);function a1(){}function u1(){if(D.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||td())&&(e.getVideoPlaybackQuality=k2)}}function k2(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}rt.VideoPlaybackQuality=a1,a1.install=u1,Et(u1);function s1(){}function l1(){if(!D.VTTCue&&D.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=kp;else if(t==6)e=b2;else{try{var n=!!kp(1,2,"")}catch{n=!1}n&&(e=kp)}e&&(D.VTTCue=function(i,r,o){return e(i,r,o)})}}function kp(e,t,n){return new D.TextTrackCue(e,t,n)}function b2(e,t,n){return new D.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}rt.VTTCue=s1,s1.install=l1,Et(l1);function jt(){}jt.prototype.parseInit=function(){},jt.prototype.setSequenceMode=function(){},jt.prototype.setManifestType=function(){},jt.prototype.parseMedia=function(e,t){var n=null,i=[];e=Pe(e).split(/\r?\n/),e=m(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=D2.exec(r))){var o=P2.exec(r[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),r=new Le(o,t.segmentEnd?t.segmentEnd:o+2,r[2]),n&&(n.endTime=o,i.push(n)),n=r}return n&&i.push(n),i},N("shaka.text.LrcTextParser",jt),jt.prototype.parseMedia=jt.prototype.parseMedia,jt.prototype.setManifestType=jt.prototype.setManifestType,jt.prototype.setSequenceMode=jt.prototype.setSequenceMode,jt.prototype.parseInit=jt.prototype.parseInit;var D2=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,P2=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;nt["application/x-subtitle-lrc"]=function(){return new jt};function Rt(){}Rt.prototype.parseInit=function(){},Rt.prototype.setSequenceMode=function(){},Rt.prototype.setManifestType=function(){},Rt.prototype.parseMedia=function(e,t,n){var i=Pe(e);if(e=[],i=="")return e;var r=_r(i,"tt");if(!r)throw new I(2,2,2005,"Failed to parse TTML.");if(i=r.getElementsByTagName("body")[0],!i)return[];var o=On(r,_a,"frameRate"),a=On(r,_a,"subFrameRate"),u=On(r,_a,"frameRateMultiplier"),s=On(r,_a,"tickRate"),l=On(r,_a,"cellResolution"),d=r.getAttribute("xml:space")||"default",c=On(r,Qs,"extent");if(d!="default"&&d!="preserve")throw new I(2,2,2005,"Invalid xml:space value: "+d);d=d=="default",o=new _2(o,a,u,s),l=l&&(l=/^(\d+) (\d+)$/.exec(l))?{mc:parseInt(l[1],10),rows:parseInt(l[2],10)}:null,a=(a=r.getElementsByTagName("metadata")[0])?sS(a):[],u=Array.from(r.getElementsByTagName("style")),r=Array.from(r.getElementsByTagName("region")),s=[];for(var f=m(r),h=f.next();!h.done;h=f.next()){var g=h.value;h=new Ni;var v=g.getAttribute("xml:id");if(v){h.id=v;var E=null;c&&(E=Rp.exec(c)||Np.exec(c)),v=E?Number(E[1]):null,E=E?Number(E[2]):null;var S,T=Ys(g,u,"extent");if(T){var A=(S=Rp.exec(T))||Np.exec(T);A!=null&&(h.width=Number(A[1]),h.height=Number(A[2]),S||(v!=null&&(h.width=100*h.width/v),E!=null&&(h.height=100*h.height/E)),h.widthUnits=S||v!=null?Wt:0,h.heightUnits=S||E!=null?Wt:0)}(g=Ys(g,u,"origin"))&&(A=(S=Rp.exec(g))||Np.exec(g),A!=null&&(h.viewportAnchorX=Number(A[1]),h.viewportAnchorY=Number(A[2]),S?T||(h.width=100-h.viewportAnchorX,h.widthUnits=Wt,h.height=100-h.viewportAnchorY,h.heightUnits=Wt):(E!=null&&(h.viewportAnchorY=100*h.viewportAnchorY/E),v!=null&&(h.viewportAnchorX=100*h.viewportAnchorX/v)),h.viewportAnchorUnits=S||v!=null?Wt:0))}else h=null;h&&s.push(h)}if(Re(i,"p").length)throw new I(2,2,2001,"<p> can only be inside <div> in TTML");for(c=m(Re(i,"div")),f=c.next();!f.done;f=c.next())if(Re(f.value,"span").length)throw new I(2,2,2001,"<span> can only be inside <p> in TTML");return(t=d1(i,t,o,a,u,r,s,d,l,null,!1,n))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function d1(e,t,n,i,r,o,a,u,s,l,d,c){var f=e.parentNode;if(e.nodeType==Node.COMMENT_NODE)return null;if(e.nodeType==Node.TEXT_NODE){if(!d)return null;var h=document.createElement("span");h.textContent=e.textContent}else h=e;for(var g=null,v=m(T1),E=v.next();!E.done&&!(g=$s(h,"backgroundImage",i,"#",E.value)[0]);E=v.next());v=null;var S=On(h,T1,"backgroundImage");if(c&&S&&!S.startsWith("#")&&(E=new Fe(c),S=new Fe(S),(E=E.resolve(S).toString())&&(v=E)),(e.nodeName=="p"||g||v)&&(d=!0),e=d,E=(h.getAttribute("xml:space")||(u?"default":"preserve"))=="default",S=Array.from(h.childNodes).every(function(x){return x.nodeType==Node.TEXT_NODE}),u=[],!S)for(var T=m(h.childNodes),A=T.next();!A.done;A=T.next())(A=d1(A.value,t,n,i,r,o,a,E,s,h,d,c))&&u.push(A);if(i=l!=null,c=/\S/.test(h.textContent),A=h.hasAttribute("begin")||h.hasAttribute("end")||h.hasAttribute("dur"),!(A||c||h.tagName=="br"||u.length!=0||i&&!E))return null;for(T=h1(h,n),c=T.start,T=T.end;f&&f.nodeType==Node.ELEMENT_NODE&&f.tagName!="tt";)T=N2(f,n,c,T),c=T.start,T=T.end,f=f.parentNode;if(c==null&&(c=0),c+=t.periodStart,T=T==null?1/0:T+t.periodStart,c=Math.max(c,t.segmentStart),T=Math.min(T,t.segmentEnd),!A&&0<u.length)for(c=1/0,T=0,t=m(u),n=t.next();!n.done;n=t.next())n=n.value,c=Math.min(c,n.startTime),T=Math.max(T,n.endTime);if(h.tagName=="br")return r=new Le(c,T,""),r.lineBreak=!0,r;if(t="",S&&(t=h.textContent,E&&(t=t.trim(),t=t.replace(/\s+/g," "))),t=new Le(c,T,t),t.nestedCues=u,d||(t.isContainer=!0),s&&(t.cellResolution=s),s=$s(h,"region",o,"")[0],h.hasAttribute("region")&&s&&s.getAttribute("xml:id")){var w=s.getAttribute("xml:id");t.region=a.filter(function(x){return x.id==w})[0]}return a=s,l&&i&&!h.getAttribute("region")&&!h.getAttribute("style")&&(a=$s(l,"region",o,"")[0]),R2(t,h,a,g,v,r,e,u.length==0),t}function R2(e,t,n,i,r,o,a,u){if(a=a||u,dt(t,n,o,"direction",a)=="rtl"&&(e.direction="rtl"),u=dt(t,n,o,"writingMode",a),u=="tb"||u=="tblr"?e.writingMode="vertical-lr":u=="tbrl"?e.writingMode="vertical-rl":u=="rltb"||u=="rl"?e.direction="rtl":u&&(e.direction=Vo),(u=dt(t,n,o,"textAlign",!0))?(e.positionAlign=V2[u],e.lineAlign=O2[u],e.textAlign=Wl[u.toUpperCase()]):e.textAlign=qn,(u=dt(t,n,o,"displayAlign",!0))&&(e.displayAlign=Jh[u.toUpperCase()]),(u=dt(t,n,o,"color",a))&&(e.color=u),(u=dt(t,n,o,"backgroundColor",a))&&(e.backgroundColor=u),(u=dt(t,n,o,"border",a))&&(e.border=u),u=dt(t,n,o,"fontFamily",a))switch(u){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=u}switch((u=dt(t,n,o,"fontWeight",a))&&u=="bold"&&(e.fontWeight=700),u=dt(t,n,o,"wrapOption",a),e.wrapLine=!(u&&u=="noWrap"),(u=dt(t,n,o,"lineHeight",a))&&u.match(co)&&(e.lineHeight=u),(u=dt(t,n,o,"fontSize",a))&&(u.match(co)||u.match(U2))&&(e.fontSize=u),(u=dt(t,n,o,"fontStyle",a))&&(e.fontStyle=nf[u.toUpperCase()]),i?(r=i.getAttribute("imageType")||i.getAttribute("imagetype"),u=i.getAttribute("encoding"),i=i.textContent.trim(),r=="PNG"&&u=="Base64"&&i&&(e.backgroundImage="data:image/png;base64,"+i)):r&&(e.backgroundImage=r),(i=dt(t,n,o,"textOutline",a))&&(i=i.split(" "),i[0].match(co)?e.textStrokeColor=e.color:(e.textStrokeColor=i[0],i.shift()),i[0]&&i[0].match(co)?e.textStrokeWidth=i[0]:e.textStrokeColor=""),(i=dt(t,n,o,"letterSpacing",a))&&i.match(co)&&(e.letterSpacing=i),(i=dt(t,n,o,"linePadding",a))&&i.match(co)&&(e.linePadding=i),(i=dt(t,n,o,"opacity",a))&&(e.opacity=parseFloat(i)),(i=Ys(n,o,"textDecoration"))&&c1(e,i),(i=bp(t,o,"textDecoration"))&&c1(e,i),(i=dt(t,n,o,"textCombine",a))&&(e.textCombineUpright=i),dt(t,n,o,"ruby",a)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function c1(e,t){t=m(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&An(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&An(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&An(e.textDecoration,"overline")}}function dt(e,t,n,i,r){return r=r===void 0?!0:r,(e=bp(e,n,i))?e:r?Ys(t,n,i):null}function Ys(e,t,n){if(!e)return null;var i=On(e,Qs,n);return i||p1(e,t,n)}function bp(e,t,n){var i=On(e,Qs,n);return i||p1(e,t,n)}function p1(e,t,n){e=$s(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var o=Gi(e[r],"urn:ebu:tt:style",n);o||(o=On(e[r],Qs,n)),o||(o=bp(e[r],t,n)),o&&(i=o)}return i}function $s(e,t,n,i,r){var o=[];if(!e||1>n.length)return o;var a=e;for(e=null;a&&!(e=r?Gi(a,r,t):a.getAttribute(t))&&(a=a.parentNode,a instanceof Element););if(t=e){for(t=m(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=m(n),a=e.next();!a.done;a=e.next())if(a=a.value,i+a.getAttribute("xml:id")==r){o.push(a);break}}return o}function N2(e,t,n,i){return e=h1(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),i==null?i=e.end:e.start!=null&&(i+=e.start),{start:n,end:i}}function h1(e,t){var n=Dp(e.getAttribute("begin"),t),i=Dp(e.getAttribute("end"),t);return e=Dp(e.getAttribute("dur"),t),i==null&&e!=null&&(i=n+e),{start:n,end:i}}function Dp(e,t){var n=null;if(f1.test(e)){e=f1.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,r+=o/t.frameRate,n=r+60*i+3600*n}else if(m1.test(e))n=Pp(m1,e);else if(g1.test(e))n=Pp(g1,e);else if(v1.test(e))e=v1.exec(e),n=Number(e[1])/t.frameRate;else if(y1.test(e))e=y1.exec(e),n=Number(e[1])/t.g;else if(E1.test(e))n=Pp(E1,e);else if(e)throw new I(2,2,2001,"Could not parse cue time range in TTML");return n}function Pp(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}N("shaka.text.TtmlTextParser",Rt),Rt.prototype.parseMedia=Rt.prototype.parseMedia,Rt.prototype.setManifestType=Rt.prototype.setManifestType,Rt.prototype.setSequenceMode=Rt.prototype.setSequenceMode,Rt.prototype.parseInit=Rt.prototype.parseInit;function _2(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var Rp=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,U2=/^(\d{1,2}(?:\.\d+)?|100)%$/,co=/^(\d+px|\d+em|\d*\.?\d+c)$/,Np=/^(\d+)px (\d+)px$/,f1=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,m1=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,g1=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,v1=/^(\d*(?:\.\d*)?)f$/,y1=/^(\d*(?:\.\d*)?)t$/,E1=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),O2={left:Ri,center:"center",right:"end",start:Ri,end:"end"},V2={left:"line-left",center:"center",right:"line-right"},_a=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Qs=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],T1=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];nt["application/ttml+xml"]=function(){return new Rt};function Tt(){this.g=new Rt}Tt.prototype.parseInit=function(e){var t=!1;if(new Ie().box("moov",Te).box("trak",Te).box("mdia",Te).box("minf",Te).box("stbl",Te).T("stsd",Rr).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new I(2,2,2007)},Tt.prototype.setSequenceMode=function(){},Tt.prototype.setManifestType=function(){},Tt.prototype.parseMedia=function(e,t,n){var i=this,r=!1,o=[];if(new Ie().box("mdat",Bi(function(a){r=!0,o=o.concat(i.g.parseMedia(a,t,n))})).parse(e,!1),!r)throw new I(2,2,2007);return o},N("shaka.text.Mp4TtmlParser",Tt),Tt.prototype.parseMedia=Tt.prototype.parseMedia,Tt.prototype.setManifestType=Tt.prototype.setManifestType,Tt.prototype.setSequenceMode=Tt.prototype.setSequenceMode,Tt.prototype.parseInit=Tt.prototype.parseInit,nt['application/mp4; codecs="stpp"']=function(){return new Tt},nt['application/mp4; codecs="stpp.ttml"']=function(){return new Tt},nt['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Tt},nt['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Tt};function St(){this.h=!1,this.g="UNKNOWN"}St.prototype.parseInit=function(){},St.prototype.setSequenceMode=function(e){this.h=e},St.prototype.setManifestType=function(e){this.g=e},St.prototype.parseMedia=function(e,t){e=Pe(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new I(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.h){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=n[0].match(/MPEGTS:(\d+)/m);if(i&&r){if(e=Js(new Ji(i[1])),e==null)throw new I(2,2,2e3);for(r=Number(r[1]),i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}}else n[0].includes("X-TIMESTAMP-MAP")&&this.g=="HLS"&&(e=t.segmentStart);for(t=[],r=m(n[0].split(`
`)),i=r.next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new Ji(i);var o=new Ni;Zi(i),oo(i);for(var a=Zi(i);a;){var u=o,s=a;(a=/^id=(.*)$/.exec(s))?u.id=a[1]:(a=/^width=(\d{1,2}|100)%$/.exec(s))?u.width=Number(a[1]):(a=/^lines=(\d+)$/.exec(s))?(u.height=Number(a[1]),u.heightUnits=2):(a=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(s))?(u.regionAnchorX=Number(a[1]),u.regionAnchorY=Number(a[2])):(a=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(s))?(u.viewportAnchorX=Number(a[1]),u.viewportAnchorY=Number(a[2])):/^scroll=up$/.exec(s)&&(u.scroll="up"),oo(i),a=Zi(i)}t.push(o)}for(r=new Map,S1(r),i=[],n=m(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(u=[],a=-1,s=1;s<o.length;s++)o[s].includes("::cue")&&(u.push([]),a=u.length-1),a!=-1&&(u[a].push(o[s]),o[s].includes("}")&&(a=-1));for(u=m(u),a=u.next();!a.done;a=u.next()){var l=a.value;a="global",(s=l[0].match(/\((.*)\)/))&&(a=s.pop()),s=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(s=l[1].split(";")),(l=r.get(a))||(l=new Le(0,0,""));for(var d=!1,c=0;c<s.length;c++){var f=/^\s*([^:]+):\s*(.*)/.exec(s[c]);if(f){var h=f[2].trim().replace(";","");switch(f[1].trim()){case"background-color":case"background":d=!0,l.backgroundColor=h;break;case"color":d=!0,l.color=h;break;case"font-family":d=!0,l.fontFamily=h;break;case"font-size":d=!0,l.fontSize=h;break;case"font-weight":(700<=parseInt(h,10)||h=="bold")&&(d=!0,l.fontWeight=700);break;case"font-style":switch(h){case"normal":d=!0,l.fontStyle=Yl;break;case"italic":d=!0,l.fontStyle="italic";break;case"oblique":d=!0,l.fontStyle="oblique"}break;case"opacity":d=!0,l.opacity=parseFloat(h);break;case"text-combine-upright":d=!0,l.textCombineUpright=h;break;case"text-shadow":d=!0,l.textShadow=h;break;case"white-space":d=!0,l.wrapLine=h!="noWrap"}}}d&&r.set(a,l)}}if(d=e,o.length==1&&!o[0]||/^NOTE($|[ \t])/.test(o[0])||o[0]=="STYLE"||o[0]=="REGION")o=null;else if(u=null,o[0].includes("-->")||(u=o[0],o.splice(0,1)),a=new Ji(o[0]),s=Js(a),c=Si(a,/[ \t]+--\x3e[ \t]+/g),l=Js(a),s==null||c==null||l==null)pe("Failed to parse VTT time code. Cue skipped:",u,o),o=null;else{for(s+=d,l+=d,o=o.slice(1).join(`
`).trim(),r.has("global")?(d=r.get("global").clone(),d.startTime=s,d.endTime=l,d.payload=""):d=new Le(s,l,""),oo(a),s=Zi(a);s;)x1(d,s,t),oo(a),s=Zi(a);w1(o,d,r),u!=null&&(d.id=u),o=d}o&&i.push(o)}return i};function S1(e){for(var t=m(Object.entries(Zh)),n=t.next();!n.done;n=t.next()){var i=m(n.value);n=i.next().value,i=i.next().value;var r=new Le(0,0,"");r.color=i,e.set("."+n,r)}for(t=m(Object.entries(ef)),n=t.next();!n.done;n=t.next())i=m(n.value),n=i.next().value,i=i.next().value,r=new Le(0,0,""),r.backgroundColor=i,e.set("."+n,r)}function w1(e,t,n){if(e.includes("<")){n.size===0&&S1(n);e:{for(var i=[],r=-1,o="",a=0;a<e.length;a++)if(e[a]==="/"&&0<a&&e[a-1]==="<"){var u=e.indexOf(">",a);if(u<=a)break e;if((u=e.substring(a+1,u))&&u==="c"){var s=i.pop();s?s===u?(o+="/"+u+">",a+=u.length+1):s.startsWith("c.")?(a+=u.length+1,o+="/"+s+">"):o+=e[a]:o+=e[a]}else o+=e[a]}else e[a]==="<"?(r=a+1,e[r]!="c"&&(r=-1)):e[a]===">"&&0<r&&(i.push(e.substr(r,a-r)),r=-1),o+=e[a];e=o}for(i=e,e=[],o=-1,r=0;r<i.length;r++)i[r]==="<"?o=r+1:i[r]===">"&&0<o&&(o=i.substr(o,r-o),o.match(C1)&&e.push(o),o=-1);for(e=m(e),r=e.next();!r.done;r=e.next())r=r.value,i=i.replace("<"+r+">",'<div time="'+r+'">'),i+="</div>";e=i;e:{for(r=e,o=[],a=-1,e="",i=!1,u=0;u<r.length;u++)if(r[u]==="/"){if(s=r.indexOf(">",u),s===-1){e=r;break e}if((s=r.substring(u+1,s))&&s=="v"){i=!0;var l=null;if(o.length&&(l=o[o.length-1]),l){if(l===s)e+="/"+s+">";else{if(!l.startsWith("v")){e+=r[u];continue}e+="/"+l+">"}u+=s.length+1}else e+=r[u]}else e+=r[u]}else r[u]==="<"?(a=u+1,r[a]!="v"&&(a=-1)):r[u]===">"&&0<a&&(o.push(r.substr(a,u-a)),a=-1),e+=r[u];for(r=m(o),o=r.next();!o.done;o=r.next())o=o.value,a=o.replace(" ",".voice-"),e=e.replace("<"+o+">","<"+a+">"),e=e.replace("</"+o+">","</"+a+">"),i||(e+="</"+a+">")}if(i=_r("<span>"+e+"</span>","span")){if(i=i.childNodes,i.length==1&&(r=i[0],r.nodeType==Node.TEXT_NODE||r.nodeType==Node.CDATA_SECTION_NODE)){t.payload=Zs(e);return}for(e=m(i),i=e.next();!i.done;i=e.next())A1(i.value,t,n)}else t.payload=Zs(e)}else t.payload=Zs(e)}function Ua(e,t){return e&&0<e.length?e:t}function A1(e,t,n){var i=t.clone();if(i.nestedCues=[],i.payload="",i.rubyTag="",i.line=null,i.region=new Ni,i.position=null,i.size=0,e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var r=m(e.nodeName.split(/(?=[ .])+/g)),o=r.next();!o.done;o=r.next()){var a=o=o.value;if(a.startsWith(".voice-")){var u=a.split("-").pop();a='v[voice="'+u+'"]',n.has(a)||(a="v[voice="+u+"]")}switch(n.has(a)&&(a=n.get(a))&&(i.backgroundColor=Ua(a.backgroundColor,i.backgroundColor),i.color=Ua(a.color,i.color),i.fontFamily=Ua(a.fontFamily,i.fontFamily),i.fontSize=Ua(a.fontSize,i.fontSize),i.textShadow=Ua(a.textShadow,i.textShadow),i.fontWeight=a.fontWeight,i.fontStyle=a.fontStyle,i.opacity=a.opacity,i.rubyTag=a.rubyTag,i.textCombineUpright=a.textCombineUpright,i.wrapLine=a.wrapLine),o){case"br":i=Qh(i.startTime,i.endTime),t.nestedCues.push(i);return;case"b":i.fontWeight=700;break;case"i":i.fontStyle="italic";break;case"u":i.textDecoration.push("underline");break;case"font":(o=e.getAttribute("color"))&&(i.color=o);break;case"div":if(o=e.getAttribute("time"),!o)break;(o=Js(new Ji(o)))&&(i.startTime=o);break;case"ruby":case"rp":case"rt":i.rubyTag=o}}if(r=e.childNodes,fd(e)||r.length==1&&fd(r[0]))for(r=!0,n=m(e.textContent.split(`
`)),e=n.next();!e.done;e=n.next())e=e.value,r||(r=Qh(i.startTime,i.endTime),t.nestedCues.push(r)),0<e.length&&(r=i.clone(),r.payload=Zs(e),t.nestedCues.push(r)),r=!1;else for(t.nestedCues.push(i),t=m(r),e=t.next();!e.done;e=t.next())A1(e.value,i,n)}function x1(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],t=="middle"?e.textAlign=qn:e.textAlign=Wl[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=i[1]=="lr"?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":su)):(i=/^region:(.*)$/.exec(t))?(t=H2(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Xl[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=lu,e.line=Number(n[1]),n[2]&&(e.lineAlign=Xl[n[2].toUpperCase()]))}function H2(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}function Js(e){if(e=Si(e,C1),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Zs(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return t[r]||"'"}):e||""}N("shaka.text.VttTextParser",St),St.prototype.parseMedia=St.prototype.parseMedia,St.prototype.setManifestType=St.prototype.setManifestType,St.prototype.setSequenceMode=St.prototype.setSequenceMode,St.prototype.parseInit=St.prototype.parseInit;var C1=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;nt["text/vtt"]=function(){return new St},nt['text/vtt; codecs="vtt"']=function(){return new St},nt['text/vtt; codecs="wvtt"']=function(){return new St};function Bt(){this.g=null}Bt.prototype.parseInit=function(e){var t=this,n=!1;if(new Ie().box("moov",Te).box("trak",Te).box("mdia",Te).T("mdhd",function(i){i=bu(i.reader,i.version),t.g=i.timescale}).box("minf",Te).box("stbl",Te).T("stsd",Rr).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new I(2,2,2008);if(!n)throw new I(2,2,2008)},Bt.prototype.setSequenceMode=function(){},Bt.prototype.setManifestType=function(){},Bt.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new I(2,2,2008);var n=0,i=[],r,o=[],a=!1,u=!1,s=!1,l=null;if(new Ie().box("moof",Te).box("traf",Te).T("tfdt",function(A){a=!0,n=Cd(A.reader,A.version).baseMediaDecodeTime}).T("tfhd",function(A){l=mm(A.reader,A.flags).Og}).T("trun",function(A){u=!0,i=gm(A.reader,A.version,A.flags).lh}).box("mdat",Bi(function(A){s=!0,r=A})).parse(e,!1),!s&&!a&&!u)throw new I(2,2,2008);e=n;for(var d=new Ae(r,0),c=m(i),f=c.next();!f.done;f=c.next()){f=f.value;var h=f.gg||l,g=f.Ke?n+f.Ke:e;e=g+(h||0);var v=0;do{var E=d.O();v+=E;var S=d.O(),T=null;xu(S)=="vttc"?8<E&&(T=d.Sb(E-8)):d.skip(E-8),h&&T&&(E=j2(T,t.periodStart+g/this.g,t.periodStart+e/this.g),o.push(E))}while(f.sampleSize&&v<f.sampleSize)}return o.filter(Sr)};function j2(e,t,n){var i,r,o;return new Ie().box("payl",Bi(function(a){i=Pe(a)})).box("iden",Bi(function(a){r=Pe(a)})).box("sttg",Bi(function(a){o=Pe(a)})).parse(e),i?B2(i,r,o,t,n):null}function B2(e,t,n,i,r){if(i=new Le(i,r,""),w1(e,i,new Map),t&&(i.id=t),n)for(e=new Ji(n),t=Zi(e);t;)x1(i,t,[]),oo(e),t=Zi(e);return i}N("shaka.text.Mp4VttParser",Bt),Bt.prototype.parseMedia=Bt.prototype.parseMedia,Bt.prototype.setManifestType=Bt.prototype.setManifestType,Bt.prototype.setSequenceMode=Bt.prototype.setSequenceMode,Bt.prototype.parseInit=Bt.prototype.parseInit,nt['application/mp4; codecs="wvtt"']=function(){return new Bt};function Ft(){}Ft.prototype.parseInit=function(){},Ft.prototype.setSequenceMode=function(){},Ft.prototype.setManifestType=function(){},Ft.prototype.parseMedia=function(e){var t=Pe(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=m(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var i=new Ji(n[0]),r=I1(i),o=Si(i,/,/g);if(i=I1(i),r==null||o==null||i==null)throw new I(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Le(r,i,n.slice(1).join(`
`).trim()))}return e};function I1(e){if(e=Si(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}N("shaka.text.SbvTextParser",Ft),Ft.prototype.parseMedia=Ft.prototype.parseMedia,Ft.prototype.setManifestType=Ft.prototype.setManifestType,Ft.prototype.setSequenceMode=Ft.prototype.setSequenceMode,Ft.prototype.parseInit=Ft.prototype.parseInit,nt["text/x-subviewer"]=function(){return new Ft};function Nt(){this.g=new St}Nt.prototype.parseInit=function(){},Nt.prototype.setSequenceMode=function(){},Nt.prototype.setManifestType=function(){},Nt.prototype.parseMedia=function(e,t,n){return e=Pe(e),e=M1(e),e=ae(Yn(e)),this.g.parseMedia(e,t,n)};function M1(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=m(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}N("shaka.text.SrtTextParser",Nt),Nt.srt2webvtt=M1,Nt.prototype.parseMedia=Nt.prototype.parseMedia,Nt.prototype.setManifestType=Nt.prototype.setManifestType,Nt.prototype.setSequenceMode=Nt.prototype.setSequenceMode,Nt.prototype.parseInit=Nt.prototype.parseInit,nt["text/srt"]=function(){return new Nt};function qt(){}qt.prototype.parseInit=function(){},qt.prototype.setSequenceMode=function(){},qt.prototype.setManifestType=function(){},qt.prototype.parseMedia=function(e){var t="",n="";e=Pe(e).split(/\r?\n\s*\r?\n/),e=m(e);for(var i=e.next();!i.done;i=e.next()){var r=q2.exec(i.value);r&&(i=r[1],r=r[2],i=="V4 Styles"||i=="V4+ Styles"?t=r:i=="Events"&&(n=r))}e=[],i=null,t=m(t.split(/\r?\n/));for(var o=t.next();!o.done;o=t.next())if(r=o.value,!/^\s*;/.test(r)&&(o=b1.exec(r))){if(r=o[1].trim(),o=o[2].trim(),r=="Format")i=o.split(el);else if(r=="Style"){r=o.split(el),o={};for(var a=0;a<i.length&&a<r.length;a++)o[i[a]]=r[a];e.push(o)}}for(i=[],t=null,r={},n=m(n.split(/\r?\n/)),o=n.next();!o.done;r={Ze:r.Ze},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(a=b1.exec(o))){if(o=a[1].trim(),a=a[2].trim(),o=="Format")t=a.split(el);else if(o=="Dialogue"){a=a.split(el),o={};for(var u=0;u<t.length&&u<a.length;u++)o[t[u]]=a[u];u=k1(o.Start);var s=k1(o.End);a=new Le(u,s,a.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),r.Ze=o.Style,(o=e.find(function(l){return function(d){return d.Name==l.Ze}}(r)))&&F2(a,o),i.push(a)}}return i};function F2(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=L1(n))&&(e.color=n),(n=t.BackColour)&&(n=L1(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=Oo,e.textAlign="start";break;case 2:e.displayAlign=Oo,e.textAlign=qn;break;case 3:e.displayAlign=Oo,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=qn;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=qn;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function L1(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function k1(e){return e=G2.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}N("shaka.text.SsaTextParser",qt),qt.prototype.parseMedia=qt.prototype.parseMedia,qt.prototype.setManifestType=qt.prototype.setManifestType,qt.prototype.setSequenceMode=qt.prototype.setSequenceMode,qt.prototype.parseInit=qt.prototype.parseInit;var q2=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,b1=/^\s*([^:]+):\s*(.*)/,el=/\s*,\s*/,G2=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;nt["text/x-ssa"]=function(){return new qt};function D1(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{me:n,X:e}:null}function P1(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(e[t+2]&60)>>>2;if(i>n.length-1)return null;var r=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[i],channelCount:o,wa:"mp4a.40."+r}}function z2(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var i=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return i<=n?!1:(t+=i,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function K2(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function en(e){this.i=e,this.h=0,this.g=new Map}p=en.prototype,p.destroy=function(){this.g.clear()},p.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?Ke(this.convertCodecs("audio",e)):!1},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(cn(t)||"mp4a.40.2")+'"':t},p.getOriginalMimeType=function(){return this.i},p.transmux=function(e,t,n,i){for(var r=ae(e),o=$o(r),a=o.length;a<r.length&&!z2(r,a);a++);if(e=1e3*n.endTime,o=Ki(o),o.length&&n&&(n=o.find(function(l){return l.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=n.data),n=P1(r,a),!n)return Promise.reject(new I(2,3,3018));for(t.audioSamplingRate=n.sampleRate,t.channelsCount=n.channelCount,o=[];a<r.length;){var u=D1(r,a);if(!u)return Promise.reject(new I(2,3,3018));var s=u.me+u.X;a+s<=r.length&&o.push({data:r.subarray(a+u.me,a+s),size:u.X,duration:1024,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),a+=s}return r=n.sampleRate,e=Math.floor(e*r/1e3),i={id:t.id,type:"audio",codecs:n.wa,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:r,duration:i,ib:[],qa:new Uint8Array([]),Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.h,baseMediaDecodeTime:e,fb:o},stream:t},e=new uo([i]),this.g.has(t.id)?i=this.g.get(t.id):(i=so(e),this.g.set(t.id,i)),t=Ma(e),this.h++,t=Ve(i,t),Promise.resolve(t)},N("shaka.transmuxer.AacTransmuxer",en),en.prototype.transmux=en.prototype.transmux,en.prototype.getOriginalMimeType=en.prototype.getOriginalMimeType,en.prototype.convertCodecs=en.prototype.convertCodecs,en.prototype.isSupported=en.prototype.isSupported,en.prototype.destroy=en.prototype.destroy,Gn("audio/aac",function(){return new en("audio/aac")},fi);function R1(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var i=e[t+4]&63,r=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*i+n];if(t+r>e.length)return null;var o=e[t+6]>>5,a=0;o===2?a+=2:(o&1&&o!==1&&(a+=2),o&4&&(a+=2)),a=(e[t+6]<<8|e[t+7])>>12-a&1;var u=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|u>>2,(u&3)<<6|o<<3|a<<2|i>>4,i<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+a,qa:e,X:r}}function W2(e,t){if(e[t]===11&&e[t+1]===119){var n=0,i=5;t+=i;for(var r,o;0<i;){o=e[t];var a=Math.min(i,8),u=8-a;r=4278190080>>>24+u<<u,r=(o&r)>>u,n=n?n<<a|r:r,t+=1,i-=a}if(16>n)return!0}return!1}function tn(e){this.i=e,this.h=0,this.g=new Map}p=tn.prototype,p.destroy=function(){this.g.clear()},p.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?Ke(this.convertCodecs("audio",e)):!1},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?'audio/mp4; codecs="ac-3"':t},p.getOriginalMimeType=function(){return this.i},p.transmux=function(e,t,n,i){e=ae(e);for(var r=$o(e),o=r.length;o<e.length&&!W2(e,o);o++);var a=1e3*n.endTime;r=Ki(r),r.length&&n&&(n=r.find(function(l){return l.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=n.data),n=0,r=new Uint8Array([]);for(var u=[];o<e.length;){var s=R1(e,o);if(!s)return Promise.reject(new I(2,3,3018));t.audioSamplingRate=s.sampleRate,t.channelsCount=s.channelCount,n=s.sampleRate,r=s.qa,u.push({data:e.subarray(o,o+s.X),size:s.X,duration:1536,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=s.X}return e=Math.floor(a*n/1e3),i={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:i,ib:[],qa:r,Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.h,baseMediaDecodeTime:e,fb:u},stream:t},e=new uo([i]),this.g.has(t.id)?i=this.g.get(t.id):(i=so(e),this.g.set(t.id,i)),t=Ma(e),this.h++,t=Ve(i,t),Promise.resolve(t)},N("shaka.transmuxer.Ac3Transmuxer",tn),tn.prototype.transmux=tn.prototype.transmux,tn.prototype.getOriginalMimeType=tn.prototype.getOriginalMimeType,tn.prototype.convertCodecs=tn.prototype.convertCodecs,tn.prototype.isSupported=tn.prototype.isSupported,tn.prototype.destroy=tn.prototype.destroy,Gn("audio/ac3",function(){return new tn("audio/ac3")},fi);function N1(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new ei(e.subarray(t+2));Dt(n,2),Dt(n,3);var i=de(n,11)+1<<1,r=de(n,2);if(r==3){r=de(n,2),r=[24e3,22060,16e3][r];var o=3}else r=[48e3,44100,32e3][r],o=de(n,2);var a=de(n,3),u=de(n,1);return n=de(n,5),t+i>e.byteLength?null:(e=Math.floor(i*r/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,r<<6|n<<1|0,0|a<<1|u<<0,0]),{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][a]+u,qa:e,X:i})}function nn(e){this.i=e,this.h=0,this.g=new Map}p=nn.prototype,p.destroy=function(){this.g.clear()},p.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?Ke(this.convertCodecs("audio",e)):!1},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},p.getOriginalMimeType=function(){return this.i},p.transmux=function(e,t,n,i){e=ae(e);for(var r=$o(e),o=r.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var a=1e3*n.endTime;r=Ki(r),r.length&&n&&(n=r.find(function(l){return l.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=n.data),n=0,r=new Uint8Array([]);for(var u=[];o<e.length;){var s=N1(e,o);if(!s)return Promise.reject(new I(2,3,3018));t.audioSamplingRate=s.sampleRate,t.channelsCount=s.channelCount,n=s.sampleRate,r=s.qa,u.push({data:e.subarray(o,o+s.X),size:s.X,duration:1536,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=s.X}return e=Math.floor(a*n/1e3),i={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:i,ib:[],qa:r,Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.h,baseMediaDecodeTime:e,fb:u},stream:t},e=new uo([i]),this.g.has(t.id)?i=this.g.get(t.id):(i=so(e),this.g.set(t.id,i)),t=Ma(e),this.h++,t=Ve(i,t),Promise.resolve(t)},N("shaka.transmuxer.Ec3Transmuxer",nn),nn.prototype.transmux=nn.prototype.transmux,nn.prototype.getOriginalMimeType=nn.prototype.getOriginalMimeType,nn.prototype.convertCodecs=nn.prototype.convertCodecs,nn.prototype.isSupported=nn.prototype.isSupported,nn.prototype.destroy=nn.prototype.destroy,Gn("audio/ec3",function(){return new nn("audio/ec3")},fi);function X2(e){if(!e.length)return null;var t=e.find(function(v){return v.type==7});if(e=e.find(function(v){return v.type==8}),!t||!e)return null;var n=new ei(t.data),i=ge(n);if(ge(n),ge(n),Ct(n),$2.includes(i)&&(i=V(n),i===3&&Dt(n,1),Ct(n),Ct(n),Dt(n,1),G(n))){i=i!==3?8:12;for(var r=0;r<i;r++)G(n)&&(6>r?Du(n,16):Du(n,64))}if(Ct(n),i=V(n),i===0)V(n);else if(i===1)for(Dt(n,1),Ct(n),Ct(n),i=V(n),r=0;r<i;r++)Ct(n);Ct(n),Dt(n,1);var o=V(n),a=V(n),u=de(n,1);u===0&&Dt(n,1),Dt(n,1);var s=0,l=0,d=0,c=0;if(G(n)&&(s=V(n),l=V(n),d=V(n),c=V(n)),r=i=1,G(n)&&G(n)){var f=ge(n),h=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],g=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<f&&16>f?(i=h[f-1],r=g[f-1]):f===255&&(i=de(n,16),r=de(n,16))}return n=(2-u)*(a+1)*16-2*d-2*c,o=16*(o+1)-2*s-2*l,s=[],t=t.fullData,s.push(t.byteLength>>>8&255),s.push(t.byteLength&255),s=s.concat.apply(s,H(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,H(e)),e=new Uint8Array([1,s[3],s[4],s[5],255,225].concat(s,[1],t)),{height:n,width:o,Ca:e,Ja:i,La:r}}function Y2(e){var t=!1,n=[],i=e.find(function(s){return s.type==7}),r=!1;e=m(e);for(var o=e.next();!o.done;o=e.next()){o=o.value;var a=!1;switch(o.type){case 1:a=r=!0;var u=o.data;i&&4<u.length&&(u=OS(new ei(u)),u===2||u===4||u===7||u===9)&&(t=!0);break;case 5:t=a=r=!0;break;case 6:a=!0;break;case 7:a=!0;break;case 8:a=!0;break;case 9:r=a=!0;break;case 12:a=!0;break;default:a=!1}r&&a&&(a=o.fullData.byteLength,u=new Uint8Array(4),u[0]=a>>24&255,u[1]=a>>16&255,u[2]=a>>8&255,u[3]=a&255,n.push(Ve(u,o.fullData)))}return n.length?{data:Ve.apply(vt,H(n)),Bd:t}:null}var $2=[100,110,122,244,44,83,86,118,128,138,139,134];function Q2(e){if(!e.length)return null;var t=e.find(function(a){return a.type==32}),n=e.find(function(a){return a.type==33}),i=e.find(function(a){return a.type==34});if(!t||!n||!i)return null;var r=J2(t.fullData);e=Z2(n.fullData);var o=eI(i.fullData);return t=tI(t.fullData,n.fullData,i.fullData,{Xf:r.Xf,ug:r.ug,Df:e.Df,Ef:e.Ef,xf:e.xf,Cf:e.Cf,yf:e.yf,zf:e.zf,Af:e.Af,Bf:e.Bf,qf:e.qf,rf:e.rf,tf:e.tf,uf:e.uf,vf:e.vf,wf:e.wf,mf:e.mf,Ae:e.Ae,lf:e.lf,jf:e.jf,hf:e.hf,$f:o.$f}),{height:e.height,width:e.width,Ca:t,Ja:e.mj,La:e.lj}}function J2(e){var t=new ei(e,!0);return ge(t),ge(t),de(t,4),de(t,2),de(t,6),e=de(t,3),t=G(t),{Xf:e+1,ug:t}}function Z2(e){e=new ei(e,!0),ge(e),ge(e);var t=0,n=0,i=0,r=0;de(e,4);var o=de(e,3);G(e);for(var a=de(e,2),u=de(e,1),s=de(e,5),l=ge(e),d=ge(e),c=ge(e),f=ge(e),h=ge(e),g=ge(e),v=ge(e),E=ge(e),S=ge(e),T=ge(e),A=ge(e),w=[],x=[],M=0;M<o;M++)w.push(G(e)),x.push(G(e));if(0<o)for(M=o;8>M;M++)de(e,2);for(M=0;M<o;M++)w[M]&&de(e,88),x[M]&&ge(e);V(e),w=V(e),w==3&&de(e,1),x=V(e),M=V(e),G(e)&&(t+=V(e),n+=V(e),i+=V(e),r+=V(e));var b=V(e),L=V(e),k=V(e);if(G(e))for(var R=0;R<=o;R++)V(e),V(e),V(e);else V(e),V(e),V(e);if(V(e),V(e),V(e),V(e),V(e),V(e),G(e)&&G(e))for(R=0;4>R;R++)for(var _=0;_<(R===3?2:6);_++)if(G(e)){var U=Math.min(64,1<<4+(R<<1));1<R&&Ur(e);for(var j=0;j<U;j++)Ur(e)}else V(e);for(G(e),G(e),G(e)&&(ge(e),V(e),V(e),G(e)),R=V(e),U=_=0;U<R;U++)if(j=!1,U!==0&&(j=G(e)),j){U===R&&V(e),G(e),V(e);for(var W=j=0;W<=_;W++){var Y=G(e),ne=!1;Y||(ne=G(e)),(Y||ne)&&j++}_=j}else{for(W=V(e),j=V(e),_=W+j,Y=0;Y<W;Y++)V(e),G(e);for(W=0;W<j;W++)V(e),G(e)}if(G(e))for(R=V(e),_=0;_<R;_++){for(U=0;U<k+4;U++)de(e,1);de(e,1)}if(R=k=1,_=0,G(e),G(e),G(e)){if(G(e)&&(U=ge(e),j=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],W=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<U&&16>U?(k=j[U-1],R=W[U-1]):U===255&&(k=de(e,16),R=de(e,16))),G(e)&&G(e),G(e)&&(de(e,3),G(e),G(e)&&(ge(e),ge(e),ge(e))),G(e)&&(V(e),V(e)),G(e),G(e),G(e),(U=G(e))&&(V(e),V(e),V(e),V(e)),G(e)&&(de(e,32),de(e,32),G(e)&&V(e),G(e)))for(W=!1,U=G(e),j=G(e),(U||j)&&((W=G(e))&&(ge(e),de(e,5),G(e),de(e,5)),de(e,4),de(e,4),W&&de(e,4),de(e,5),de(e,5),de(e,5)),Y=0;Y<=o;Y++){var F=!0;ne=1,G(e)||(F=G(e));var ze=!1;if(F?V(e):ze=G(e),ze||(ne=V(e)+1),U){for(F=0;F<ne;F++)V(e),V(e),W&&(V(e),V(e));G(e)}if(j){for(F=0;F<ne;F++)V(e),V(e),W&&(V(e),V(e));G(e)}}G(e)&&(G(e),G(e),G(e),_=V(e),V(e),V(e),V(e),V(e))}return{xf:A,Df:a,Ef:u,Cf:s,yf:l,zf:d,Af:c,Bf:f,qf:h,rf:g,tf:v,uf:E,vf:S,wf:T,Ae:_,mf:0,lf:w,jf:b,hf:L,width:x-(t+n)*(w===1||w===2?2:1),height:M-(i+r)*(w===1?2:1),mj:k,lj:R}}function eI(e){var t=new ei(e,!0);ge(t),ge(t),V(t),V(t),G(t),G(t),de(t,3),G(t),G(t),V(t),V(t),Ur(t),G(t),G(t),G(t)&&V(t),Ur(t),Ur(t),G(t),G(t),G(t),G(t),e=G(t),t=G(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{$f:n}}function tI(e,t,n,i){var r=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return r[0]=1,r[1]=(i.Df&3)<<6|(i.Ef?1:0)<<5|i.Cf&31,r[2]=i.yf,r[3]=i.zf,r[4]=i.Af,r[5]=i.Bf,r[6]=i.qf,r[7]=i.rf,r[8]=i.tf,r[9]=i.uf,r[10]=i.vf,r[11]=i.wf,r[12]=i.xf,r[13]=240|(i.Ae&3840)>>8,r[14]=i.Ae&255,r[15]=252|i.$f&3,r[16]=252|i.lf&3,r[17]=248|i.jf&7,r[18]=248|i.hf&7,r[19]=0,r[20]=0,r[21]=(i.mf&3)<<6|(i.Xf&7)<<3|(i.ug?1:0)<<2|3,r[22]=3,r[23]=160,r[24]=0,r[25]=1,r[26]=(e.byteLength&65280)>>8,r[27]=(e.byteLength&255)>>0,r.set(e,28),r[23+(5+e.byteLength)]=161,r[e.byteLength+29]=0,r[e.byteLength+30]=1,r[e.byteLength+31]=(t.byteLength&65280)>>8,r[e.byteLength+32]=(t.byteLength&255)>>0,r.set(t,e.byteLength+33),r[23+(e.byteLength+10+t.byteLength)]=162,r[e.byteLength+10+t.byteLength+24]=0,r[e.byteLength+10+t.byteLength+25]=1,r[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,r[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,r.set(n,e.byteLength+10+t.byteLength+28),r}function tl(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&r!==0&&r!==15&&o!==3){var a=e[t+3]>>6;r=1e3*nI[14*(n===3?3-i:i===3?3:4)+r-1],o=iI[3*(n===3?0:n===2?1:2)+o],n=rI[n][i];var u=oI[i],s=Math.floor(n*r/o+(e[t+2]>>1&1))*u,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&87>=l&&i===2&&224e3<=r&&a===0&&(e[t+3]|=128),{sampleRate:o,channelCount:a===3?1:2,X:s,kj:8*n*u}}return null}function _1(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}var nI=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],iI=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],rI=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],oI=[0,1,1,4];function rn(e){this.i=e,this.h=0,this.g=new Map}p=rn.prototype,p.destroy=function(){this.g.clear()},p.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?Ke(this.convertCodecs("audio",e)):!1},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},p.getOriginalMimeType=function(){return this.i},p.transmux=function(e,t,n,i){for(e=ae(e),n=$o(e).length;n<e.length;n++){var r=n;if(r+1<e.length&&_1(e,r)){var o=tl(e,r),a=4;o&&o.X&&(a=o.X),r+=a,r=r===e.length||r+1<e.length&&_1(e,r)}else r=!1;if(r)break}var u;for(r=[];n<e.length;){if(o=tl(e,n),!o)return Promise.reject(new I(2,3,3018));u||(u=o),n+o.X<=e.length&&r.push({data:e.subarray(n,n+o.X),size:o.X,duration:1152,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),n+=o.X}return u?(e=9e4*u.kj/u.sampleRate*this.h,i={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:u.sampleRate,duration:i,ib:[],qa:new Uint8Array([]),Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.h,baseMediaDecodeTime:e,fb:r},stream:t},u=new uo([i]),this.g.has(t.id)?i=this.g.get(t.id):(i=so(u),this.g.set(t.id,i)),t=Ma(u),this.h++,t=Ve(i,t),Promise.resolve(t)):Promise.reject(new I(2,3,3018))},N("shaka.transmuxer.Mp3Transmuxer",rn),rn.prototype.transmux=rn.prototype.transmux,rn.prototype.getOriginalMimeType=rn.prototype.getOriginalMimeType,rn.prototype.convertCodecs=rn.prototype.convertCodecs,rn.prototype.isSupported=rn.prototype.isSupported,rn.prototype.destroy=rn.prototype.destroy,Gn("audio/mpeg",function(){return new rn("audio/mpeg")},fi);function on(e){this.h=e,this.g=null}p=on.prototype,p.destroy=function(){},p.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=cn(e).split(","),n=kt("audio",t);return t=kt("video",t),!n||t||dn(n)!="mp3"?!1:Ke(this.convertCodecs("audio",e))},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},p.getOriginalMimeType=function(){return this.h},p.transmux=function(e,t,n,i,r){if(this.g?this.g.clearData():this.g=new Me,e=ae(e),e=this.g.parse(e),e.sd().audio!="mp3"||r!="audio")return Promise.reject(new I(2,3,3018));for(r=new Uint8Array([]),e=m(e.qc()),t=e.next();!t.done;t=e.next())if(t=t.value.data)for(n=0;n<t.length;)(i=tl(t,n))?(n+i.X<=t.length&&(r=Ve(r,t.subarray(n,n+i.X))),n+=i.X):n++;return Promise.resolve(r)},N("shaka.transmuxer.MpegTsTransmuxer",on),on.prototype.transmux=on.prototype.transmux,on.prototype.getOriginalMimeType=on.prototype.getOriginalMimeType,on.prototype.convertCodecs=on.prototype.convertCodecs,on.prototype.isSupported=on.prototype.isSupported,on.prototype.destroy=on.prototype.destroy,Gn("video/mp2t",function(){return new on("video/mp2t")},Ql);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Gt(e){this.h=e,(this.g=qc.get("ISOBoxer")())&&aI(this)}function aI(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(i){this._procEntryField(i,"BytesOfClearData","uint",16),this._procEntryField(i,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,i=0;16>i;i++)this.usertype[i]!==uI[i]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}p=Gt.prototype,p.destroy=function(){},p.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?Ke(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Ke(t)||Ke(e))},p.convertCodecs=function(e,t){return t.replace("mss/","")},p.getOriginalMimeType=function(){return this.h},p.transmux=function(e,t,n){if(!n)return Promise.resolve(ae(e));if(!t.mssPrivateData)return Promise.reject(new I(2,3,3020));try{var i,r=this.g.parseBuffer(e),o=r.fetch("tfhd");o.track_ID=t.id+1;var a=r.fetch("tfdt"),u=r.fetch("traf");a===null&&(a=this.g.createFullBox("tfdt",u,o),a.version=1,a.flags=0,a.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var s=r.fetch("trun"),l=r.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var d=r.fetch("tfrf");d&&d._parent.boxes.splice(d._parent.boxes.indexOf(d),1);var c=r.fetch("sepiff");if(c!==null){c.type="senc",c.usertype=void 0;var f=r.fetch("saio");if(f===null){f=this.g.createFullBox("saio",u),f.version=0,f.flags=0,f.entry_count=1,f.offset=[0];var h=this.g.createFullBox("saiz",u);if(h.version=0,h.flags=0,h.sample_count=c.sample_count,h.default_sample_info_size=0,h.sample_info_size=[],c.flags&2)for(i=0;i<c.sample_count;i+=1)h.sample_info_size[i]=10+6*c.entry[i].NumberOfEntries;else h.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,s.flags|=1;var g=r.fetch("moof");s.data_offset=g.getLength()+8;var v=r.fetch("saio");v!==null&&(v.offset[0]=U1(g,"traf")+U1(u,"senc")+16);var E=ae(r.write());return Promise.resolve(E)}catch(S){return S instanceof I?Promise.reject(S):Promise.reject(new I(2,3,3022))}};function U1(e,t){for(var n=8,i=0;i<e.boxes.length&&e.boxes[i].type!==t;i++)n+=e.boxes[i].size;return n}N("shaka.transmuxer.MssTransmuxer",Gt),Gt.prototype.transmux=Gt.prototype.transmux,Gt.prototype.getOriginalMimeType=Gt.prototype.getOriginalMimeType,Gt.prototype.convertCodecs=Gt.prototype.convertCodecs,Gt.prototype.isSupported=Gt.prototype.isSupported,Gt.prototype.destroy=Gt.prototype.destroy;var uI=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);Gn("mss/audio/mp4",function(){return new Gt("mss/audio/mp4")},fi),Gn("mss/video/mp4",function(){return new Gt("mss/video/mp4")},fi);function an(e){this.j=e,this.g=0,this.h=new Map,this.i=null}p=an.prototype,p.destroy=function(){this.h.clear()},p.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var i=cn(n).split(",");return n=kt("audio",i),i=kt("video",i),n&&(n=dn(n),!sI.includes(n))||i&&(n=dn(i),!lI.includes(n))?!1:t?Ke(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Ke(t)||Ke(e))},p.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=cn(t).replace("mp4a.40.34","mp3").split(",").map(this.ai).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},p.ai=function(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}return e},p.getOriginalMimeType=function(){return this.j},p.transmux=function(e,t,n,i,r){this.i?this.i.clearData():this.i=new Me,e=ae(e);var o=this.i.parse(e);e=[];var a=o.sd();try{var u=null;if(r=="video"){switch(a.video){case"avc":var s=[],l=null,d=[],c=o.Oc();if(!c.length)throw new I(2,3,3023);for(var f=0;f<c.length;f++){var h=c[f],g=h.nalus;d.push.apply(d,H(g));var v=Y2(g);if(v){l==null&&(l=h.dts);var E=void 0;E=f+1<c.length?(c[f+1].dts||0)-(h.dts||0):1<c.length?(h.dts||0)-(c[f-1].dts||0):9e4*(n.endTime-n.startTime),s.push({data:v.data,size:v.data.byteLength,duration:E,kb:Math.round((h.pts||0)-(h.dts||0)),flags:{ob:0,bb:0,ab:0,Za:0,$a:v.Bd?2:1,pb:v.Bd?0:1}})}}var S=X2(d);if(!S||l==null)throw new I(2,3,3018);t.height=S.height,t.width=S.width,u={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,ib:[],qa:new Uint8Array([]),Ca:S.Ca,Ja:S.Ja,La:S.La,data:{Cb:this.g,baseMediaDecodeTime:l,fb:s},stream:t};break;case"hvc":if(c=[],h=null,g=[],s=o.Oc(),!s.length)throw new I(2,3,3023);for(v=0;v<s.length;v++){l=s[v],d=l.nalus,g.push.apply(g,H(d)),S=!1;var T=[],A=!1;for(f=m(d),E=f.next();!E.done;E=f.next()){var w=E.value;switch(w.type){case 1:case 0:var x=A=!0;break;case 19:case 20:case 21:S=x=A=!0;break;case 32:x=!0;break;case 33:x=!0;break;case 34:x=!0;break;case 35:A=x=!0;break;case 39:case 40:x=!0;break;default:x=!1}if(A&&x){var M=w.fullData.byteLength,b=new Uint8Array(4);b[0]=M>>24&255,b[1]=M>>16&255,b[2]=M>>8&255,b[3]=M&255,T.push(Ve(b,w.fullData))}}var L=T.length?{data:Ve.apply(vt,H(T)),Bd:S}:null;L&&(h==null&&l.dts!=null&&(h=l.dts),S=void 0,S=v+1<s.length?(s[v+1].dts||0)-(l.dts||0):1<s.length?(l.dts||0)-(s[v-1].dts||0):9e4*(n.endTime-n.startTime),c.push({data:L.data,size:L.data.byteLength,duration:S,kb:Math.round((l.pts||0)-(l.dts||0)),flags:{ob:0,bb:0,ab:0,Za:0,$a:L.Bd?2:1,pb:L.Bd?0:1}}))}var k=Q2(g);if(!k||h==null)throw new I(2,3,3018);t.height=k.height,t.width=k.width,u={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:i,ib:[],qa:new Uint8Array([]),Ca:k.Ca,Ja:k.Ja,La:k.La,data:{Cb:this.g,baseMediaDecodeTime:h,fb:c},stream:t}}u&&(e.push(u),u=null)}if(r=="audio"){switch(a.audio){case"aac":for(var R=[],_,U=null,j=m(o.qc()),W=j.next();!W.done;W=j.next()){var Y=W.value,ne=Y.data;if(ne){var F=0;if(_=P1(ne,F),!_)throw new I(2,3,3018);for(t.audioSamplingRate=_.sampleRate,t.channelsCount=_.channelCount,U==null&&Y.pts!==null&&(U=Y.pts);F<ne.length;){var ze=D1(ne,F);if(ze){var ot=ze.me+ze.X;F+ot<=ne.length&&R.push({data:ne.subarray(F+ze.me,F+ot),size:ze.X,duration:1024,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),F+=ot}else F++}}}if(!_||U==null){if(!o.Oc().length)throw new I(2,3,3018);U=9e4*n.startTime;var En=kt("audio",t.codecs.split(","));if(!En||!t.channelsCount||!t.audioSamplingRate)throw new I(2,3,3018);_={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,wa:En};var Mt=K2(En,t.channelsCount);if(!Mt)throw new I(2,3,3018);var Rn=U+9e4*(n.endTime-n.startTime);for(o=U;o<Rn;)R.push({data:Mt,size:Mt.byteLength,duration:1024,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=1024/_.sampleRate*9e4}var Se=_.sampleRate;o=U/9e4*Se,u={id:t.id,type:"audio",codecs:_.wa,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Se,duration:i,ib:[],qa:new Uint8Array([]),Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.g,baseMediaDecodeTime:o,fb:R},stream:t};break;case"ac3":_=[],Se=0,R=new Uint8Array([]),U=null,F=m(o.qc());for(var _t=F.next();!_t.done;_t=F.next()){var Lt=_t.value,zt=Lt.data;for(U==null&&Lt.pts!==null&&(U=Lt.pts),o=0;o<zt.length;){var We=R1(zt,o);We?(t.audioSamplingRate=We.sampleRate,t.channelsCount=We.channelCount,Se=We.sampleRate,R=We.qa,_.push({data:zt.subarray(o,o+We.X),size:We.X,duration:1536,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=We.X):o++}}if(Se==0||R.byteLength==0||U==null)throw new I(2,3,3018);o=U/9e4*Se,u={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Se,duration:i,ib:[],qa:R,Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.g,baseMediaDecodeTime:o,fb:_},stream:t};break;case"ec3":_=[],Se=0,U=new Uint8Array([]),R=null;for(var yo=m(o.qc()),Ai=yo.next();!Ai.done;Ai=yo.next()){var or=Ai.value,Eo=or.data;for(R==null&&or.pts!==null&&(R=or.pts),o=0;o<Eo.length;){var Nn=N1(Eo,o);Nn?(t.audioSamplingRate=Nn.sampleRate,t.channelsCount=Nn.channelCount,Se=Nn.sampleRate,U=Nn.qa,_.push({data:Eo.subarray(o,o+Nn.X),size:Nn.X,duration:1536,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=Nn.X):o++}}if(Se==0||U.byteLength==0||R==null)throw new I(2,3,3018);o=R/9e4*Se,u={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Se,duration:i,ib:[],qa:U,Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.g,baseMediaDecodeTime:o,fb:_},stream:t};break;case"mp3":_=[];var ar;Se=null;for(var To=m(o.qc()),xi=To.next();!xi.done;xi=To.next()){var So=xi.value,Ci=So.data;if(Ci)for(Se==null&&So.pts!==null&&(Se=So.pts),o=0;o<Ci.length;){var Fn=tl(Ci,o);Fn?(ar||(ar=Fn),o+Fn.X<=Ci.length&&_.push({data:Ci.subarray(o,o+Fn.X),size:Fn.X,duration:1152,kb:0,flags:{ob:0,bb:0,ab:0,Za:0,$a:2,pb:0}}),o+=Fn.X):o++}}if(!ar||Se==null)throw new I(2,3,3018);var Xa=ar.sampleRate;o=Se/9e4*Xa,u={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Xa,duration:i,ib:[],qa:new Uint8Array([]),Ca:new Uint8Array([]),Ja:0,La:0,data:{Cb:this.g,baseMediaDecodeTime:o,fb:_},stream:t}}u&&e.push(u)}}catch(wo){return wo&&wo.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(wo)}return e.length?(e=new uo(e),this.h.has(t.id)?i=this.h.get(t.id):(i=so(e),this.h.set(t.id,i)),t=Ma(e),this.g++,t=Ve(i,t),Promise.resolve(t)):Promise.reject(new I(2,3,3018))},N("shaka.transmuxer.TsTransmuxer",an),an.prototype.transmux=an.prototype.transmux,an.prototype.getOriginalMimeType=an.prototype.getOriginalMimeType,an.prototype.convertCodecs=an.prototype.convertCodecs,an.prototype.isSupported=an.prototype.isSupported,an.prototype.destroy=an.prototype.destroy;var sI=["aac","ac-3","ec-3","mp3"],lI=["avc","hevc"];Gn("video/mp2t",function(){return new an("video/mp2t")},Jl);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function O1(){}var Oa;function V1(){Oa?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Oa=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=dI):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function dI(e,t){var n=this,i;return C(function(r){return r.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),y(r,Oa.call(n,e,t),2)):(i=r.h,K1(i)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Oa,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=H1,r.return(H1.call(n,e,t))))})}function H1(e,t){var n=this,i,r,o,a,u,s,l,d,c,f;return C(function(h){if(h.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=z1(e),r=[],o=m(t),a=o.next();!a.done;a=o.next())u=a.value,s=j1(u.videoCapabilities,i),l=j1(u.audioCapabilities,i),u.videoCapabilities&&u.videoCapabilities.length&&!s.length||u.audioCapabilities&&u.audioCapabilities.length&&!l.length||(d=Object.assign({},u),d.videoCapabilities=s,d.audioCapabilities=l,r.push(d));if(!r.length)throw c=Error("Unsupported keySystem or supportedConfigurations."),c.name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return y(h,Oa.call(n,e,r),2)}return f=h.h,h.return(new nl(f,i))})}function j1(e,t){return e&&e.filter(function(n){return!n.encryptionScheme||n.encryptionScheme==t})}N("EmeEncryptionSchemePolyfill",O1),O1.install=V1;function B1(){}var Va;function F1(){Va?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Va=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=cI):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function cI(e){var t=this,n,i,r;return C(function(o){switch(o.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),y(o,Va.call(t,e),2);case 2:if(n=o.h,!e.keySystemConfiguration)return o.return(n);if((i=n.keySystemAccess)&&K1(i))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Va,o.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=q1,i){o.F(3);break}return r=n,y(o,G1(e),4);case 4:return r.keySystemAccess=o.h,o.return(n);case 3:return o.return(q1.call(t,e))}})}function q1(e){var t=this,n,i,r,o,a,u,s,l;return C(function(d){switch(d.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=null,e.keySystemConfiguration&&(i=e.keySystemConfiguration,r=i.keySystem,o=i.audio&&i.audio.encryptionScheme,a=i.video&&i.video.encryptionScheme,n=z1(r),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},o&&o!=n||a&&a!=n)?d.return(u):y(d,Va.call(t,e),2);case 2:if(s=d.h,s.keySystemAccess){s.keySystemAccess=new nl(s.keySystemAccess,n),d.F(3);break}if(!e.keySystemConfiguration){d.F(3);break}return l=s,y(d,G1(e),5);case 5:l.keySystemAccess=d.h;case 3:return d.return(s)}})}function G1(e){var t,n;return C(function(i){if(i.g==1){var r=e.keySystemConfiguration,o=[],a=[];return r.audio&&o.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType}),r.video&&a.push({robustness:r.video.robustness||"",contentType:e.video.contentType}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},o.length&&(r.audioCapabilities=o),a.length&&(r.videoCapabilities=a),t=r,y(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}N("McEncryptionSchemePolyfill",B1),B1.install=F1;function nl(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}nl.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=m(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(t=m(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},nl.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function z1(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function K1(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function _p(){}function W1(){V1(),F1()}N("EncryptionSchemePolyfills",_p),_p.install=W1,typeof Ii<"u"&&Ii.exports&&(Ii.exports=_p);/*
	 @license
	 Copyright 2013 Ali Al Dallal

	 Licensed under the MIT license.

	 Permission is hereby granted, free of charge, to any person obtaining a copy
	 of this software and associated documentation files (the "Software"), to deal
	 in the Software without restriction, including without limitation the rights
	 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 copies of the Software, and to permit persons to whom the Software is
	 furnished to do so, subject to the following conditions:

	 The above copyright notice and this permission notice shall be included in
	 all copies or substantial portions of the Software.

	 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 SOFTWARE.
	*/for(var nr={ach:{A:"Lwo",B:"Acholi"},ady:{A:"Адыгэбзэ",B:"Adyghe"},af:{A:"Afrikaans",B:"Afrikaans"},"af-NA":{A:"Afrikaans (Namibia)",B:"Afrikaans (Namibia)"},"af-ZA":{A:"Afrikaans (South Africa)",B:"Afrikaans (South Africa)"},ak:{A:"Tɕɥi",B:"Akan"},ar:{A:"العربية",B:"Arabic"},"ar-AR":{A:"العربية",B:"Arabic"},"ar-MA":{A:"العربية",B:"Arabic (Morocco)"},"ar-SA":{A:"العربية (السعودية)",B:"Arabic (Saudi Arabia)"},"ay-BO":{A:"Aymar aru",B:"Aymara"},az:{A:"Azərbaycan dili",B:"Azerbaijani"},"az-AZ":{A:"Azərbaycan dili",B:"Azerbaijani"},"be-BY":{A:"Беларуская",B:"Belarusian"},bg:{A:"Български",B:"Bulgarian"},"bg-BG":{A:"Български",B:"Bulgarian"},bn:{A:"বাংলা",B:"Bengali"},"bn-IN":{A:"বাংলা (ভারত)",B:"Bengali (India)"},"bn-BD":{A:"বাংলা(বাংলাদেশ)",B:"Bengali (Bangladesh)"},"bs-BA":{A:"Bosanski",B:"Bosnian"},ca:{A:"Català",B:"Catalan"},"ca-ES":{A:"Català",B:"Catalan"},cak:{A:"Maya Kaqchikel",B:"Kaqchikel"},"ck-US":{A:"ᏣᎳᎩ (tsalagi)",B:"Cherokee"},cs:{A:"Čeština",B:"Czech"},"cs-CZ":{A:"Čeština",B:"Czech"},cy:{A:"Cymraeg",B:"Welsh"},"cy-GB":{A:"Cymraeg",B:"Welsh"},da:{A:"Dansk",B:"Danish"},"da-DK":{A:"Dansk",B:"Danish"},de:{A:"Deutsch",B:"German"},"de-AT":{A:"Deutsch (Österreich)",B:"German (Austria)"},"de-DE":{A:"Deutsch (Deutschland)",B:"German (Germany)"},"de-CH":{A:"Deutsch (Schweiz)",B:"German (Switzerland)"},dsb:{A:"Dolnoserbšćina",B:"Lower Sorbian"},el:{A:"Ελληνικά",B:"Greek"},"el-GR":{A:"Ελληνικά",B:"Greek (Greece)"},en:{A:"English",B:"English"},"en-GB":{A:"English (UK)",B:"English (UK)"},"en-AU":{A:"English (Australia)",B:"English (Australia)"},"en-CA":{A:"English (Canada)",B:"English (Canada)"},"en-IE":{A:"English (Ireland)",B:"English (Ireland)"},"en-IN":{A:"English (India)",B:"English (India)"},"en-PI":{A:"English (Pirate)",B:"English (Pirate)"},"en-UD":{A:"English (Upside Down)",B:"English (Upside Down)"},"en-US":{A:"English (US)",B:"English (US)"},"en-ZA":{A:"English (South Africa)",B:"English (South Africa)"},"en@pirate":{A:"English (Pirate)",B:"English (Pirate)"},eo:{A:"Esperanto",B:"Esperanto"},"eo-EO":{A:"Esperanto",B:"Esperanto"},es:{A:"Español",B:"Spanish"},"es-AR":{A:"Español (Argentine)",B:"Spanish (Argentina)"},"es-419":{A:"Español (Latinoamérica)",B:"Spanish (Latin America)"},"es-CL":{A:"Español (Chile)",B:"Spanish (Chile)"},"es-CO":{A:"Español (Colombia)",B:"Spanish (Colombia)"},"es-EC":{A:"Español (Ecuador)",B:"Spanish (Ecuador)"},"es-ES":{A:"Español (España)",B:"Spanish (Spain)"},"es-LA":{A:"Español (Latinoamérica)",B:"Spanish (Latin America)"},"es-NI":{A:"Español (Nicaragua)",B:"Spanish (Nicaragua)"},"es-MX":{A:"Español (México)",B:"Spanish (Mexico)"},"es-US":{A:"Español (Estados Unidos)",B:"Spanish (United States)"},"es-VE":{A:"Español (Venezuela)",B:"Spanish (Venezuela)"},et:{A:"eesti keel",B:"Estonian"},"et-EE":{A:"Eesti (Estonia)",B:"Estonian (Estonia)"},eu:{A:"Euskara",B:"Basque"},"eu-ES":{A:"Euskara",B:"Basque"},fa:{A:"فارسی",B:"Persian"},"fa-IR":{A:"فارسی",B:"Persian"},"fb-LT":{A:"Leet Speak",B:"Leet"},ff:{A:"Fulah",B:"Fulah"},fi:{A:"Suomi",B:"Finnish"},"fi-FI":{A:"Suomi",B:"Finnish"},"fo-FO":{A:"Føroyskt",B:"Faroese"},fr:{A:"Français",B:"French"},"fr-CA":{A:"Français (Canada)",B:"French (Canada)"},"fr-FR":{A:"Français (France)",B:"French (France)"},"fr-BE":{A:"Français (Belgique)",B:"French (Belgium)"},"fr-CH":{A:"Français (Suisse)",B:"French (Switzerland)"},"fy-NL":{A:"Frysk",B:"Frisian (West)"},ga:{A:"Gaeilge",B:"Irish"},"ga-IE":{A:"Gaeilge (Gaelic)",B:"Irish (Gaelic)"},gl:{A:"Galego",B:"Galician"},"gl-ES":{A:"Galego",B:"Galician"},"gn-PY":{A:"Avañe'ẽ",B:"Guarani"},"gu-IN":{A:"ગુજરાતી",B:"Gujarati"},"gx-GR":{A:"Ἑλληνική ἀρχαία",B:"Classical Greek"},he:{A:"עברית‏",B:"Hebrew"},"he-IL":{A:"עברית‏",B:"Hebrew"},hi:{A:"हिन्दी",B:"Hindi"},"hi-IN":{A:"हिन्दी",B:"Hindi"},hr:{A:"Hrvatski",B:"Croatian"},"hr-HR":{A:"Hrvatski",B:"Croatian"},hsb:{A:"Hornjoserbšćina",B:"Upper Sorbian"},ht:{A:"Kreyòl",B:"Haitian Creole"},hu:{A:"Magyar",B:"Hungarian"},"hu-HU":{A:"Magyar",B:"Hungarian"},"hy-AM":{A:"Հայերեն",B:"Armenian"},id:{A:"Bahasa Indonesia",B:"Indonesian"},"id-ID":{A:"Bahasa Indonesia",B:"Indonesian"},is:{A:"Íslenska",B:"Icelandic"},"is-IS":{A:"Íslenska (Iceland)",B:"Icelandic (Iceland)"},it:{A:"Italiano",B:"Italian"},"it-IT":{A:"Italiano",B:"Italian"},ja:{A:"日本語",B:"Japanese"},"ja-JP":{A:"日本語",B:"Japanese"},"jv-ID":{A:"Basa Jawa",B:"Javanese"},"ka-GE":{A:"ქართული",B:"Georgian"},"kk-KZ":{A:"Қазақша",B:"Kazakh"},km:{A:"ភាសាខ្មែរ",B:"Khmer"},"km-KH":{A:"ភាសាខ្មែរ",B:"Khmer"},kab:{A:"Taqbaylit",B:"Kabyle"},kn:{A:"ಕನ್ನಡ",B:"Kannada"},"kn-IN":{A:"ಕನ್ನಡ (India)",B:"Kannada (India)"},ko:{A:"한국어",B:"Korean"},"ko-KR":{A:"한국어 (韩国)",B:"Korean (Korea)"},ku:{A:"Kurdî",B:"Kurdish"},"ku-TR":{A:"Kurdî",B:"Kurdish"},la:{A:"Latin",B:"Latin"},"la-VA":{A:"Latin",B:"Latin"},lb:{A:"Lëtzebuergesch",B:"Luxembourgish"},"li-NL":{A:"Lèmbörgs",B:"Limburgish"},lt:{A:"Lietuvių",B:"Lithuanian"},"lt-LT":{A:"Lietuvių",B:"Lithuanian"},lv:{A:"Latviešu",B:"Latvian"},"lv-LV":{A:"Latviešu",B:"Latvian"},mai:{A:"मैथिली, মৈথিলী",B:"Maithili"},"mg-MG":{A:"Malagasy",B:"Malagasy"},mk:{A:"Македонски",B:"Macedonian"},"mk-MK":{A:"Македонски (Македонски)",B:"Macedonian (Macedonian)"},ml:{A:"മലയാളം",B:"Malayalam"},"ml-IN":{A:"മലയാളം",B:"Malayalam"},"mn-MN":{A:"Монгол",B:"Mongolian"},mr:{A:"मराठी",B:"Marathi"},"mr-IN":{A:"मराठी",B:"Marathi"},ms:{A:"Bahasa Melayu",B:"Malay"},"ms-MY":{A:"Bahasa Melayu",B:"Malay"},mt:{A:"Malti",B:"Maltese"},"mt-MT":{A:"Malti",B:"Maltese"},my:{A:"ဗမာစကာ",B:"Burmese"},nb:{A:"Norsk (bokmål)",B:"Norwegian (bokmal)"},"nb-NO":{A:"Norsk (bokmål)",B:"Norwegian (bokmal)"},ne:{A:"नेपाली",B:"Nepali"},"ne-NP":{A:"नेपाली",B:"Nepali"},nl:{A:"Nederlands",B:"Dutch"},"nl-BE":{A:"Nederlands (België)",B:"Dutch (Belgium)"},"nl-NL":{A:"Nederlands (Nederland)",B:"Dutch (Netherlands)"},"nn-NO":{A:"Norsk (nynorsk)",B:"Norwegian (nynorsk)"},no:{A:"Norsk",B:"Norwegian"},oc:{A:"Occitan",B:"Occitan"},"or-IN":{A:"ଓଡ଼ିଆ",B:"Oriya"},pa:{A:"ਪੰਜਾਬੀ",B:"Punjabi"},"pa-IN":{A:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",B:"Punjabi (India)"},pl:{A:"Polski",B:"Polish"},"pl-PL":{A:"Polski",B:"Polish"},"ps-AF":{A:"پښتو",B:"Pashto"},pt:{A:"Português",B:"Portuguese"},"pt-BR":{A:"Português (Brasil)",B:"Portuguese (Brazil)"},"pt-PT":{A:"Português (Portugal)",B:"Portuguese (Portugal)"},"qu-PE":{A:"Qhichwa",B:"Quechua"},"rm-CH":{A:"Rumantsch",B:"Romansh"},ro:{A:"Română",B:"Romanian"},"ro-RO":{A:"Română",B:"Romanian"},ru:{A:"Русский",B:"Russian"},"ru-RU":{A:"Русский",B:"Russian"},"sa-IN":{A:"संस्कृतम्",B:"Sanskrit"},"se-NO":{A:"Davvisámegiella",B:"Northern Sámi"},"si-LK":{A:"පළාත",B:"Sinhala (Sri Lanka)"},sk:{A:"Slovenčina",B:"Slovak"},"sk-SK":{A:"Slovenčina (Slovakia)",B:"Slovak (Slovakia)"},sl:{A:"Slovenščina",B:"Slovenian"},"sl-SI":{A:"Slovenščina",B:"Slovenian"},"so-SO":{A:"Soomaaliga",B:"Somali"},sq:{A:"Shqip",B:"Albanian"},"sq-AL":{A:"Shqip",B:"Albanian"},sr:{A:"Српски",B:"Serbian"},"sr-RS":{A:"Српски (Serbia)",B:"Serbian (Serbia)"},su:{A:"Basa Sunda",B:"Sundanese"},sv:{A:"Svenska",B:"Swedish"},"sv-SE":{A:"Svenska",B:"Swedish"},sw:{A:"Kiswahili",B:"Swahili"},"sw-KE":{A:"Kiswahili",B:"Swahili (Kenya)"},ta:{A:"தமிழ்",B:"Tamil"},"ta-IN":{A:"தமிழ்",B:"Tamil"},te:{A:"తెలుగు",B:"Telugu"},"te-IN":{A:"తెలుగు",B:"Telugu"},tg:{A:"забо́ни тоҷикӣ́",B:"Tajik"},"tg-TJ":{A:"тоҷикӣ",B:"Tajik"},th:{A:"ภาษาไทย",B:"Thai"},"th-TH":{A:"ภาษาไทย (ประเทศไทย)",B:"Thai (Thailand)"},tl:{A:"Filipino",B:"Filipino"},"tl-PH":{A:"Filipino",B:"Filipino"},tlh:{A:"tlhIngan-Hol",B:"Klingon"},tr:{A:"Türkçe",B:"Turkish"},"tr-TR":{A:"Türkçe",B:"Turkish"},"tt-RU":{A:"татарча",B:"Tatar"},uk:{A:"Українська",B:"Ukrainian"},"uk-UA":{A:"Українська",B:"Ukrainian"},ur:{A:"اردو",B:"Urdu"},"ur-PK":{A:"اردو",B:"Urdu"},uz:{A:"O'zbek",B:"Uzbek"},"uz-UZ":{A:"O'zbek",B:"Uzbek"},vi:{A:"Tiếng Việt",B:"Vietnamese"},"vi-VN":{A:"Tiếng Việt",B:"Vietnamese"},"xh-ZA":{A:"isiXhosa",B:"Xhosa"},yi:{A:"ייִדיש",B:"Yiddish"},"yi-DE":{A:"ייִדיש (German)",B:"Yiddish (German)"},zh:{A:"中文",B:"Chinese"},"zh-HANS":{A:"中文简体",B:"Chinese Simplified"},"zh-HANT":{A:"中文繁體",B:"Chinese Traditional"},"zh-CN":{A:"中文（中国）",B:"Chinese Simplified (China)"},"zh-HK":{A:"中文（香港）",B:"Chinese Traditional (Hong Kong)"},"zh-SG":{A:"中文（新加坡）",B:"Chinese Simplified (Singapore)"},"zh-TW":{A:"中文（台灣）",B:"Chinese Traditional (Taiwan)"},"zu-ZA":{A:"isiZulu",B:"Zulu"}},X1=m(Object.keys(nr)),Up=X1.next();!Up.done;Up=X1.next()){var Y1=Up.value;nr[Y1.toLowerCase()]=nr[Y1]}function ue(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new Ce,this.localization=this.controls.va,this.player=this.controls.Mc(),this.video=this.controls.cc(),this.adManager=this.player.ee(),this.ad=t.getAd(),this.eventManager.o(this.adManager,"ad-started",function(i){n.ad=i.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null})}ue.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},N("shaka.ui.Element",ue),ue.prototype.release=ue.prototype.release;function $1(e){return Op(e,"shaka-back-to-overflow-button")}function Op(e,t){return e=e.getElementsByClassName(t),e.length?e[0]:null}function Ha(e){e&&(e=Op(e,"shaka-chosen-item"))&&e.parentElement.focus()}function po(){var e=q("i");return e.classList.add("material-icons-round"),e.classList.add("shaka-chosen-item"),e.textContent="done",e.ariaHidden="true",e}function le(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function ho(e,t){var n=Math.floor(e/3600),i=Math.floor(e/60%60);return e=Math.floor(e%60),10>e&&(e="0"+e),e=i+":"+e,t&&(10>i&&(e="0"+e),e=n+":"+e),e}function il(e,t){ue.call(this,e,t);var n=this;this.i=q("div"),this.i.classList.add("shaka-ad-counter"),this.parent.appendChild(this.i),this.h=q("span"),this.h.classList.add("shaka-ad-counter-span"),this.i.appendChild(this.h),this.g=new re(function(){var i=Math.round(n.ad.getRemainingTime()),r=n.ad.getDuration();i!=-1&&r!=-1&&(0<i?(i=ho(r-i,!1)+" / "+ho(r,!1),1<n.ad.getSequenceLength()?n.h.textContent=i:(r=n.localization.resolve("AD_TIME"),n.h.textContent=r.replace("[AD_TIME]",i))):(n.g.stop(),n.h.textContent=""))}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){n.g.Qa(),n.g.za(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.g.stop(),n.h.textContent=""}),this.ad&&(this.g.Qa(),this.g.za(.5))}se(il,ue),il.prototype.release=function(){this.g.stop(),this.g=null,ue.prototype.release.call(this)},N("shaka.ui.AdCounter",il);function Vp(e,t){ue.call(this,e,t);var n=this;this.g=q("div"),this.g.classList.add("shaka-ad-position"),le(this.g,!1),this.parent.appendChild(this.g),this.h=q("span"),this.h.classList.add("shaka-ad-position-span"),this.g.appendChild(this.h),this.eventManager.o(this.localization,"locale-updated",function(){n.ad&&rl(n)}),this.eventManager.o(this.localization,"locale-changed",function(){n.ad&&rl(n)}),this.eventManager.o(this.adManager,"ad-started",function(){rl(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.h.textContent="",le(n.g,!1)}),this.ad&&rl(this)}se(Vp,ue);function rl(e){var t=e.ad.getSequenceLength();if(1<t){var n=e.ad.getPositionInSequence();e.h.textContent=e.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(n)).replace("[NUM_ADS]",String(t)),le(e.g,!0)}}N("shaka.ui.AdPosition",Vp);function jn(e,t){ue.call(this,e,t);var n=this;this.button=Qe(),this.parent.appendChild(this.button),this.eventManager.o(this.localization,"locale-updated",function(){n.g()}),this.eventManager.o(this.localization,"locale-changed",function(){n.g()}),this.eventManager.o(this.video,"play",function(){n.g(),n.h()}),this.eventManager.o(this.video,"pause",function(){n.g(),n.h()}),this.eventManager.o(this.video,"seeking",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-paused",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-resumed",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-started",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.g(),n.h()}),this.eventManager.o(this.button,"click",function(){n.ad&&n.ad.isLinear()?aE(n.controls):oE(n.controls)}),this.ad&&(this.g(),this.h())}se(jn,ue),jn.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=this.controls,e=e.u.paused&&!e.W;return e},jn.prototype.isEnded=function(){return this.ad&&this.ad.isLinear()?!1:this.video.ended},jn.prototype.g=function(){},jn.prototype.h=function(){},N("shaka.ui.PlayButton",jn);function ja(e,t){jn.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.h(),this.g()}se(ja,jn),ja.prototype.h=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},ja.prototype.g=function(){var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)},N("shaka.ui.BigPlayButton",ja);function Ba(e,t){ue.call(this,e,t);var n=this;this.j=this.controls.g,this.h=this.controls.h,this.i=[],this.g=q("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(i){if(n.g.classList.contains("shaka-hidden")){i.preventDefault();var r=n.h.getBoundingClientRect();n.g.style.left=i.clientX-r.left+"px",n.g.style.top=i.clientY-r.top+"px",le(n.g,!0)}else le(n.g,!1)}),this.eventManager.o(D,"click",function(){le(n.g,!1)}),pI(this)}se(Ba,ue),Ba.prototype.release=function(){this.h=null;for(var e=m(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],ue.prototype.release.call(this)};function ol(e,t){Q1.set(e,t)}function pI(e){for(var t=m(e.j.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var i=Q1.get(n);i?e.i.push(i.create(e.g,e.controls)):pe("Unrecognized context menu element:",n)}}N("shaka.ui.ContextMenu",Ba),Ba.registerElement=ol;var Q1=new Map;function fo(e,t){ue.call(this,e,t);var n=this;this.m=null,this.s=!1,this.j=new re(function(){parseInt(n.h.textContent,10)!=0&&(n.video.currentTime=n.controls.Hf()+parseInt(n.h.textContent,10)),n.g.style.opacity="0",n.s=!1,n.h.textContent="0s"}),this.g=q("div"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"touchend",function(i){n.controls.dc()&&(n.controls.nd()?(i.preventDefault(),n.controls.uc()):0<n.controls.g.tapSeekDistance&&(i.preventDefault(),i=n.controls.g.tapSeekDistance,n.s?n.m+1e3>Date.now()&&(n.j.stop(),n.m=Date.now(),n.h.textContent=(n.l?parseInt(n.h.textContent,10)-i:parseInt(n.h.textContent,10)+i).toString()+"s",n.g.style.opacity="1",n.j.S(1)):(n.s=!0,n.m=Date.now(),n.j.S(1))))}),this.h=q("span"),this.h.textContent="0s",this.g.appendChild(this.h),this.i=q("span"),this.i.classList.add("shaka-forward-rewind-container-icon"),this.g.appendChild(this.i),this.l=!1}se(fo,ue),N("shaka.ui.HiddenSeekButton",fo);function Hp(e,t){fo.call(this,e,t),this.g.classList.add("shaka-fast-foward-container"),this.i.textContent="fast_forward",this.l=!1}se(Hp,fo),N("shaka.ui.HiddenFastForwardButton",Hp);function jp(e,t){fo.call(this,e,t),this.g.classList.add("shaka-rewind-container"),this.i.textContent="fast_rewind",this.l=!0}se(jp,fo),N("shaka.ui.HiddenRewindButton",jp);function Je(e,t,n,i){ue.call(this,e,t);var r=this;this.container=q("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,H(n)),this.h=!1,this.bar=document.createElement("input"),this.G=new re(function(){r.onChangeEnd(),r.h=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,H(i)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.o(this.bar,"mousedown",function(){r.controls.dc()&&(r.h=!0,r.onChangeStart())}),this.eventManager.o(this.bar,"touchstart",function(o){r.controls.dc()&&(r.h=!0,al(r,o),r.onChangeStart())}),this.eventManager.o(this.bar,"input",function(){r.onChange()}),this.eventManager.o(this.bar,"touchmove",function(o){r.h&&(al(r,o),r.onChange())}),this.eventManager.o(this.bar,"touchend",function(o){r.h&&(r.h=!1,al(r,o),r.onChangeEnd())}),this.eventManager.o(this.bar,"touchcancel",function(o){r.h&&(r.h=!1,al(r,o),r.onChangeEnd())}),this.eventManager.o(this.bar,"mouseup",function(){r.h&&(r.h=!1,r.onChangeEnd())}),this.eventManager.o(this.bar,"blur",function(){r.h&&(r.h=!1,r.onChangeEnd())}),this.eventManager.o(this.bar,"contextmenu",function(o){o.preventDefault(),o.stopPropagation()})}se(Je,ue),p=Je.prototype,p.release=function(){this.G&&(this.G.stop(),this.G=null),ue.prototype.release.call(this)},p.setRange=function(e,t){this.bar.min=e,this.bar.max=t},p.onChangeStart=function(){},p.onChange=function(){},p.onChangeEnd=function(){},p.changeTo=function(e){this.h||(this.h=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.G.S(.5)},p.getValue=function(){return parseFloat(this.bar.value)},p.setValue=function(e){this.h||(this.bar.value=e)};function al(e,t){t.preventDefault();var n=t.changedTouches[0],i=e.bar.getBoundingClientRect();t=parseFloat(e.bar.min);var r=parseFloat(e.bar.max);n=t+(r-t)/i.width*(n.clientX-i.left),n<t?n=t:n>r&&(n=r),e.bar.value=n}N("shaka.ui.RangeElement",Je),Je.prototype.setValue=Je.prototype.setValue,Je.prototype.getValue=Je.prototype.getValue,Je.prototype.changeTo=Je.prototype.changeTo,Je.prototype.onChangeEnd=Je.prototype.onChangeEnd,Je.prototype.onChange=Je.prototype.onChange,Je.prototype.onChangeStart=Je.prototype.onChangeStart,Je.prototype.setRange=Je.prototype.setRange;function Fa(e,t){Je.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.D=q("div"),this.D.classList.add("shaka-ad-markers"),this.container.insertBefore(this.D,this.container.childNodes[0]),this.H=this.controls.g,this.s=new re(function(){var i=n.getValue();n.player.R()||i==n.video.duration&&(i-=.001),n.video.currentTime=i}),this.I=new re(function(){J1(n)}),this.K=!1,this.i=q("div"),this.i.id="shaka-player-ui-thumbnail-container",this.g=q("img"),this.g.id="shaka-player-ui-thumbnail-image",this.g.draggable=!1,this.u=q("div"),this.u.id="shaka-player-ui-thumbnail-time",this.i.appendChild(this.g),this.i.appendChild(this.u),this.container.appendChild(this.i),this.j=this.l=null,this.J=!1,this.m=new re(function(){mo(n)}),this.C=[],this.eventManager.o(this.localization,"locale-updated",function(){return Fp(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Fp(n)}),this.eventManager.o(this.adManager,"ad-started",function(){Bp(n)||le(n.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Bp(n)&&le(n.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(i){n.C=i.cuepoints,Z1(n)}),this.eventManager.o(this.player,"unloading",function(){n.C=[],Z1(n),n.j&&(n.j.abort(),n.j=null),n.l=null,mo(n)}),this.eventManager.o(this.bar,"mousemove",function(i){if(n.player.fe().length){var r=n.bar.getBoundingClientRect(),o=parseFloat(n.bar.min);i=i.clientX-r.left,eE(n,i,Math.round(o+(parseFloat(n.bar.max)-o)/r.width*i))}else mo(n)}),this.eventManager.o(this.container,"mouseleave",function(){n.m.stop(),n.m.S(.25)}),this.setValue(this.video.currentTime),this.update(),Fp(this),this.ad&&le(this.container,!1)}se(Fa,Je),p=Fa.prototype,p.release=function(){this.s&&(this.s.stop(),this.s=null,this.I.stop(),this.I=null),Je.prototype.release.call(this)},p.onChangeStart=function(){this.K=!this.video.paused,this.controls.qg(!0),this.video.pause(),this.m.stop(),this.J=!0},p.onChange=function(){if(this.video.duration)if(this.update(),this.s.S(.125),this.player.fe().length){var e=parseFloat(this.bar.min),t=parseFloat(this.bar.max),n=this.bar.getBoundingClientRect(),i=Math.round(this.getValue());eE(this,(i-e)/((t-e)/n.width),i)}else mo(this)},p.onChangeEnd=function(){this.s.Qa(),this.controls.qg(!1),this.K&&this.video.play(),this.J&&(this.J=!1,this.m.stop(),this.m.S(.25))},p.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},p.update=function(){var e=this.H.seekBarColors,t=this.getValue(),n=this.video.buffered.length,i=n?this.video.buffered.start(0):0,r=n?this.video.buffered.end(n-1):0,o=this.player.Ha(),a=o.end-o.start;this.setRange(o.start,o.end),Bp(this)?(le(this.container,!0),n==0?this.container.style.background=e.base:(n=(Math.max(i,o.start)-o.start)/a||0,r=(Math.min(r,o.end)-o.start)/a||0,t=(Math.min(Math.max(t,o.start),o.end)-o.start)/a||0,this.container.style.background="linear-gradient("+["to right",(this.H.showUnbufferedStart?e.base:e.played)+" "+100*n+"%",e.played+" "+100*n+"%",e.played+" "+100*t+"%",e.buffered+" "+100*t+"%",e.buffered+" "+100*r+"%",e.base+" "+100*r+"%"].join()+")")):le(this.container,!1)};function J1(e){if(e.C.length){for(var t=e.player.Ha(),n=t.end-t.start,i=["to right"],r=[],o=e.H.seekBarColors.adBreaks,a=!1,u=m(e.C),s=u.next();!s.done;s=u.next())if(s=s.value,s.start!=-1||s.end||(a=!0),s.start>=t.start&&s.start<t.end&&!(s.end&&s.end>t.end)){var l=(s.start-t.start)/n||0,d=l+.01;s.end&&(d=(s.end-t.start)/n||0),r.push({start:l,end:d})}for(t=m(r),s=t.next();!s.done;s=t.next())n=s.value,i.push("transparent "+100*n.start+"%"),i.push(o+" "+100*n.start+"%"),i.push(o+" "+100*n.end+"%"),i.push("transparent "+100*n.end+"%");a&&(i.push("transparent 99%"),i.push(o+" 99%")),e.D.style.background="linear-gradient("+i.join(",")+")"}else e.D.style.background="transparent"}function Z1(e){J1(e);var t=e.player.Ha();t=t.end-t.start,e.player.R()&&5<t&&e.I.za(1)}function Bp(e){var t=e.player.Ha();return t=t.end-t.start,e.player.R()&&5>t?!1:e.ad==null||!e.ad.isLinear()}function Fp(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}function eE(e,t,n){var i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w;C(function(x){switch(x.g){case 1:return i=hI(e),i?(0>n&&(n=0),r=e.player.Ha(),o=Math.max(Math.ceil(r.start),Math.min(Math.floor(r.end),n)),y(x,e.player.Kf(i.id,o),2)):(mo(e),x.return());case 2:if(a=x.h,!a||!a.uris.length)return mo(e),x.return();if(e.player.R()?(u=r.end-n,e.u.textContent=1>u?e.localization.resolve("LIVE"):"-"+tE(u)):e.u.textContent=tE(n),s=-10,l=e.i.clientWidth,d=Math.floor(9*l/16),e.i.style.height=d+"px",e.i.style.top=-(d-s)+"px",c=Math.min(e.bar.offsetWidth-l,Math.max(0,t-l/2)),e.i.style.left=c+"px",e.i.style.visibility="visible",f=a.uris[0].split("#xywh=")[0],e.l&&f===e.l.uris[0].split("#xywh=")[0]&&a.segment.Pb()==e.l.segment.Pb()&&a.segment.Mb()==e.l.segment.Mb()){x.F(3);break}if(e.l=a,e.j&&(e.j.abort(),e.j=null),i.codecs!="mjpg"&&!f.startsWith("offline:")){x.F(4);break}return e.g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',$(x,5),h=In,g=ta(a.segment.ba(),a.segment.Pb(),a.segment.Mb(),e.player.getConfiguration().streaming.retryParameters),e.j=e.player.Zb().request(h,g,{type:1}),y(x,e.j.promise,7);case 7:v=x.h,e.j=null,i.codecs=="mjpg"?(E=new Ie().box("mdat",Bi(function(M){f=URL.createObjectURL(new Blob([M],{type:"image/jpeg"}))})),E.parse(v.data,!1)):(S=i.mimeType||"image/jpeg",T=new Blob([v.data],{type:S}),f=URL.createObjectURL(T)),oe(x,4);break;case 5:if(A=Q(x),A.code==7001)return x.return();throw A;case 4:try{e.i.removeChild(e.g)}catch{}e.g=q("img"),e.g.id="shaka-player-ui-thumbnail-image",e.g.draggable=!1,e.g.src=f,e.g.onload=function(){f.startsWith("blob:")&&URL.revokeObjectURL(f)},e.i.insertBefore(e.g,e.i.firstChild);case 3:w=l/a.width,a.imageHeight?e.g.height=a.imageHeight:a.sprite||(e.g.style.height="100%",e.g.style.objectFit="contain"),a.imageWidth?e.g.width=a.imageWidth:a.sprite||(e.g.style.width="100%",e.g.style.objectFit="contain"),e.g.style.left="-"+w*a.positionX+"px",e.g.style.top="-"+w*a.positionY+"px",e.g.style.transform="scale("+w+")",e.g.style.transformOrigin="left top",d=Math.floor(l*a.height/a.width),e.i.style.height=d+"px",e.i.style.top=-(d-s)+"px",O(x)}})}function hI(e){var t=e.player.fe();if(!t.length)return null;for(var n={},i=m(["image/avif","image/webp","image/jpeg","image/png","image/svg+xml"]),r=i.next();!r.done;n={Ve:n.Ve,Te:n.Te},r=i.next())if(n.Ve=r.value,n.Te=e.player.getStats().estimatedBandwidth,(r=t.filter(function(o){return function(a){return a.mimeType.toLowerCase()===o.Ve&&a.bandwidth<.01*o.Te}}(n)).sort(function(o,a){return a.bandwidth-o.bandwidth}))&&r.length)return r[0];return t.find(function(o){return o.mimeType=="application/mp4"&&o.codecs=="mjpg"})||t[0]}function mo(e){e.i.style.visibility="hidden",e.u.textContent=""}function tE(e){var t=Math.round(e);e=Math.floor(t/3600);var n=Math.floor((t-3600*e)/60);return t=t-3600*e-60*n,10>t&&(t="0"+t),0<e?(10>n&&(n="0"+n),e+":"+n+":"+t):n+":"+t}N("shaka.ui.SeekBar",Fa);function qp(){}qp.prototype.create=function(e,t){return new Fa(e,t)},Fa.Factory=qp;function K(e,t,n,i){fe.call(this);var r=this;this.N=!0,this.g=i,this.C=new Be(n,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),this.ua=!0,this.u=this.C.cc(),this.s=n,this.G=this.C.Mc(),this.sa=e,this.j=t,this.Wa=this.G.ee(),this.l=this.m=null,this.W=!1,this.H=[],this.Xb=[],this.Ib=!1,this.Z=new re(function(){r.j.style.cursor="none",r.Ib=!1,Dn(r)}),this.aa=new re(function(){r.h.removeAttribute("shown"),r.I.S(2)}),this.I=new re(function(){for(var o=m(r.H),a=o.next();!a.done;a=o.next())le(a.value,!1)}),this.Ra=new re(function(){r.dc()&&ul(r)}),this.J=null,this.D=[],this.va=DI(),this.i=new Ce,this.configure(this.g),II(this),this.ha=new Set,Gp(this),this.Ra.za(.125),this.i.o(this.va,"locale-changed",function(o){r.Wa.setLocale(o.locales[0])})}se(K,fe),p=K.prototype,p.destroy=function(){var e=this;return C(function(t){switch(t.g){case 1:if(document.pictureInPictureElement!=e.s){t.F(2);break}return y(t,document.exitPictureInPicture(),2);case 2:if(e.i&&(e.i.release(),e.i=null),e.Z&&(e.Z.stop(),e.Z=null),e.aa&&(e.aa.stop(),e.aa=null),e.I&&(e.I.stop(),e.I=null),e.Ra&&(e.Ra.stop(),e.Ra=null),nE(e),e.h&&(e.j.removeChild(e.h),e.h=null),!e.C){t.F(4);break}return y(t,e.C.destroy(),5);case 5:e.C=null;case 4:if(!e.sa){t.F(6);break}return y(t,e.sa.destroy(),7);case 7:e.sa=null;case 6:e.G=null,e.s=null,e.u=null,e.va=null,e.ha.clear(),fe.prototype.release.call(e),O(t)}})};function nE(e){for(var t=m(e.D),n=t.next();!n.done;n=t.next())n.value.release();e.D=[]}function ct(e,t){zp.set(e,t)}p.Kh=function(e){this.ua=e,Gp(this)},p.Ri=function(){Dn(this)},p.configure=function(e){this.g=e,this.C.Jg(e.castReceiverAppId,e.castAndroidReceiverCompatible),this.l&&(this.l=null),this.Fb&&(this.Fb=null),this.Xa&&(this.Xa=null),this.h?(yi(this.h),nE(this)):(gI(this),CI(this)),this.j.classList.add("shaka-video-container"),this.s.classList.add("shaka-video"),yI(this),this.g.addBigPlayButton&&vI(this),this.g.customContextMenu&&(this.Xa=new Ba(this.V,this),this.D.push(this.Xa)),this.$||TI(this),this.g.seekOnTaps&&(SI(this),wI(this)),this.xb=q("div"),this.xb.classList.add("shaka-server-side-ad-container"),this.h.appendChild(this.xb),AI(this),this.H=Array.from(this.j.getElementsByClassName("shaka-settings-menu")),this.H.push.apply(this.H,H(Array.from(this.j.getElementsByClassName("shaka-overflow-menu")))),xI(this),this.Xb=Array.from(this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")),Dn(this),e=m(this.j.getElementsByClassName("shaka-no-propagation"));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=function(i){return i.stopPropagation()};this.i.o(t,"click",n),this.i.o(t,"dblclick",n)}},p.lg=function(e){(this.N=e)?(this.j.setAttribute("shaka-controls","true"),this.s.tabIndex=-1,this.s.controls=!1):this.j.removeAttribute("shaka-controls"),Dn(this)},p.ph=function(e){this.s.controls=e,this.s.tabIndex=e?0:-1,e&&this.lg(!1)},p.getAd=function(){return this.m},p.Vh=function(){return this.C},p.ji=function(){return this.va},p.Di=function(){return this.j},p.cc=function(){return this.u},p.ii=function(){return this.s},p.Mc=function(){return this.G},p.gi=function(){return this.sa},p.$h=function(){return this.h},p.ti=function(){return this.xb},p.Xh=function(){return this.M},p.Yh=function(){return this.g},p.Oi=function(){return this.W},p.qg=function(e){this.W=e},p.Ii=function(){return this.ua},p.Hf=function(){return this.l?this.l.getValue():this.u.currentTime},p.qh=function(e){this.J=e},p.nd=function(){return this.H.some(function(e){return!e.classList.contains("shaka-hidden")})},p.uc=function(){this.I.Qa()},p.zd=function(){return!!(document.fullscreenEnabled||this.s.webkitSupportsFullscreen)},p.Qc=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var e=this.s;return e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1};function iE(e){var t,n,i;return C(function(r){switch(r.g){case 1:if($(r,2),!document.fullscreenEnabled){t=e.s,t.webkitSupportsFullscreen&&t.webkitEnterFullscreen(),r.F(4);break}if(!document.pictureInPictureElement){r.F(5);break}return y(r,document.exitPictureInPicture(),5);case 5:return n=e.g.fullScreenElement,y(r,n.requestFullscreen({navigationUI:"hide"}),7);case 7:if(!e.g.forceLandscapeOnFullscreen||!screen.orientation){r.F(4);break}return $(r,9),y(r,screen.orientation.lock("landscape"),11);case 11:oe(r,4,2);break;case 9:Q(r,2);case 4:oe(r,0);break;case 2:i=Q(r),e.dispatchEvent(new B("error",new Map().set("detail",i))),O(r)}})}function rE(e){var t;return C(function(n){return document.fullscreenEnabled?(screen.orientation&&screen.orientation.unlock(),y(n,document.exitFullscreen(),0)):(t=e.s,t.webkitSupportsFullscreen&&t.webkitExitFullscreen(),n.F(0))})}p.Pe=function(){var e=this;return C(function(t){return e.Qc()?y(t,rE(e),0):y(t,iE(e),0)})},p.qe=function(){return this.C.Ba()?!1:"documentPictureInPicture"in D&&this.g.preferDocumentPictureInPicture||document.pictureInPictureEnabled?!this.s.disablePictureInPicture:!1},p.re=function(){return"documentPictureInPicture"in D&&this.g.preferDocumentPictureInPicture?!!D.documentPictureInPicture.window:!!document.pictureInPictureElement},p.Od=function(){var e=this,t,n;return C(function(i){if(i.g==1)return $(i,2),"documentPictureInPicture"in D&&e.g.preferDocumentPictureInPicture?y(i,fI(e),5):document.pictureInPictureElement?y(i,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),t=e.s,y(i,t.requestPictureInPicture(),5));if(i.g!=2)return oe(i,0);n=Q(i),e.dispatchEvent(new B("error",new Map().set("detail",n))),O(i)})};function fI(e){var t,n,i,r,o,a;return C(function(u){if(u.g==1)return D.documentPictureInPicture.window?(D.documentPictureInPicture.window.close(),u.return()):(t=e.j,n=t.getBoundingClientRect(),y(u,D.documentPictureInPicture.requestWindow({width:n.width,height:n.height}),2));i=u.h,mI(i),r=t.parentNode||document.body,o=e.j.cloneNode(!0),o.style.visibility="hidden",o.style.height=getComputedStyle(t).height,r.appendChild(o),a=document.createElement("style"),a.append(`[data-shaka-player-container] {
      width: 100% !important; max-height: 100%}`),i.document.head.append(a),i.document.body.append(t),e.i.na(i,"pagehide",function(){o.replaceWith(t)}),O(u)})}function mI(e){var t=[].concat(H(document.styleSheets)).map(function(i){try{return[].concat(H(i.cssRules)).map(function(o){return o.cssText}).join("")}catch{var r=document.createElement("link");r.rel="stylesheet",r.type=i.type,r.media=i.media,r.href=i.href,e.document.head.appendChild(r)}return""}).filter(Boolean).join(`
`),n=document.createElement("style");n.textContent=t,e.document.head.appendChild(n)}p.uh=function(){le(this.K,!0),le(this.M,!0),this.h.setAttribute("ad-active","true")},p.Wg=function(){le(this.K,!1),le(this.M,!1),this.h.removeAttribute("ad-active")};function oE(e){e.N&&e.u.duration&&(e.G.od(),e.u.paused&&!e.W?e.u.play():e.u.pause())}function aE(e){e.m&&e.m.isPaused()?e.m.play():e.m&&e.m.pause()}function gI(e){e.h=q("div"),e.h.classList.add("shaka-controls-container"),e.j.appendChild(e.h),e.j.setAttribute("shaka-controls","true"),e.i.o(e.h,"touchstart",function(t){e.u.duration&&(e.dc()?e.J=Date.now():(qa(e,t),t.cancelable&&t.preventDefault()))},{passive:!1}),e.i.o(e.h,"click",function(){uE(e)}),e.i.o(e.h,"dblclick",function(){e.g.doubleClickForFullscreen&&e.zd()&&e.Pe()})}function vI(e){var t=q("div");t.classList.add("shaka-play-button-container"),e.h.appendChild(t),e.Fb=new ja(t,e),e.D.push(e.Fb)}function yI(e){var t=q("div");t.classList.add("shaka-scrim-container"),e.h.appendChild(t)}function EI(e){e.K=q("div"),e.K.classList.add("shaka-ad-controls");var t=e.m!=null&&e.m.isLinear();le(e.K,t),e.L.appendChild(e.K),t=new Vp(e.K,e),e.D.push(t),t=new il(e.K,e),e.D.push(t)}function TI(e){e.$=q("div"),e.$.classList.add("shaka-spinner-container"),e.j.appendChild(e.$);var t=q("div");t.classList.add("shaka-spinner"),e.$.appendChild(t),e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("shaka-spinner-svg"),e.setAttribute("viewBox","0 0 30 30"),t.appendChild(e),t=document.createElementNS("http://www.w3.org/2000/svg","circle"),t.classList.add("shaka-spinner-path"),t.setAttribute("cx","15"),t.setAttribute("cy","15"),t.setAttribute("r","14.5"),t.setAttribute("fill","none"),t.setAttribute("stroke-width","1"),t.setAttribute("stroke-miterlimit","10"),e.appendChild(t)}function SI(e){var t=q("div");t.classList.add("shaka-hidden-fast-forward-container"),e.h.appendChild(t),e.nc=new Hp(t,e),e.D.push(e.nc)}function wI(e){var t=q("div");t.classList.add("shaka-hidden-rewind-container"),e.h.appendChild(t),e.tc=new jp(t,e),e.D.push(e.tc)}function AI(e){e.L=q("div"),e.L.classList.add("shaka-bottom-controls"),e.L.classList.add("shaka-no-propagation"),e.h.appendChild(e.L),e.i.o(e.L,"click",function(i){i.target.closest(".shaka-overflow-button")||e.uc()}),EI(e),e.V=q("div"),e.V.classList.add("shaka-controls-button-panel"),e.V.classList.add("shaka-show-controls-on-mouse-over"),e.g.enableTooltips&&e.V.classList.add("shaka-tooltips-on"),e.L.appendChild(e.V);for(var t=m(e.g.controlPanelElements),n=t.next();!n.done;n=t.next())n=n.value,zp.get(n)?(n=zp.get(n).create(e.V,e),e.D.push(n)):pe("Unrecognized control panel element requested:",n)}function xI(e){if(e.g.addSeekBar)e.l=lE.create(e.L,e),e.D.push(e.l);else{e=m(e.H);for(var t=e.next();!t.done;t=e.next())t.value.classList.add("shaka-low-position")}}function CI(e){e.M=q("div"),e.M.classList.add("shaka-client-side-ad-container"),le(e.M,!1),e.i.o(e.M,"click",function(){uE(e)}),e.j.appendChild(e.M)}function II(e){e.i.o(e.G,"buffering",function(){e.N&&le(e.$,e.G.yd())}),e.N&&le(e.$,e.G.yd()),e.i.o(D,"keydown",function(t){kI(e,t)}),e.i.o(D,"click",function(){return e.uc()}),e.i.o(e,"submenuopen",function(){e.uc()}),e.i.o(e.u,"play",function(){Dn(e)}),e.i.o(e.u,"pause",function(){Dn(e)}),e.i.o(e.j,"mousemove",function(t){qa(e,t)}),e.i.o(e.j,"touchmove",function(t){qa(e,t)},{passive:!0}),e.i.o(e.j,"touchend",function(t){qa(e,t)},{passive:!0}),e.i.o(e.j,"mouseleave",function(){e.J||e.Z.Qa()}),e.i.o(e.C,"caststatuschanged",function(){Gp(e)}),e.i.o(e.j,"keydown",function(t){var n=document.activeElement,i=n&&n.classList?n.classList.contains("shaka-volume-bar"):!1,r=n&&n.classList&&n.classList.contains("shaka-seek-bar");if(e.h.contains(n)&&qa(e,t),e.g.enableKeyboardPlaybackControls){n=e.g.keyboardSeekDistance;var o=e.g.keyboardLargeSeekDistance;switch(t.key){case"ArrowLeft":e.l&&!i&&0<n&&(t.preventDefault(),go(e,e.l.getValue()-n));break;case"ArrowRight":e.l&&!i&&0<n&&(t.preventDefault(),go(e,e.l.getValue()+n));break;case"PageDown":e.l&&r&&0<n&&(t.preventDefault(),go(e,e.l.getValue()-o));break;case"PageUp":e.l&&r&&0<n&&(t.preventDefault(),go(e,e.l.getValue()+o));break;case"Home":e.l&&go(e,e.G.Ha().start);break;case"End":e.l&&go(e,e.G.Ha().end);break;case"f":e.zd()&&e.Pe();break;case"m":e.m&&e.m.isLinear()?e.m.setMuted(!e.m.isMuted()):e.s.muted=!e.s.muted;break;case"p":e.qe()&&e.Od();break;case" ":r&&sE(e)}}}),e.i.o(e.j,"keyup",function(t){e.ha.delete(t.key)}),e.i.o(e.Wa,"ad-started",function(t){e.m=t.ad,e.uh()}),e.i.o(e.Wa,"ad-stopped",function(){e.m=null,e.Wg()}),screen.orientation&&e.i.o(screen.orientation,"change",function(){return C(function(t){return y(t,MI(e),0)})})}function MI(e){return C(function(t){return e.u&&e.u.readyState!=0&&!e.C.Ba()&&e.g.enableFullscreenOnRotation&&e.zd()?screen.orientation.type.includes("landscape")&&!e.Qc()?y(t,iE(e),0):screen.orientation.type.includes("portrait")&&e.Qc()?y(t,rE(e),0):t.F(0):t.return()})}function qa(e,t){t.type=="mousemove"&&(e.h.classList.remove("shaka-keyboard-navigation"),Dn(e)),t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"||t.type=="keyup"?e.J=Date.now():e.J+1e3<Date.now()&&(e.J=null),e.J&&t.type=="mousemove"||(e.j.style.cursor="",e.Ib=!0,e.I.stop(),e.dc()||(ul(e),Dn(e)),e.Z.stop(),t.type!="touchend"&&t.type!="keyup"&&e.J||e.Z.S(3))}function LI(e){return D.matchMedia("hover: hover").matches?e.Xb.some(function(t){return t.matches(":hover")}):!1}function Dn(e){var t=e.m?e.m.isPaused():!1,n=e.u.paused&&!e.W,i=e.h.classList.contains("shaka-keyboard-navigation");t||(!e.m||!e.m.isLinear())&&n||e.Ib||i||LI(e)?(ul(e),e.h.setAttribute("shown","true"),e.aa.stop()):e.aa.S(e.g.fadeDelay)}function uE(e){e.N&&(e.nd()?e.I.Qa():e.g.singleClickForPlayAndPause&&sE(e))}function sE(e){e.m&&e.m.isLinear()?aE(e):oE(e)}function Gp(e){var t=e.C.Ba();e.dispatchEvent(new B("caststatuschanged",new Map().set("newStatus",t))),t?e.h.setAttribute("casting","true"):e.h.removeAttribute("casting")}p.dc=function(){return this.N?this.h.getAttribute("shown")!=null||this.h.getAttribute("casting")!=null:!1};function go(e,t){e.l.changeTo(t),e.dc()&&ul(e)}function ul(e){if(e.l)if(e.l.setValue(e.u.currentTime),e.l.update(),e.l.isShowing())for(var t=m(e.H),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");else for(t=m(e.H),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");e.dispatchEvent(new B("timeandseekrangeupdated"))}function kI(e,t){e.ha.add(t.key);var n=e.nd();t.key=="Tab"&&(e.h.classList.add("shaka-keyboard-navigation"),Dn(e),e.i.o(D,"mousedown",function(){e.i.hc(D,"mousedown")})),t.key=="Escape"&&e.I.Qa(),n&&e.ha.has("Tab")&&bI(e,t)}function bI(e,t){var n=e.H.filter(function(o){return!o.classList.contains("shaka-hidden")});if(n.length){var i=n[0];if(i.childNodes.length){for(n=i.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(i=i.lastElementChild;i&&i.classList.contains("shaka-hidden");)i=i.previousElementSibling;var r=document.activeElement;e.ha.has("Shift")?r==n&&(t.preventDefault(),i.focus()):r==i&&(t.preventDefault(),n.focus())}}}function DI(){var e=new Ye("en");return e.ya("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_TIME","الإعلان: [AD_TIME]"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.ya("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.ya("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.ya("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.ya("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ya("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ya("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_TIME","Annonce : [AD_TIME]"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.ya("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_TIME","Annuncio: [AD_TIME]"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.ya("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_TIME","広告: [AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.ya("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_TIME","광고: [AD_TIME]"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.ya("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_TIME","Advertentie: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.ya("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_TIME","Reklama: [AD_TIME]"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.ya("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anúncio: [AD_TIME]"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["RESOLUTION","Resolução"],["REWIND","Retroceder"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.ya("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_TIME","Реклама: [AD_TIME]"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.ya("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_TIME","โฆษณา: [AD_TIME]"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.ya("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_TIME","Reklam: [AD_TIME]"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.ya("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_TIME","广告：[AD_TIME]"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.ya("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_TIME","廣告：[AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.Ig(navigator.languages||[]),e}N("shaka.ui.Controls",K),K.prototype.isOpaque=K.prototype.dc,K.prototype.hideAdUI=K.prototype.Wg,K.prototype.showAdUI=K.prototype.uh,K.prototype.togglePiP=K.prototype.Od,K.prototype.isPiPEnabled=K.prototype.re,K.prototype.isPiPAllowed=K.prototype.qe,K.prototype.toggleFullScreen=K.prototype.Pe,K.prototype.isFullScreenEnabled=K.prototype.Qc,K.prototype.isFullScreenSupported=K.prototype.zd,K.prototype.hideSettingsMenus=K.prototype.uc,K.prototype.anySettingsMenusAreOpen=K.prototype.nd,K.prototype.setLastTouchEventTime=K.prototype.qh,K.prototype.getDisplayTime=K.prototype.Hf,K.prototype.isCastAllowed=K.prototype.Ii,K.prototype.setSeeking=K.prototype.qg,K.prototype.isSeeking=K.prototype.Oi,K.prototype.getConfig=K.prototype.Yh,K.prototype.getClientSideAdContainer=K.prototype.Xh,K.prototype.getServerSideAdContainer=K.prototype.ti,K.prototype.getControlsContainer=K.prototype.$h,K.prototype.getLocalPlayer=K.prototype.gi,K.prototype.getPlayer=K.prototype.Mc,K.prototype.getLocalVideo=K.prototype.ii,K.prototype.getVideo=K.prototype.cc,K.prototype.getVideoContainer=K.prototype.Di,K.prototype.getLocalization=K.prototype.ji,K.prototype.getCastProxy=K.prototype.Vh,K.prototype.getAd=K.prototype.getAd,K.prototype.setEnabledNativeControls=K.prototype.ph,K.prototype.setEnabledShakaControls=K.prototype.lg,K.prototype.configure=K.prototype.configure,K.prototype.loadComplete=K.prototype.Ri,K.prototype.allowCast=K.prototype.Kh,K.registerSeekBar=function(e){lE=e},K.registerElement=ct,K.prototype.destroy=K.prototype.destroy;var zp=new Map,lE=new qp;function Ga(e,t){ue.call(this,e,t);var n=this;this.l=this.controls.g,this.j=this.controls.h,this.i=[],this.g=Qe(),this.g.classList.add("shaka-overflow-menu-button"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.g.textContent="more_vert",this.parent.appendChild(this.g),this.h=q("div"),this.h.classList.add("shaka-overflow-menu"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-hidden"),this.j.appendChild(this.h),PI(this),this.eventManager.o(this.localization,"locale-updated",function(){Kp(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Kp(n)}),this.eventManager.o(this.adManager,"ad-started",function(){n.ad&&n.ad.isLinear()&&le(n.g,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){le(n.g,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){le(n.h,!1)}),this.eventManager.o(this.h,"touchstart",function(i){n.controls.qh(Date.now()),i.stopPropagation()}),this.eventManager.o(this.g,"click",function(){RI(n)}),Kp(this),this.ad&&this.ad.isLinear()&&le(this.g,!1)}se(Ga,ue),Ga.prototype.release=function(){this.j=null;for(var e=m(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],ue.prototype.release.call(this)};function Pn(e,t){Wp.set(e,t)}function PI(e){for(var t=m(e.l.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,Wp.get(n)?(n=Wp.get(n),e.i.push(n.create(e.h,e.controls))):pe("Unrecognized overflow menu element requested:",n)}function RI(e){if(e.controls.nd())e.controls.uc();else{le(e.h,!0),Dn(e.controls);var t=function(n){return n.classList.contains("shaka-hidden")==0};Fh(e.h.childNodes,t)&&cr(e.h.childNodes,t)[0].focus()}}function Kp(e){e.g.ariaLabel=e.localization.resolve("MORE_SETTINGS")}N("shaka.ui.OverflowMenu",Ga),Ga.registerElement=Pn;function dE(){}dE.prototype.create=function(e,t){return new Ga(e,t)},ct("overflow_menu",new dE);var Wp=new Map;function Xp(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=q("i"),this.h.classList.add("material-icons-round"),this.h.textContent="airplay",this.g.appendChild(this.h),D.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),e=q("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=q("span"),e.appendChild(this.j),this.i=q("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),Yp(this),cE(this),this.eventManager.o(this.localization,"locale-updated",function(){Yp(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Yp(n)}),this.eventManager.o(this.g,"click",function(){n.controls.cc().webkitShowPlaybackTargetPicker()}),e=this.controls.cc(),this.eventManager.o(e,"webkitplaybacktargetavailabilitychanged",function(i){var r=n.player.ie()==ft;le(n.g,i.availability=="available"&&r)}),this.eventManager.o(e,"webkitcurrentplaybacktargetiswirelesschanged",function(){cE(n)})}se(Xp,ue);function cE(e){var t=e.controls.cc();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function Yp(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.j.textContent=e.localization.resolve("AIRPLAY")}N("shaka.ui.AirPlayButton",Xp);function $p(){}$p.prototype.create=function(e,t){return new Xp(e,t)},Pn("airplay",new $p),ct("airplay",new $p);function wt(e,t,n){this.i=e,this.j=t,this.h=sl(this),t.dataset.shakaPlayerContainer="",t.ui=this,this.Nf()&&t.classList.add("shaka-mobile"),this.g=new K(e,t,n,this.h),this.configure({}),n.controls||e.rg(t),t.ui=this,n.ui=this}p=wt.prototype,p.destroy=function(){var e=this;return C(function(t){if(t.g==1)return e.g?y(t,e.g.destroy(),2):t.F(2);if(t.g!=4)return e.g=null,e.i?y(t,e.i.destroy(),4):t.F(4);e.i=null,O(t)})},p.Nf=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:qo()&&1<navigator.maxTouchPoints},p.getConfiguration=function(){var e=sl(this);return aa(e,this.h,sl(this),{},""),e},p.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=zu(e,t)),aa(this.h,e,sl(this),{},""),this.h.castReceiverAppId&&!this.h.overflowMenuButtons.includes("cast")&&this.h.overflowMenuButtons.push("cast"),this.g.configure(this.h),this.g.dispatchEvent(new B("uiupdated"))},p.Zh=function(){return this.g},p.tj=function(e){this.g.lg(e)};function sl(e){var t={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language picture_in_picture cast playback_rate".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),contextMenuElements:["loop","picture_in_picture","statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:Jp,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1,keyboardSeekDistance:5,keyboardLargeSeekDistance:60,fullScreenElement:e.j,preferDocumentPictureInPicture:!0,showAudioChannelCountVariants:!0,seekOnTaps:!0,tapSeekDistance:10};return"remote"in HTMLMediaElement.prototype?t.overflowMenuButtons.push("remote"):D.WebKitPlaybackTargetAvailabilityEvent&&t.overflowMenuButtons.push("airplay"),e.Nf()&&(t.addBigPlayButton=!0,t.controlPanelElements=t.controlPanelElements.filter(function(n){return n!="play_pause"&&n!="volume"})),t}function pE(){var e,t,n,i,r,o,a,u,s,l,d,c,f,h,g,v,E,S,T,A,w;return C(function(x){switch(x.g){case 1:if(Cy(),!vg())return Qp("shaka-ui-load-failed",fE),x.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),!t.length&&!e.length){x.F(2);break}if(t.length&&!e.length){for(i=m(t),r=i.next();!r.done;r=i.next())if(o=r.value,!o.ui){for(a=document.createElement("div"),u=o.parentElement,u.replaceChild(a,o),a.appendChild(o),s=null,l=m(n),d=l.next();!d.done;d=l.next())if(c=d.value,c.parentElement==a){s=c;break}s||(s=document.createElement("canvas"),s.classList.add("shaka-canvas-container"),a.appendChild(s)),hE(a,o,s)}x.F(2);break}f=m(e),h=f.next();case 4:if(h.done){x.F(2);break}if(g=h.value,g.ui){x.F(5);break}for(v=null,E=m(t),r=E.next();!r.done;r=E.next())if(S=r.value,S.parentElement==g){v=S;break}for(v||(v=document.createElement("video"),v.setAttribute("playsinline",""),g.appendChild(v)),T=null,A=m(n),d=A.next();!d.done;d=A.next())if(w=d.value,w.parentElement==g){T=w;break}return T||(T=document.createElement("canvas"),T.classList.add("shaka-canvas-container"),g.appendChild(T)),$(x,7),y(x,hE(g,v,T),9);case 9:oe(x,5);break;case 7:return Q(x),Qp("shaka-ui-load-failed",mE),x.return();case 5:h=f.next(),x.F(4);break;case 2:Qp("shaka-ui-loaded"),O(x)}})}function Qp(e,t){var n=null;t!=null&&(n={reasonCode:t}),e=new CustomEvent(e,{detail:n}),document.dispatchEvent(e)}function hE(e,t,n){var i,r,o,a,u,s,l,d,c;return C(function(f){switch(f.g){case 1:i=new P,r=new wt(i,e,t),i.Eg(n),o="",a=!1,e.dataset&&e.dataset.shakaPlayerCastReceiverId?(o=e.dataset.shakaPlayerCastReceiverId,a=e.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"):t.dataset&&t.dataset.shakaPlayerCastReceiverId&&(o=t.dataset.shakaPlayerCastReceiverId,a=t.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"),o.length&&r.configure({castReceiverAppId:o,castAndroidReceiverCompatible:a}),t.controls&&r.g.ph(!0),(u=t.getAttribute("src"))&&(s=document.createElement("source"),s.setAttribute("src",u),t.appendChild(s),t.removeAttribute("src")),l=m(t.querySelectorAll("source")),d=l.next();case 2:if(d.done){f.F(4);break}return c=d.value,$(f,5),y(f,r.g.Mc().load(c.getAttribute("src")),7);case 7:f.F(4);break;case 5:Q(f);case 3:d=l.next(),f.F(2);break;case 4:return y(f,i.Gc(t),0)}})}N("shaka.ui.Overlay",wt),wt.prototype.setEnabled=wt.prototype.tj,wt.prototype.getControls=wt.prototype.Zh,wt.prototype.configure=wt.prototype.configure,wt.prototype.getConfiguration=wt.prototype.getConfiguration,wt.prototype.isMobile=wt.prototype.Nf,wt.prototype.destroy=wt.prototype.destroy;var Jp=0;wt.TrackLabelFormat={LANGUAGE:Jp,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var fE=0,mE=1;wt.FailReasonCode={NO_BROWSER_SUPPORT:fE,PLAYER_FAILED_TO_LOAD:mE},document.readyState=="complete"?C(function(e){if(e.g==1)return y(e,Promise.resolve(),2);pE(),O(e)}):D.addEventListener("load",pE);function gE(e,t,n,i,r,o,a,u){function s(b){var L="";return 5<=b&&(L=" "+o.resolve("SURROUND")),L}function l(b,L,k,R){return b=[b,L],u&&R!=null&&b.push(R),k&&a==3&&b.push(k),b.join(": ")}function d(b){return b.type=="variant"?b.audioRoles?b.audioRoles.join(", "):void 0:b.roles.join(", ")}var c=e.find(function(b){return b.active==1}),f=$1(t);yi(t),t.appendChild(f),f=new Map;for(var h=m(e),g=h.next();!g.done;g=h.next())g=g.value,f.has(g.language)||f.set(g.language,new Set),f.get(g.language).add(d(g));for(f=new Set,c=c?l(c.language,d(c),c.label,c.channelsCount):"",h={},e=m(e),g=e.next();!g.done;h={vb:h.vb},g=e.next()){h.vb=g.value,g=h.vb.language;var v=h.vb.forced,E=o.resolve("SUBTITLE_FORCED"),S=d(h.vb),T=h.vb.label,A=h.vb.channelsCount,w=l(g,S,T,A);if(!f.has(w)){f.add(w);var x=Qe();x.addEventListener("click",function(b){return function(){n(b.vb)}}(h));var M=q("span");switch(x.appendChild(M),M.textContent=NI(g,o),a){case Jp:u&&(M.textContent+=s(A)),v&&(M.textContent+=" ("+E+")");break;case 1:u&&(M.textContent+=s(A)),S?M.textContent=S:(pe("Track #"+h.vb.id+" does not have a role, but the UI is configured to only show role."),M.textContent="?"),v&&(M.textContent+=" ("+E+")");break;case 2:u&&(M.textContent+=s(A)),S&&(M.textContent+=": "+S),v&&(M.textContent+=" ("+E+")");break;case 3:T?M.textContent=T:(pe("Track #"+h.vb.id+" does not have a label, but the UI is configured to only show labels."),M.textContent="?")}i&&w==c&&(x.appendChild(po()),M.classList.add("shaka-chosen-item"),x.ariaSelected="true",r.textContent=M.textContent),t.appendChild(x)}}}function NI(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=hr(e);return e in nr?nr[e].A:n in nr?nr[n].A+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function Bn(e,t,n){ue.call(this,e,t);var i=this;_I(this,n),UI(this),OI(this),this.eventManager.o(this.button,"click",function(){i.menu.classList.contains("shaka-hidden")?(i.controls.dispatchEvent(new B("submenuopen")),le(i.menu,!0),Ha(i.menu)):le(i.menu,!1)})}se(Bn,ue);function _I(e,t){e.button=Qe(),e.button.classList.add("shaka-overflow-button"),e.icon=q("i"),e.icon.classList.add("material-icons-round"),e.icon.textContent=t,e.button.appendChild(e.icon),t=q("label"),t.classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),e.nameSpan=q("span"),t.appendChild(e.nameSpan),e.currentSelection=q("span"),e.currentSelection.classList.add("shaka-current-selection-span"),t.appendChild(e.currentSelection),e.button.appendChild(t),e.parent.appendChild(e.button)}function UI(e){e.menu=q("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=Qe(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.o(e.backButton,"click",function(){e.controls.uc()});var t=q("i");t.classList.add("material-icons-round"),t.textContent="close",e.backButton.appendChild(t),e.backSpan=q("span"),e.backButton.appendChild(e.backSpan),e.controls.h.appendChild(e.menu)}function OI(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.backButton.firstChild.textContent="arrow_back",e.eventManager.o(e.backButton,"click",function(){function t(n){return n.classList.contains("shaka-hidden")==0}le(e.parent,!0),Fh(e.parent.childNodes,t)&&cr(e.parent.childNodes,t)[0].focus(),Dn(e.controls)}))}N("shaka.ui.SettingsMenu",Bn);function Zp(e,t){Bn.call(this,e,t,"language");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){th(n)}),this.eventManager.o(this.localization,"locale-changed",function(){th(n)}),this.eventManager.o(this.player,"trackschanged",function(){var i=0<n.player.mb().length;le(n.button,i),eh(n)}),this.eventManager.o(this.player,"variantchanged",function(){eh(n)}),th(this),eh(this)}se(Zp,Bn);function eh(e){var t=e.player.mb();gE(t,e.menu,function(n){n.channelsCount&&e.controls.g.showAudioChannelCountVariants?e.player.Le(n.language,n.roles[0],n.channelsCount):e.player.Le(n.language,n.roles[0])},!0,e.currentSelection,e.localization,e.controls.g.trackLabelFormat,e.controls.g.showAudioChannelCountVariants),Ha(e.menu),e.controls.dispatchEvent(new B("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText),le(e.button,2<e.menu.getElementsByTagName("button").length)}function th(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}N("shaka.ui.AudioLanguageSelection",Zp);function nh(){}nh.prototype.create=function(e,t){return new Zp(e,t)},Pn("language",new nh),ct("language",new nh);function ih(e,t){ue.call(this,e,t);var n=this;this.h=this.controls.C,this.g=Qe(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=q("i"),this.i.classList.add("material-icons-round"),this.i.textContent="cast",this.g.appendChild(this.i),e=q("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=q("span"),e.appendChild(this.l),this.j=q("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),rh(this),vE(this),this.eventManager.o(this.localization,"locale-updated",function(){rh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){rh(n)}),this.eventManager.o(this.g,"click",function(){VI(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){vE(n)})}se(ih,ue);function VI(e){var t;C(function(n){if(n.g==1)return e.h.Ba()?(e.h.vh(),n.F(0)):($(n,3),e.g.disabled=!0,y(n,e.h.cast(),5));if(n.g!=3)return e.g.disabled=!1,oe(n,0);t=Q(n),e.g.disabled=!1,t.code!=8004&&e.controls.dispatchEvent(new B("error",new Map().set("detail",t))),O(n)})}function vE(e){var t=e.h.kf()&&e.controls.ua,n=e.h.Ba();le(e.g,t),e.i.textContent=n?"cast_connected":"cast",t&&(e.g.ariaPressed=n?"true":"false"),yE(e)}function yE(e){e.j.textContent=e.h.Ba()?e.h.Je():e.localization.resolve("OFF")}function rh(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.l.textContent=e.localization.resolve("CAST"),yE(e)}N("shaka.ui.CastButton",ih);function oh(){}oh.prototype.create=function(e,t){return new ih(e,t)},Pn("cast",new oh),ct("cast",new oh);function ah(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),this.g.textContent="fast_forward",this.parent.appendChild(this.g),uh(this),this.h=this.controls.g.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){uh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){uh(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.Nb())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Pd(i),n.g.setAttribute("shaka-status",i+"x")}})}se(ah,ue);function uh(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}N("shaka.ui.FastForwardButton",ah);function EE(){}EE.prototype.create=function(e,t){return new ah(e,t)},ct("fast_forward",new EE);function sh(e,t){ue.call(this,e,t);var n=this;this.h=this.controls.s,this.g=Qe(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),lh(this),this.g.textContent="fullscreen",this.parent.appendChild(this.g),ll(this),this.eventManager.o(this.localization,"locale-updated",function(){ll(n)}),this.eventManager.o(this.localization,"locale-changed",function(){ll(n)}),this.eventManager.o(this.g,"click",function(){return C(function(i){return y(i,n.controls.Pe(),0)})}),this.eventManager.o(document,"fullscreenchange",function(){n.g.textContent=n.controls.Qc()?"fullscreen_exit":"fullscreen",ll(n)}),this.eventManager.o(this.h,"loadedmetadata",function(){lh(n)}),this.eventManager.o(this.h,"loadeddata",function(){lh(n)})}se(sh,ue);function lh(e){e.controls.zd()?e.g.classList.remove("shaka-hidden"):e.g.classList.add("shaka-hidden")}function ll(e){e.g.ariaLabel=e.localization.resolve(e.controls.Qc()?"EXIT_FULL_SCREEN":"FULL_SCREEN")}N("shaka.ui.FullscreenButton",sh);function TE(){}TE.prototype.create=function(e,t){return new sh(e,t)},ct("fullscreen",new TE);function dl(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.i=q("i"),this.i.classList.add("material-icons-round"),this.i.textContent="repeat",this.g.appendChild(this.i),e=q("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=q("span"),this.j.textContent=this.localization.resolve("LOOP"),e.appendChild(this.j),this.l=q("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.g.appendChild(e),cl(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){cl(n)}),this.eventManager.o(this.localization,"locale-changed",function(){cl(n)}),this.eventManager.o(this.g,"click",function(){n.video.loop=!n.video.loop,n.h.Qa(),n.h.za(1)}),this.m=this.video.loop,this.h=new re(function(){n.m!=n.video.loop&&(cl(n),n.m=n.video.loop)}),this.h.za(1)}se(dl,ue),dl.prototype.release=function(){this.h.stop(),this.h=null,ue.prototype.release.call(this)};function cl(e){e.j.textContent=e.localization.resolve("LOOP"),e.l.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.i.textContent=e.video.loop?"repeat_on":"repeat",e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}N("shaka.ui.LoopButton",dl);function pl(){}pl.prototype.create=function(e,t){return new dl(e,t)},Pn("loop",new pl),ct("loop",new pl),ol("loop",new pl);function dh(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.parent.appendChild(this.g),ir(this),za(this),this.eventManager.o(this.localization,"locale-updated",function(){ir(n)}),this.eventManager.o(this.localization,"locale-changed",function(){ir(n)}),this.eventManager.o(this.g,"click",function(){n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted=!n.video.muted}),this.eventManager.o(this.video,"volumechange",function(){ir(n),za(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){ir(n),za(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){ir(n),za(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null,ir(n),za(n)})}se(dh,ue);function ir(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t)}function za(e){var t=e.ad?e.ad.isMuted()?"volume_off":"volume_up":e.video.muted?"volume_off":"volume_up";e.g.textContent=t}N("shaka.ui.MuteButton",dh);function SE(){}SE.prototype.create=function(e,t){return new dh(e,t)},ct("mute",new SE);function ch(e,t){ue.call(this,e,t);var n=this;this.l=this.controls.s,this.g=Qe(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.i=q("i"),this.i.classList.add("material-icons-round"),this.i.textContent="picture_in_picture_alt",this.g.appendChild(this.i),e=q("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=q("span"),this.j.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),e.appendChild(this.j),this.h=q("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),ph(this),this.parent.appendChild(this.g),this.controls.qe()||le(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){ph(n)}),this.eventManager.o(this.localization,"locale-changed",function(){ph(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Od()}),this.eventManager.o(this.l,"enterpictureinpicture",function(){wE(n)}),this.eventManager.o(this.l,"leavepictureinpicture",function(){AE(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){xE(n)}),this.eventManager.o(this.player,"trackschanged",function(){xE(n)}),"documentPictureInPicture"in D&&this.eventManager.o(D.documentPictureInPicture,"enter",function(i){wE(n),n.eventManager.na(i.window,"pagehide",function(){AE(n)})})}se(ch,ue);function wE(e){e.i.textContent="branding_watermark",e.g.ariaLabel=e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("ON")}function AE(e){e.i.textContent="picture_in_picture_alt",e.g.ariaLabel=e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("OFF")}function ph(e){e.j.textContent=e.localization.resolve("PICTURE_IN_PICTURE");var t=e.controls.re();e.g.ariaLabel=e.localization.resolve(t?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(t?"ON":"OFF")}function xE(e){C(function(t){return e.controls.qe()&&(!e.player||!e.player.Pc())?(le(e.g,!0),t.F(0)):(le(e.g,!1),e.controls.re()?y(t,e.controls.Od(),0):t.F(0))})}N("shaka.ui.PipButton",ch);function hl(){}hl.prototype.create=function(e,t){return new ch(e,t)},Pn("picture_in_picture",new hl),ct("picture_in_picture",new hl),ol("picture_in_picture",new hl);function hh(e,t){Bn.call(this,e,t,"slow_motion_video");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.o(this.localization,"locale-updated",function(){fh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){fh(n)}),this.eventManager.o(this.player,"loaded",function(){mh(n,n.player.Nb())}),this.eventManager.o(this.player,"ratechange",function(){mh(n,n.player.Nb())}),this.g=new Map(this.controls.g.playbackRates.map(function(i){return[i+"x",i]})),fh(this),HI(this),mh(this,this.player.Nb())}se(hh,Bn);function fh(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function mh(e,t){var n=Op(e.menu,"material-icons-round shaka-chosen-item");if(n){var i=n.parentElement;i.removeAttribute("aria-selected"),i.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),i.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(r){return e.g.get(r.textContent)==t}))&&(i=n.parentElement,i.appendChild(po()),i.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x")}function HI(e){for(var t={},n=m(e.g.keys()),i=n.next();!i.done;t={cd:t.cd},i=n.next()){t.cd=i.value,i=Qe();var r=q("span");r.textContent=t.cd,i.appendChild(r),e.eventManager.o(i,"click",function(o){return function(){e.video.playbackRate=e.g.get(o.cd),e.video.defaultPlaybackRate=e.g.get(o.cd)}}(t)),e.menu.appendChild(i)}Ha(e.menu)}N("shaka.ui.PlaybackRateSelection",hh);function gh(){}gh.prototype.create=function(e,t){return new hh(e,t)},Pn("playback_rate",new gh),ct("playback_rate",new gh);function vh(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("shaka-current-time"),fl(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){n.player.R()&&(n.video.currentTime=n.player.Ha().end)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var i=n.controls.W,r=n.controls.Hf(),o=n.player.Ha(),a=o.end-o.start;n.player.R()?(r=Math.max(0,Math.floor(o.end-r)),a=3600<=a,1<=r||i?(fl(n,"- "+ho(r,a)),n.g.disabled=!1):(fl(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(i=3600<=a,r=ho(Math.max(0,r-o.start),i),a&&(r+=" / "+ho(a,i)),fl(n,r),n.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){n.player.R()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))})}se(vh,ue);function fl(e,t){t!=e.g.textContent&&(e.g.textContent=t)}N("shaka.ui.PresentationTimeTracker",vh);function CE(){}CE.prototype.create=function(e,t){return new vh(e,t)},ct("time_and_duration",new CE);function ml(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("shaka-remote-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=q("i"),this.i.classList.add("material-icons-round"),e="cast",(t=xr())&&13<=t&&(e="airplay"),this.i.textContent=e,this.g.appendChild(this.i),e=q("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=q("span"),e.appendChild(this.l),this.j=q("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),this.h=-1,yh(this),le(this.g,!1),!this.video.remote||this.video.disableRemotePlayback?this.g.classList.add("shaka-hidden"):(this.eventManager.o(this.localization,"locale-updated",function(){yh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){yh(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){vo(n)}),this.eventManager.o(this.g,"click",function(){n.video.remote.prompt()}),this.eventManager.o(this.video.remote,"connect",function(){vo(n)}),this.eventManager.o(this.video.remote,"connecting",function(){vo(n)}),this.eventManager.o(this.video.remote,"disconnect",function(){vo(n)}),this.eventManager.o(this.player,"loaded",function(){vo(n)}),vo(this))}se(ml,ue),ml.prototype.release=function(){this.video.remote&&this.h!=-1&&this.video.remote.cancelWatchAvailability(this.h).catch(function(){}),ue.prototype.release.call(this)};function vo(e){var t,n;C(function(i){switch(i.g){case 1:if(e.controls.C.kf()&&e.controls.ua){le(e.g,!1),e.h!=-1&&(e.video.remote.cancelWatchAvailability(e.h),e.h=-1),i.F(0);break}if(e.video.remote.state=="disconnected"){if(t=function(r){e.player?le(e.g,e.player.ie()==ft&&r):le(e.g,!1)},$(i,7),e.h==-1){i.F(9);break}return y(i,e.video.remote.cancelWatchAvailability(e.h),10)}if(e.h==-1){i.F(0);break}return y(i,e.video.remote.cancelWatchAvailability(e.h),6);case 6:e.h=-1,i.F(0);break;case 10:e.h=-1;case 9:oe(i,8);break;case 7:Q(i);case 8:return $(i,11),y(i,e.video.remote.watchAvailability(t),13);case 13:n=i.h,e.h=n,oe(i,0);break;case 11:Q(i),t(!0),O(i)}})}function yh(e){var t=e.localization.resolve("CAST"),n=xr();n&&13<=n&&(t=e.localization.resolve("AIRPLAY")),e.g.ariaLabel=t,e.l.textContent=t}N("shaka.ui.RemoteButton",ml);function Eh(){}Eh.prototype.create=function(e,t){return new ml(e,t)},Pn("remote",new Eh),ct("remote",new Eh);function Th(e,t){Bn.call(this,e,t,"settings");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.o(this.localization,"locale-updated",function(){Sh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Sh(n)}),this.eventManager.o(this.player,"variantchanged",function(){Ka(n)}),this.eventManager.o(this.player,"trackschanged",function(){Ka(n)}),this.eventManager.o(this.player,"abrstatuschanged",function(){Ka(n)}),Ka(this)}se(Th,Bn);function Ka(e){var t=[];e.player.ie()!=ft&&(t=e.player.mb());var n=t.find(function(s){return s.active});n&&(t=t.filter(function(s){return s.language==n.language&&s.channelsCount==n.channelsCount})),t=t.filter(function(s,l){var d=-1;return d=e.player.Pc()?t.findIndex(function(c){return c.bandwidth==s.bandwidth}):t.findIndex(function(c){return c.height==s.height&&c.frameRate==s.frameRate&&c.hdr==s.hdr&&c.videoLayout==s.videoLayout}),d==l}),e.player.Pc()?t.sort(function(s,l){return l.bandwidth-s.bandwidth}):t.sort(function(s,l){return l.height-s.height});var i=$1(e.menu);yi(e.menu),e.menu.appendChild(i),i=e.player.getConfiguration().abr.enabled;for(var r={},o=m(t),a=o.next();!a.done;r={Hb:r.Hb},a=o.next()){r.Hb=a.value,a=Qe(),a.classList.add("explicit-resolution"),e.eventManager.o(a,"click",function(s){return function(){var l=s.Hb;e.player.configure({abr:{enabled:!1}}),e.player.Me(l,e.controls.g.clearBufferOnQualityChange)}}(r));var u=q("span");u.textContent=e.player.Pc()&&r.Hb.bandwidth?Math.round(r.Hb.bandwidth/1e3)+" kbits/s":r.Hb.height&&r.Hb.width?jI(r.Hb):"Unknown",a.appendChild(u),i||r.Hb!=n||(a.ariaSelected="true",a.appendChild(po()),u.classList.add("shaka-chosen-item"),e.currentSelection.textContent=u.textContent),e.menu.appendChild(a)}r=Qe(),r.classList.add("shaka-enable-abr-button"),e.eventManager.o(r,"click",function(){e.player.configure({abr:{enabled:!0}}),Ka(e)}),e.g=q("span"),e.g.classList.add("shaka-auto-span"),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),r.appendChild(e.g),i&&(r.ariaSelected="true",r.appendChild(po()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(r),Ha(e.menu),e.controls.dispatchEvent(new B("resolutionselectionupdated")),Sh(e),le(e.button,0<t.length)}function jI(e){var t=e.height||0,n=e.width||0,i=t;return n/t>16/9&&(i=Math.round(9*n/16)),t=i+"p",i==2160&&(t="4K"),(i=e.frameRate)&&(50<=i||20>=i)&&(t+=Math.round(e.frameRate)),(e.hdr=="PQ"||e.hdr=="HLG")&&(t+=" (HDR)"),e.videoLayout=="CH-STEREO"&&(t+=" (3D)"),t}function Sh(e){var t=e.player.Pc()?"QUALITY":"RESOLUTION";e.button.ariaLabel=e.localization.resolve(t),e.backButton.ariaLabel=e.localization.resolve(t),e.backSpan.textContent=e.localization.resolve(t),e.nameSpan.textContent=e.localization.resolve(t),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}N("shaka.ui.ResolutionSelection",Th);function wh(){}wh.prototype.create=function(e,t){return new Th(e,t)},Pn("quality",new wh),ct("quality",new wh);function Ah(e,t){ue.call(this,e,t);var n=this;this.g=Qe(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),this.g.textContent="fast_rewind",this.parent.appendChild(this.g),xh(this),this.h=this.controls.g.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){xh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){xh(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.Nb())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Pd(i),n.g.setAttribute("shaka-status",i+"x")}})}se(Ah,ue);function xh(e){e.g.ariaLabel=e.localization.resolve("REWIND")}N("shaka.ui.RewindButton",Ah);function IE(){}IE.prototype.create=function(e,t){return new Ah(e,t)},ct("rewind",new IE);function Ch(e,t){ue.call(this,e,t);var n=this;this.j=q("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=q("div"),this.h.classList.add("shaka-skip-ad-counter"),le(this.h,!1),this.j.appendChild(this.h),this.g=Qe(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,le(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),Ih(this),this.i=new re(function(){var i=Math.round(n.ad.getTimeUntilSkippable());0<i?n.h.textContent=i:(n.i.stop(),le(n.h,!1))}),this.eventManager.o(this.localization,"locale-updated",function(){Ih(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Ih(n)}),this.eventManager.o(this.adManager,"ad-started",function(){ME(n)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),le(n.h,!1))}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.i.stop(),n.g.disabled=!0,le(n.g,!1),le(n.h,!1)}),this.eventManager.o(this.g,"click",function(){n.ad.skip()}),this.ad&&ME(this)}se(Ch,ue),Ch.prototype.release=function(){this.i.stop(),this.i=null,ue.prototype.release.call(this)};function Ih(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function ME(e){e.ad.isSkippable()&&(le(e.g,!0),le(e.h,!0),e.h.textContent="",e.i.Qa(),e.i.za(.5))}N("shaka.ui.SkipAdButton",Ch);function Wa(e,t){jn.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.h(),this.g()}se(Wa,jn),Wa.prototype.h=function(){this.isEnded()?this.button.textContent="replay":this.button.textContent=this.isPaused()?"play_arrow":"pause"},Wa.prototype.g=function(){if(this.isEnded())this.button.ariaLabel=this.localization.resolve("REPLAY");else{var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)}},N("shaka.ui.SmallPlayButton",Wa);function LE(){}LE.prototype.create=function(e,t){return new Wa(e,t)},ct("play_pause",new LE);function Mh(e,t){ue.call(this,e,t),e=q("div"),e.classList.add("shaka-spacer"),e.ariaHidden="true",this.parent.appendChild(e)}se(Mh,ue),N("shaka.ui.Spacer",Mh);function kE(){}kE.prototype.create=function(e,t){return new Mh(e,t)},ct("spacer",new kE);function gl(e,t){function n(s){return ho(u.h[s],!1)+" (m)"}function i(s){return Math.round(u.h[s]/1e3)+" (kbits/s)"}function r(s){return u.h[s].toFixed(2)+" (s)"}function o(s){return u.h[s]+" (frames)"}function a(s){return u.h[s]+" (px)"}ue.call(this,e,t);var u=this;this.i=Qe(),this.i.classList.add("shaka-statistics-button"),this.j=q("i"),this.j.classList.add("material-icons-round"),this.j.textContent="insert_chart_outlined",this.i.appendChild(this.j),e=q("label"),e.classList.add("shaka-overflow-button-label"),this.s=q("span"),e.appendChild(this.s),this.m=q("span"),this.m.classList.add("shaka-current-selection-span"),e.appendChild(this.m),this.i.appendChild(e),this.parent.appendChild(this.i),this.g=q("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.h.appendChild(this.g),this.D=[],this.G=["stateHistory","switchHistory"],this.h=this.player.getStats(),this.u={},this.C={width:a,height:a,completionPercent:function(s){return u.h[s]+" (%)"},bufferingTime:r,drmTimeSeconds:r,licenseTime:r,liveLatency:r,loadLatency:r,manifestTimeSeconds:r,estimatedBandwidth:i,streamBandwidth:i,maxSegmentDuration:n,pauseTime:n,playTime:n,corruptedFrames:o,decodedFrames:o,droppedFrames:o,stallsDetected:function(s){return u.h[s]+" (stalls)"},gapsJumped:function(s){return u.h[s]+" (gaps)"}},this.l=new re(function(){u.h=u.player.getStats();for(var s=m(u.D),l=s.next();!l.done;l=s.next())l=l.value,u.u[l].textContent=u.C[l](l)}),vl(this),BI(this),this.eventManager.o(this.localization,"locale-updated",function(){vl(u)}),this.eventManager.o(this.localization,"locale-changed",function(){vl(u)}),this.eventManager.o(this.i,"click",function(){le(u.parent,!1),u.g.classList.contains("shaka-hidden")?(u.j.textContent="insert_chart",u.l.za(.1),le(u.g,!0)):(u.j.textContent="insert_chart_outlined",u.l.stop(),le(u.g,!1)),vl(u)})}se(gl,ue);function vl(e){e.s.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.m.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function BI(e){for(var t=m(e.controls.g.statisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.h&&!e.G.includes(n)){var i=e.g,r=i.appendChild,o=e,a=q("div"),u=q("label");u.textContent=n+":",a.appendChild(u),u=q("span"),u.textContent=o.C[n](n),a.appendChild(u),o.u[n]=u,r.call(i,a),e.D.push(n)}else pe("Unrecognized statistic element:",n)}gl.prototype.release=function(){this.l.stop(),this.l=null,ue.prototype.release.call(this)},N("shaka.ui.StatisticsButton",gl);function Lh(){}Lh.prototype.create=function(e,t){return new gl(e,t)},Pn("statistics",new Lh),ol("statistics",new Lh);function kh(e,t){Bn.call(this,e,t,"closed_caption");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.xc()?this.button.ariaPressed="true":this.button.ariaPressed="false",FI(this),this.eventManager.o(this.localization,"locale-updated",function(){bh(n),rr(n)}),this.eventManager.o(this.localization,"locale-changed",function(){bh(n),rr(n)}),this.eventManager.o(this.player,"texttrackvisibility",function(){bE(n),rr(n)}),this.eventManager.o(this.player,"textchanged",function(){rr(n)}),this.eventManager.o(this.player,"trackschanged",function(){DE(n)}),bE(this),bh(this),rr(this),DE(this)}se(kh,Bn);function FI(e){var t=Qe();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(po()),e.g=q("span"),e.g.classList.add("shaka-auto-span"),t.appendChild(e.g)}function bE(e){e.player.xc()?(e.icon.textContent="closed_caption",e.button.ariaPressed="true"):(e.icon.textContent="closed_caption_disabled",e.button.ariaPressed="false"),e.controls.dispatchEvent(new B("captionselectionupdated"))}function rr(e){var t=e.player.bc();gE(t,e.menu,function(n){return qI(e,n)},e.player.xc(),e.currentSelection,e.localization,e.controls.g.trackLabelFormat,e.controls.g.showAudioChannelCountVariants),t=Qe(),t.classList.add("shaka-turn-captions-off-button"),e.eventManager.o(t,"click",function(){e.player.Oe(!1),rr(e)}),t.appendChild(e.g),e.menu.appendChild(t),e.player.xc()||(t.ariaSelected="true",t.appendChild(po()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),Ha(e.menu),e.controls.dispatchEvent(new B("captionselectionupdated"))}function qI(e,t){return C(function(n){return e.player.jg(t),y(n,e.player.Oe(!0),0)})}function bh(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}function DE(e){var t=0<e.player.bc().length;le(e.button,t),rr(e)}N("shaka.ui.TextSelection",kh);function Dh(){}Dh.prototype.create=function(e,t){return new kh(e,t)},Pn("captions",new Dh),ct("captions",new Dh);function yl(e,t){Je.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.g=this.controls.g,this.setRange(0,100),this.eventManager.o(this.video,"volumechange",function(){return Ph(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return PE(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){return PE(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){return Ph(n)}),this.eventManager.o(this.localization,"locale-updated",function(){return Rh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Rh(n)}),Ph(this),Rh(this),this.ad&&this.onChange()}se(yl,Je),yl.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()/100):(this.video.volume=this.getValue()/100,this.video.muted=this.video.volume==0)};function Ph(e){e.video.muted?e.setValue(0):e.setValue(100*e.video.volume),RE(e)}function PE(e){var t=e.ad.getVolume();e.setValue(100*t),RE(e)}function RE(e){var t=e.g.volumeBarColors,n=["to right"];n.push(t.level+e.getValue()+"%"),n.push(t.base+e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function Rh(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}N("shaka.ui.VolumeBar",yl);function NE(){}NE.prototype.create=function(e,t){return new yl(e,t)},ct("volume",new NE)}).call(at,Xe,Xe,void 0);for(var wn in at.shaka)xe[wn]=at.shaka[wn]})()})(Vh);const El=zI(Vh),un=({...xe})=>Ee("source",{...xe});try{source.displayName="source",source.__docgenInfo={description:"",displayName:"source",props:{ref:{defaultValue:null,description:"Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref).\n@see {@link https://react.dev/learn/referencing-values-with-refs#refs-and-the-dom React Docs}",name:"ref",required:!1,type:{name:"LegacyRef<HTMLSourceElement>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},media:{defaultValue:null,description:"",name:"media",required:!1,type:{name:"string"}},sizes:{defaultValue:null,description:"",name:"sizes",required:!1,type:{name:"string"}},src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string"}},srcSet:{defaultValue:null,description:"",name:"srcSet",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | readonly string[]"}},suppressContentEditableWarning:{defaultValue:null,description:"",name:"suppressContentEditableWarning",required:!1,type:{name:"boolean"}},suppressHydrationWarning:{defaultValue:null,description:"",name:"suppressHydrationWarning",required:!1,type:{name:"boolean"}},accessKey:{defaultValue:null,description:"",name:"accessKey",required:!1,type:{name:"string"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},contentEditable:{defaultValue:null,description:"",name:"contentEditable",required:!1,type:{name:'"inherit" | Booleanish | "plaintext-only"'}},contextMenu:{defaultValue:null,description:"",name:"contextMenu",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!1,type:{name:"Booleanish"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},nonce:{defaultValue:null,description:"",name:"nonce",required:!1,type:{name:"string"}},slot:{defaultValue:null,description:"",name:"slot",required:!1,type:{name:"string"}},spellCheck:{defaultValue:null,description:"",name:"spellCheck",required:!1,type:{name:"Booleanish"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:'"no" | "yes"'}},radioGroup:{defaultValue:null,description:"",name:"radioGroup",required:!1,type:{name:"string"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"AriaRole"}},about:{defaultValue:null,description:"",name:"about",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},datatype:{defaultValue:null,description:"",name:"datatype",required:!1,type:{name:"string"}},inlist:{defaultValue:null,description:"",name:"inlist",required:!1,type:{name:"any"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"string"}},property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"string"}},rel:{defaultValue:null,description:"",name:"rel",required:!1,type:{name:"string"}},resource:{defaultValue:null,description:"",name:"resource",required:!1,type:{name:"string"}},rev:{defaultValue:null,description:"",name:"rev",required:!1,type:{name:"string"}},typeof:{defaultValue:null,description:"",name:"typeof",required:!1,type:{name:"string"}},vocab:{defaultValue:null,description:"",name:"vocab",required:!1,type:{name:"string"}},autoCapitalize:{defaultValue:null,description:"",name:"autoCapitalize",required:!1,type:{name:"string"}},autoCorrect:{defaultValue:null,description:"",name:"autoCorrect",required:!1,type:{name:"string"}},autoSave:{defaultValue:null,description:"",name:"autoSave",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},itemProp:{defaultValue:null,description:"",name:"itemProp",required:!1,type:{name:"string"}},itemScope:{defaultValue:null,description:"",name:"itemScope",required:!1,type:{name:"boolean"}},itemType:{defaultValue:null,description:"",name:"itemType",required:!1,type:{name:"string"}},itemID:{defaultValue:null,description:"",name:"itemID",required:!1,type:{name:"string"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"string"}},results:{defaultValue:null,description:"",name:"results",required:!1,type:{name:"number"}},security:{defaultValue:null,description:"",name:"security",required:!1,type:{name:"string"}},unselectable:{defaultValue:null,description:"",name:"unselectable",required:!1,type:{name:'"off" | "on"'}},inputMode:{defaultValue:null,description:`Hints at the type of data that might be entered by the user while editing the element or its contents
@see {@link https://html.spec.whatwg.org/multipage/interaction.html#input-modalities:-the-inputmode-attribute}`,name:"inputMode",required:!1,type:{name:'"none" | "search" | "text" | "tel" | "url" | "email" | "numeric" | "decimal"'}},is:{defaultValue:null,description:`Specify that a standard HTML element should behave like a defined custom built-in element
@see {@link https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is}`,name:"is",required:!1,type:{name:"string"}},"aria-activedescendant":{defaultValue:null,description:"Identifies the currently active element when DOM focus is on a composite widget, textbox, group, or application.",name:"aria-activedescendant",required:!1,type:{name:"string"}},"aria-atomic":{defaultValue:null,description:"Indicates whether assistive technologies will present all, or only parts of, the changed region based on the change notifications defined by the aria-relevant attribute.",name:"aria-atomic",required:!1,type:{name:"Booleanish"}},"aria-autocomplete":{defaultValue:null,description:`Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be
presented if they are made.`,name:"aria-autocomplete",required:!1,type:{name:'"list" | "none" | "inline" | "both"'}},"aria-braillelabel":{defaultValue:null,description:`Defines a string value that labels the current element, which is intended to be converted into Braille.
@see aria-label.`,name:"aria-braillelabel",required:!1,type:{name:"string"}},"aria-brailleroledescription":{defaultValue:null,description:`Defines a human-readable, author-localized abbreviated description for the role of an element, which is intended to be converted into Braille.
@see aria-roledescription.`,name:"aria-brailleroledescription",required:!1,type:{name:"string"}},"aria-busy":{defaultValue:null,description:"",name:"aria-busy",required:!1,type:{name:"Booleanish"}},"aria-checked":{defaultValue:null,description:`Indicates the current "checked" state of checkboxes, radio buttons, and other widgets.
@see aria-pressed
@see aria-selected.`,name:"aria-checked",required:!1,type:{name:'boolean | "true" | "false" | "mixed"'}},"aria-colcount":{defaultValue:null,description:`Defines the total number of columns in a table, grid, or treegrid.
@see aria-colindex.`,name:"aria-colcount",required:!1,type:{name:"number"}},"aria-colindex":{defaultValue:null,description:`Defines an element's column index or position with respect to the total number of columns within a table, grid, or treegrid.
@see aria-colcount
@see aria-colspan.`,name:"aria-colindex",required:!1,type:{name:"number"}},"aria-colindextext":{defaultValue:null,description:`Defines a human readable text alternative of aria-colindex.
@see aria-rowindextext.`,name:"aria-colindextext",required:!1,type:{name:"string"}},"aria-colspan":{defaultValue:null,description:`Defines the number of columns spanned by a cell or gridcell within a table, grid, or treegrid.
@see aria-colindex
@see aria-rowspan.`,name:"aria-colspan",required:!1,type:{name:"number"}},"aria-controls":{defaultValue:null,description:`Identifies the element (or elements) whose contents or presence are controlled by the current element.
@see aria-owns.`,name:"aria-controls",required:!1,type:{name:"string"}},"aria-current":{defaultValue:null,description:"Indicates the element that represents the current item within a container or set of related elements.",name:"aria-current",required:!1,type:{name:'boolean | "true" | "false" | "page" | "step" | "location" | "date" | "time"'}},"aria-describedby":{defaultValue:null,description:`Identifies the element (or elements) that describes the object.
@see aria-labelledby`,name:"aria-describedby",required:!1,type:{name:"string"}},"aria-description":{defaultValue:null,description:`Defines a string value that describes or annotates the current element.
@see related aria-describedby.`,name:"aria-description",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:`Identifies the element that provides a detailed, extended description for the object.
@see aria-describedby.`,name:"aria-details",required:!1,type:{name:"string"}},"aria-disabled":{defaultValue:null,description:`Indicates that the element is perceivable but disabled, so it is not editable or otherwise operable.
@see aria-hidden
@see aria-readonly.`,name:"aria-disabled",required:!1,type:{name:"Booleanish"}},"aria-dropeffect":{defaultValue:null,description:`Indicates what functions can be performed when a dragged object is released on the drop target.
@deprecated in ARIA 1.1`,name:"aria-dropeffect",required:!1,type:{name:'"link" | "none" | "copy" | "execute" | "move" | "popup"'}},"aria-errormessage":{defaultValue:null,description:`Identifies the element that provides an error message for the object.
@see aria-invalid
@see aria-describedby.`,name:"aria-errormessage",required:!1,type:{name:"string"}},"aria-expanded":{defaultValue:null,description:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed.",name:"aria-expanded",required:!1,type:{name:"Booleanish"}},"aria-flowto":{defaultValue:null,description:`Identifies the next element (or elements) in an alternate reading order of content which, at the user's discretion,
allows assistive technology to override the general default of reading in document source order.`,name:"aria-flowto",required:!1,type:{name:"string"}},"aria-grabbed":{defaultValue:null,description:`Indicates an element's "grabbed" state in a drag-and-drop operation.
@deprecated in ARIA 1.1`,name:"aria-grabbed",required:!1,type:{name:"Booleanish"}},"aria-haspopup":{defaultValue:null,description:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an element.",name:"aria-haspopup",required:!1,type:{name:'boolean | "dialog" | "grid" | "listbox" | "menu" | "tree" | "true" | "false"'}},"aria-hidden":{defaultValue:null,description:`Indicates whether the element is exposed to an accessibility API.
@see aria-disabled.`,name:"aria-hidden",required:!1,type:{name:"Booleanish"}},"aria-invalid":{defaultValue:null,description:`Indicates the entered value does not conform to the format expected by the application.
@see aria-errormessage.`,name:"aria-invalid",required:!1,type:{name:'boolean | "true" | "false" | "grammar" | "spelling"'}},"aria-keyshortcuts":{defaultValue:null,description:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element.",name:"aria-keyshortcuts",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:`Defines a string value that labels the current element.
@see aria-labelledby.`,name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:`Identifies the element (or elements) that labels the current element.
@see aria-describedby.`,name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-level":{defaultValue:null,description:"Defines the hierarchical level of an element within a structure.",name:"aria-level",required:!1,type:{name:"number"}},"aria-live":{defaultValue:null,description:"Indicates that an element will be updated, and describes the types of updates the user agents, assistive technologies, and user can expect from the live region.",name:"aria-live",required:!1,type:{name:'"off" | "assertive" | "polite"'}},"aria-modal":{defaultValue:null,description:"Indicates whether an element is modal when displayed.",name:"aria-modal",required:!1,type:{name:"Booleanish"}},"aria-multiline":{defaultValue:null,description:"Indicates whether a text box accepts multiple lines of input or only a single line.",name:"aria-multiline",required:!1,type:{name:"Booleanish"}},"aria-multiselectable":{defaultValue:null,description:"Indicates that the user may select more than one item from the current selectable descendants.",name:"aria-multiselectable",required:!1,type:{name:"Booleanish"}},"aria-orientation":{defaultValue:null,description:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous.",name:"aria-orientation",required:!1,type:{name:'"horizontal" | "vertical"'}},"aria-owns":{defaultValue:null,description:`Identifies an element (or elements) in order to define a visual, functional, or contextual parent/child relationship
between DOM elements where the DOM hierarchy cannot be used to represent the relationship.
@see aria-controls.`,name:"aria-owns",required:!1,type:{name:"string"}},"aria-placeholder":{defaultValue:null,description:`Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value.
A hint could be a sample value or a brief description of the expected format.`,name:"aria-placeholder",required:!1,type:{name:"string"}},"aria-posinset":{defaultValue:null,description:`Defines an element's number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.
@see aria-setsize.`,name:"aria-posinset",required:!1,type:{name:"number"}},"aria-pressed":{defaultValue:null,description:`Indicates the current "pressed" state of toggle buttons.
@see aria-checked
@see aria-selected.`,name:"aria-pressed",required:!1,type:{name:'boolean | "true" | "false" | "mixed"'}},"aria-readonly":{defaultValue:null,description:`Indicates that the element is not editable, but is otherwise operable.
@see aria-disabled.`,name:"aria-readonly",required:!1,type:{name:"Booleanish"}},"aria-relevant":{defaultValue:null,description:`Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified.
@see aria-atomic.`,name:"aria-relevant",required:!1,type:{name:'"additions" | "additions removals" | "additions text" | "all" | "removals" | "removals additions" | "removals text" | "text" | "text additions" | "text removals"'}},"aria-required":{defaultValue:null,description:"Indicates that user input is required on the element before a form may be submitted.",name:"aria-required",required:!1,type:{name:"Booleanish"}},"aria-roledescription":{defaultValue:null,description:"Defines a human-readable, author-localized description for the role of an element.",name:"aria-roledescription",required:!1,type:{name:"string"}},"aria-rowcount":{defaultValue:null,description:`Defines the total number of rows in a table, grid, or treegrid.
@see aria-rowindex.`,name:"aria-rowcount",required:!1,type:{name:"number"}},"aria-rowindex":{defaultValue:null,description:`Defines an element's row index or position with respect to the total number of rows within a table, grid, or treegrid.
@see aria-rowcount
@see aria-rowspan.`,name:"aria-rowindex",required:!1,type:{name:"number"}},"aria-rowindextext":{defaultValue:null,description:`Defines a human readable text alternative of aria-rowindex.
@see aria-colindextext.`,name:"aria-rowindextext",required:!1,type:{name:"string"}},"aria-rowspan":{defaultValue:null,description:`Defines the number of rows spanned by a cell or gridcell within a table, grid, or treegrid.
@see aria-rowindex
@see aria-colspan.`,name:"aria-rowspan",required:!1,type:{name:"number"}},"aria-selected":{defaultValue:null,description:`Indicates the current "selected" state of various widgets.
@see aria-checked
@see aria-pressed.`,name:"aria-selected",required:!1,type:{name:"Booleanish"}},"aria-setsize":{defaultValue:null,description:`Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.
@see aria-posinset.`,name:"aria-setsize",required:!1,type:{name:"number"}},"aria-sort":{defaultValue:null,description:"Indicates if items in a table or grid are sorted in ascending or descending order.",name:"aria-sort",required:!1,type:{name:'"none" | "ascending" | "descending" | "other"'}},"aria-valuemax":{defaultValue:null,description:"Defines the maximum allowed value for a range widget.",name:"aria-valuemax",required:!1,type:{name:"number"}},"aria-valuemin":{defaultValue:null,description:"Defines the minimum allowed value for a range widget.",name:"aria-valuemin",required:!1,type:{name:"number"}},"aria-valuenow":{defaultValue:null,description:`Defines the current value for a range widget.
@see aria-valuetext.`,name:"aria-valuenow",required:!1,type:{name:"number"}},"aria-valuetext":{defaultValue:null,description:"Defines the human readable text alternative of aria-valuenow for a range widget.",name:"aria-valuetext",required:!1,type:{name:"string"}},dangerouslySetInnerHTML:{defaultValue:null,description:"",name:"dangerouslySetInnerHTML",required:!1,type:{name:"{ __html: string | TrustedHTML; }"}},onCopy:{defaultValue:null,description:"",name:"onCopy",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onCopyCapture:{defaultValue:null,description:"",name:"onCopyCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onCut:{defaultValue:null,description:"",name:"onCut",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onCutCapture:{defaultValue:null,description:"",name:"onCutCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onPasteCapture:{defaultValue:null,description:"",name:"onPasteCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLSourceElement>"}},onCompositionEnd:{defaultValue:null,description:"",name:"onCompositionEnd",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onCompositionEndCapture:{defaultValue:null,description:"",name:"onCompositionEndCapture",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onCompositionStart:{defaultValue:null,description:"",name:"onCompositionStart",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onCompositionStartCapture:{defaultValue:null,description:"",name:"onCompositionStartCapture",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onCompositionUpdate:{defaultValue:null,description:"",name:"onCompositionUpdate",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onCompositionUpdateCapture:{defaultValue:null,description:"",name:"onCompositionUpdateCapture",required:!1,type:{name:"CompositionEventHandler<HTMLSourceElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLSourceElement>"}},onFocusCapture:{defaultValue:null,description:"",name:"onFocusCapture",required:!1,type:{name:"FocusEventHandler<HTMLSourceElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLSourceElement>"}},onBlurCapture:{defaultValue:null,description:"",name:"onBlurCapture",required:!1,type:{name:"FocusEventHandler<HTMLSourceElement>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onChangeCapture:{defaultValue:null,description:"",name:"onChangeCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onBeforeInput:{defaultValue:null,description:"",name:"onBeforeInput",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onBeforeInputCapture:{defaultValue:null,description:"",name:"onBeforeInputCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onInputCapture:{defaultValue:null,description:"",name:"onInputCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onResetCapture:{defaultValue:null,description:"",name:"onResetCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onSubmitCapture:{defaultValue:null,description:"",name:"onSubmitCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onInvalid:{defaultValue:null,description:"",name:"onInvalid",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onInvalidCapture:{defaultValue:null,description:"",name:"onInvalidCapture",required:!1,type:{name:"FormEventHandler<HTMLSourceElement>"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadCapture:{defaultValue:null,description:"",name:"onLoadCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onErrorCapture:{defaultValue:null,description:"",name:"onErrorCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onKeyDownCapture:{defaultValue:null,description:"",name:"onKeyDownCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onKeyPress:{defaultValue:null,description:"@deprecated",name:"onKeyPress",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onKeyPressCapture:{defaultValue:null,description:"@deprecated",name:"onKeyPressCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onKeyUpCapture:{defaultValue:null,description:"",name:"onKeyUpCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLSourceElement>"}},onAbort:{defaultValue:null,description:"",name:"onAbort",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onAbortCapture:{defaultValue:null,description:"",name:"onAbortCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onCanPlay:{defaultValue:null,description:"",name:"onCanPlay",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onCanPlayCapture:{defaultValue:null,description:"",name:"onCanPlayCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onCanPlayThrough:{defaultValue:null,description:"",name:"onCanPlayThrough",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onCanPlayThroughCapture:{defaultValue:null,description:"",name:"onCanPlayThroughCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onDurationChange:{defaultValue:null,description:"",name:"onDurationChange",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onDurationChangeCapture:{defaultValue:null,description:"",name:"onDurationChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEmptied:{defaultValue:null,description:"",name:"onEmptied",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEmptiedCapture:{defaultValue:null,description:"",name:"onEmptiedCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEncrypted:{defaultValue:null,description:"",name:"onEncrypted",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEncryptedCapture:{defaultValue:null,description:"",name:"onEncryptedCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEnded:{defaultValue:null,description:"",name:"onEnded",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onEndedCapture:{defaultValue:null,description:"",name:"onEndedCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadedData:{defaultValue:null,description:"",name:"onLoadedData",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadedDataCapture:{defaultValue:null,description:"",name:"onLoadedDataCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadedMetadata:{defaultValue:null,description:"",name:"onLoadedMetadata",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadedMetadataCapture:{defaultValue:null,description:"",name:"onLoadedMetadataCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadStart:{defaultValue:null,description:"",name:"onLoadStart",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onLoadStartCapture:{defaultValue:null,description:"",name:"onLoadStartCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPauseCapture:{defaultValue:null,description:"",name:"onPauseCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPlayCapture:{defaultValue:null,description:"",name:"onPlayCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPlaying:{defaultValue:null,description:"",name:"onPlaying",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onPlayingCapture:{defaultValue:null,description:"",name:"onPlayingCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onProgressCapture:{defaultValue:null,description:"",name:"onProgressCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onRateChange:{defaultValue:null,description:"",name:"onRateChange",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onRateChangeCapture:{defaultValue:null,description:"",name:"onRateChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onResizeCapture:{defaultValue:null,description:"",name:"onResizeCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSeeked:{defaultValue:null,description:"",name:"onSeeked",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSeekedCapture:{defaultValue:null,description:"",name:"onSeekedCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSeeking:{defaultValue:null,description:"",name:"onSeeking",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSeekingCapture:{defaultValue:null,description:"",name:"onSeekingCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onStalled:{defaultValue:null,description:"",name:"onStalled",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onStalledCapture:{defaultValue:null,description:"",name:"onStalledCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSuspend:{defaultValue:null,description:"",name:"onSuspend",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSuspendCapture:{defaultValue:null,description:"",name:"onSuspendCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onTimeUpdate:{defaultValue:null,description:"",name:"onTimeUpdate",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onTimeUpdateCapture:{defaultValue:null,description:"",name:"onTimeUpdateCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onVolumeChange:{defaultValue:null,description:"",name:"onVolumeChange",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onVolumeChangeCapture:{defaultValue:null,description:"",name:"onVolumeChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onWaiting:{defaultValue:null,description:"",name:"onWaiting",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onWaitingCapture:{defaultValue:null,description:"",name:"onWaitingCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onAuxClick:{defaultValue:null,description:"",name:"onAuxClick",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onAuxClickCapture:{defaultValue:null,description:"",name:"onAuxClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onClickCapture:{defaultValue:null,description:"",name:"onClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onContextMenuCapture:{defaultValue:null,description:"",name:"onContextMenuCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onDoubleClickCapture:{defaultValue:null,description:"",name:"onDoubleClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragCapture:{defaultValue:null,description:"",name:"onDragCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragEndCapture:{defaultValue:null,description:"",name:"onDragEndCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragEnter:{defaultValue:null,description:"",name:"onDragEnter",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragEnterCapture:{defaultValue:null,description:"",name:"onDragEnterCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragExit:{defaultValue:null,description:"",name:"onDragExit",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragExitCapture:{defaultValue:null,description:"",name:"onDragExitCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragLeave:{defaultValue:null,description:"",name:"onDragLeave",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragLeaveCapture:{defaultValue:null,description:"",name:"onDragLeaveCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragOver:{defaultValue:null,description:"",name:"onDragOver",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragOverCapture:{defaultValue:null,description:"",name:"onDragOverCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDragStartCapture:{defaultValue:null,description:"",name:"onDragStartCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onDropCapture:{defaultValue:null,description:"",name:"onDropCapture",required:!1,type:{name:"DragEventHandler<HTMLSourceElement>"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseDownCapture:{defaultValue:null,description:"",name:"onMouseDownCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseMoveCapture:{defaultValue:null,description:"",name:"onMouseMoveCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseOutCapture:{defaultValue:null,description:"",name:"onMouseOutCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseOverCapture:{defaultValue:null,description:"",name:"onMouseOverCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onMouseUpCapture:{defaultValue:null,description:"",name:"onMouseUpCapture",required:!1,type:{name:"MouseEventHandler<HTMLSourceElement>"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onSelectCapture:{defaultValue:null,description:"",name:"onSelectCapture",required:!1,type:{name:"ReactEventHandler<HTMLSourceElement>"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchCancelCapture:{defaultValue:null,description:"",name:"onTouchCancelCapture",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchEndCapture:{defaultValue:null,description:"",name:"onTouchEndCapture",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchMoveCapture:{defaultValue:null,description:"",name:"onTouchMoveCapture",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onTouchStartCapture:{defaultValue:null,description:"",name:"onTouchStartCapture",required:!1,type:{name:"TouchEventHandler<HTMLSourceElement>"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerDownCapture:{defaultValue:null,description:"",name:"onPointerDownCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerMoveCapture:{defaultValue:null,description:"",name:"onPointerMoveCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerUp:{defaultValue:null,description:"",name:"onPointerUp",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerUpCapture:{defaultValue:null,description:"",name:"onPointerUpCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerCancel:{defaultValue:null,description:"",name:"onPointerCancel",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerCancelCapture:{defaultValue:null,description:"",name:"onPointerCancelCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerEnter:{defaultValue:null,description:"",name:"onPointerEnter",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerLeave:{defaultValue:null,description:"",name:"onPointerLeave",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerOver:{defaultValue:null,description:"",name:"onPointerOver",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerOverCapture:{defaultValue:null,description:"",name:"onPointerOverCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerOut:{defaultValue:null,description:"",name:"onPointerOut",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onPointerOutCapture:{defaultValue:null,description:"",name:"onPointerOutCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onGotPointerCapture:{defaultValue:null,description:"",name:"onGotPointerCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onGotPointerCaptureCapture:{defaultValue:null,description:"",name:"onGotPointerCaptureCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onLostPointerCapture:{defaultValue:null,description:"",name:"onLostPointerCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onLostPointerCaptureCapture:{defaultValue:null,description:"",name:"onLostPointerCaptureCapture",required:!1,type:{name:"PointerEventHandler<HTMLSourceElement>"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"UIEventHandler<HTMLSourceElement>"}},onScrollCapture:{defaultValue:null,description:"",name:"onScrollCapture",required:!1,type:{name:"UIEventHandler<HTMLSourceElement>"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"WheelEventHandler<HTMLSourceElement>"}},onWheelCapture:{defaultValue:null,description:"",name:"onWheelCapture",required:!1,type:{name:"WheelEventHandler<HTMLSourceElement>"}},onAnimationStart:{defaultValue:null,description:"",name:"onAnimationStart",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onAnimationStartCapture:{defaultValue:null,description:"",name:"onAnimationStartCapture",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onAnimationEnd:{defaultValue:null,description:"",name:"onAnimationEnd",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onAnimationEndCapture:{defaultValue:null,description:"",name:"onAnimationEndCapture",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onAnimationIteration:{defaultValue:null,description:"",name:"onAnimationIteration",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onAnimationIterationCapture:{defaultValue:null,description:"",name:"onAnimationIterationCapture",required:!1,type:{name:"AnimationEventHandler<HTMLSourceElement>"}},onTransitionEnd:{defaultValue:null,description:"",name:"onTransitionEnd",required:!1,type:{name:"TransitionEventHandler<HTMLSourceElement>"}},onTransitionEndCapture:{defaultValue:null,description:"",name:"onTransitionEndCapture",required:!1,type:{name:"TransitionEventHandler<HTMLSourceElement>"}}}}}catch{}const $I=7e3,QI=11,UE={addBigPlayButton:!1,addSeekBar:!0,controlPanelElements:["play_pause","time_and_duration","spacer","mute","report","captions","fullscreen"]},Uh=({callback:xe,children:Xe})=>Ya("button",{className:"video-player__report-button",ref:xe,children:[Ee(_h,{name:"flag24"}),Xe]});try{Uh.displayName="ReportButton",Uh.__docgenInfo={description:"",displayName:"ReportButton",props:{callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"(button: HTMLElement) => void"}}}}}catch{}function Oh(xe=()=>{}){const Xe=class extends Vh.ui.Element{constructor(at,wn,D){super(at,wn);const li=document.createElement("div"),Ii=()=>{const p=li.firstChild;at.appendChild(p),li.remove(),this.eventManager.listen(p,"click",xe)};YI(li).render(Ee(Uh,{callback:Ii,children:D}))}};return Xe.Factory=class{constructor(at){this.reportText=at}create(at,wn){return new Xe(at,wn,this.reportText)}},{Report:Xe}}try{Oh.displayName="customControls",Oh.__docgenInfo={description:"",displayName:"customControls",props:{apply:{defaultValue:null,description:`Calls the function, substituting the specified object for the this value of the function, and the specified array for the arguments of the function.
@param thisArg The object to be used as the this object.
@param argArray A set of arguments to be passed to the function.`,name:"apply",required:!0,type:{name:"(this: Function, thisArg: any, argArray?: any) => any"}},call:{defaultValue:null,description:`Calls a method of an object, substituting another object for the current object.
@param thisArg The object to be used as the current object.
@param argArray A list of arguments to be passed to the method.`,name:"call",required:!0,type:{name:"(this: Function, thisArg: any, ...argArray: any[]) => any"}},bind:{defaultValue:null,description:`For a given function, creates a bound function that has the same body as the original function.
The this object of the bound function is associated with the specified object, and has the specified initial parameters.
@param thisArg An object to which the this keyword can refer inside the new function.
@param argArray A list of arguments to be passed to the new function.`,name:"bind",required:!0,type:{name:"(this: Function, thisArg: any, ...argArray: any[]) => any"}},toString:{defaultValue:null,description:"Returns a string representation of a function.",name:"toString",required:!1,type:{name:"() => string"}},prototype:{defaultValue:null,description:"",name:"prototype",required:!0,type:{name:"any"}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"number"}},arguments:{defaultValue:null,description:"",name:"arguments",required:!0,type:{name:"any"}},caller:{defaultValue:null,description:"",name:"caller",required:!0,type:{name:"Function"}},name:{defaultValue:null,description:"Returns the name of the function. Function names are read-only and can not be changed.",name:"name",required:!0,type:{name:"string"}},"__@hasInstance@6097":{defaultValue:null,description:`Determines whether the given value inherits from this function if this function was used
as a constructor function.

A constructor function can control which objects are recognized as its instances by
'instanceof' by overriding this method.`,name:"__@hasInstance@6097",required:!0,type:{name:"(value: any) => boolean"}}}}}catch{}const Sn=({width:xe,height:Xe,thumbnail:at,action:wn,muted:D,playView:li="inline",a11yLoadText:Ii,a11yPlayText:p,reportText:Ao,volumeSlider:sr,volume:Dl=1,hideReportButton:sn,errorText:Oe,onVolumeChange:$a=()=>{},onLoadError:m=()=>{},onPlay:H=()=>{},onReport:Pl=()=>{},children:xo,...Co})=>{const[Qa,lr]=Tn.useState(),[Io,se]=Tn.useState(),[Mi,Mo]=Tn.useState(),[Li,y]=Tn.useState(),O=Tn.useRef(null),$=Tn.useRef(null),pt=Tn.useRef(null),oe=Tn.useRef(null),Q=WI(xo,un).map(({props:C})=>C),At=C=>{lr(!0),y(!0),m(C)},gt=(C=0)=>{var Ge;!Q.length||!pt.current||(lr(!1),pt.current.load((Ge=Q[C])==null?void 0:Ge.src).then(()=>{y(!1)}).catch(ut=>{switch(console.error(ut),ut.code){case $I:return;case QI:setTimeout(()=>gt(C),0);break;default:{const dr=Q.length>C+1&&C+1;dr?setTimeout(()=>gt(dr),0):At(ut)}}}).finally(()=>{lr(!0)}))};Tn.useEffect(()=>{const C=$.current,Ge=O.current;if(!(!C||!Ge)&&(C.volume=Dl,El.polyfill.installAll(),pt.current=new El.Player(C),!!pt.current)){if(pt.current.addEventListener("error",At),pt.current.addEventListener("buffering",ut=>{se(ut.buffering)}),oe.current=new El.ui.Overlay(pt.current,Ge,C,Ao),oe.current.configure({addBigPlayButton:!0,controlPanelElements:[],addSeekBar:!1}),!sn){const{Report:ut}=Oh(Pl);El.ui.Controls.registerElement("report",new ut.Factory(Ao))}gt(),ZI(Ge)}},[]),Tn.useEffect(()=>{switch(wn){case"play":$.current.play();break;case"pause":$.current.pause();break}},[wn]);const Rl=()=>{if(!oe.current)return;const C=sr?{controlPanelElements:JI(UE.controlPanelElements)}:{};oe.current.configure({...UE,...C}),$.current.controls=!1},Nl=C=>{C.stopPropagation(),Rl(),li==="fullscreen"&&$.current.requestFullscreen(),Mo(!0),H(C,{player:pt.current})},Lo=()=>{$.current.play()},ki=C=>{const Ge=C.currentTarget;$a(C,{volume:Math.round((Ge.volume+Number.EPSILON)*100)/100,muted:Ge.muted})},_l=()=>{$.current.controls=!1},Ja={width:xe?`${xe}px`:void 0,height:Xe?`${Xe}px`:void 0};return Ya("div",{style:Ja,className:Nh("video-player",{"video-player--poster":!Mi}),children:[!Mi&&Qa&&!Li&&!Io&&Ee("div",{className:"shaka-play-button-container",children:Ee("button",{onClick:Lo,className:"shaka-play-button",style:{opacity:1,zIndex:999},"aria-label":p,children:Ee(_h,{name:"playFilled64Colored"})})}),Ee("div",{className:"video-player__container",ref:O,children:Ee("video",{ref:$,style:Ja,poster:at,muted:D||!1,onPlaying:Nl,onPause:_l,onVolumeChange:ki,...Co,children:Q.map((C,Ge)=>Ee("source",{...C},Ge))})}),Ya("div",{className:Nh("video-player__overlay",{"video-player__overlay--hidden":!Li}),children:[Ee(_h,{name:"attention64"}),Ee("div",{className:"video-player__overlay-text",children:Oe})]}),Ee("div",{className:Nh("video-player__overlay",{"video-player__overlay--hidden":Qa&&(Li||!Io)}),children:Ee(XI,{size:"large","aria-label":Ii})})]})};function JI(xe){const Xe=xe.length-2>0?xe.length-2:xe.length,at=[...xe];return at.splice(Xe,0,"volume"),at}function ZI(xe){const Xe=xe.querySelectorAll(".shaka-spinner")[0];Xe&&Xe.setAttribute("hidden","")}try{video.displayName="video",video.__docgenInfo={description:"",displayName:"video",props:{ref:{defaultValue:null,description:"Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref).\n@see {@link https://react.dev/learn/referencing-values-with-refs#refs-and-the-dom React Docs}",name:"ref",required:!1,type:{name:"LegacyRef<HTMLVideoElement>"}},suppressHydrationWarning:{defaultValue:null,description:"",name:"suppressHydrationWarning",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"AriaRole"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},crossOrigin:{defaultValue:null,description:"",name:"crossOrigin",required:!1,type:{name:"CrossOrigin"}},"aria-activedescendant":{defaultValue:null,description:"Identifies the currently active element when DOM focus is on a composite widget, textbox, group, or application.",name:"aria-activedescendant",required:!1,type:{name:"string"}},"aria-atomic":{defaultValue:null,description:"Indicates whether assistive technologies will present all, or only parts of, the changed region based on the change notifications defined by the aria-relevant attribute.",name:"aria-atomic",required:!1,type:{name:"Booleanish"}},"aria-autocomplete":{defaultValue:null,description:`Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be
presented if they are made.`,name:"aria-autocomplete",required:!1,type:{name:'"list" | "none" | "inline" | "both"'}},"aria-braillelabel":{defaultValue:null,description:`Defines a string value that labels the current element, which is intended to be converted into Braille.
@see aria-label.`,name:"aria-braillelabel",required:!1,type:{name:"string"}},"aria-brailleroledescription":{defaultValue:null,description:`Defines a human-readable, author-localized abbreviated description for the role of an element, which is intended to be converted into Braille.
@see aria-roledescription.`,name:"aria-brailleroledescription",required:!1,type:{name:"string"}},"aria-busy":{defaultValue:null,description:"",name:"aria-busy",required:!1,type:{name:"Booleanish"}},"aria-checked":{defaultValue:null,description:`Indicates the current "checked" state of checkboxes, radio buttons, and other widgets.
@see aria-pressed
@see aria-selected.`,name:"aria-checked",required:!1,type:{name:'boolean | "true" | "false" | "mixed"'}},"aria-colcount":{defaultValue:null,description:`Defines the total number of columns in a table, grid, or treegrid.
@see aria-colindex.`,name:"aria-colcount",required:!1,type:{name:"number"}},"aria-colindex":{defaultValue:null,description:`Defines an element's column index or position with respect to the total number of columns within a table, grid, or treegrid.
@see aria-colcount
@see aria-colspan.`,name:"aria-colindex",required:!1,type:{name:"number"}},"aria-colindextext":{defaultValue:null,description:`Defines a human readable text alternative of aria-colindex.
@see aria-rowindextext.`,name:"aria-colindextext",required:!1,type:{name:"string"}},"aria-colspan":{defaultValue:null,description:`Defines the number of columns spanned by a cell or gridcell within a table, grid, or treegrid.
@see aria-colindex
@see aria-rowspan.`,name:"aria-colspan",required:!1,type:{name:"number"}},"aria-controls":{defaultValue:null,description:`Identifies the element (or elements) whose contents or presence are controlled by the current element.
@see aria-owns.`,name:"aria-controls",required:!1,type:{name:"string"}},"aria-current":{defaultValue:null,description:"Indicates the element that represents the current item within a container or set of related elements.",name:"aria-current",required:!1,type:{name:'boolean | "true" | "false" | "page" | "step" | "location" | "date" | "time"'}},"aria-describedby":{defaultValue:null,description:`Identifies the element (or elements) that describes the object.
@see aria-labelledby`,name:"aria-describedby",required:!1,type:{name:"string"}},"aria-description":{defaultValue:null,description:`Defines a string value that describes or annotates the current element.
@see related aria-describedby.`,name:"aria-description",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:`Identifies the element that provides a detailed, extended description for the object.
@see aria-describedby.`,name:"aria-details",required:!1,type:{name:"string"}},"aria-disabled":{defaultValue:null,description:`Indicates that the element is perceivable but disabled, so it is not editable or otherwise operable.
@see aria-hidden
@see aria-readonly.`,name:"aria-disabled",required:!1,type:{name:"Booleanish"}},"aria-dropeffect":{defaultValue:null,description:`Indicates what functions can be performed when a dragged object is released on the drop target.
@deprecated in ARIA 1.1`,name:"aria-dropeffect",required:!1,type:{name:'"link" | "none" | "copy" | "execute" | "move" | "popup"'}},"aria-errormessage":{defaultValue:null,description:`Identifies the element that provides an error message for the object.
@see aria-invalid
@see aria-describedby.`,name:"aria-errormessage",required:!1,type:{name:"string"}},"aria-expanded":{defaultValue:null,description:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed.",name:"aria-expanded",required:!1,type:{name:"Booleanish"}},"aria-flowto":{defaultValue:null,description:`Identifies the next element (or elements) in an alternate reading order of content which, at the user's discretion,
allows assistive technology to override the general default of reading in document source order.`,name:"aria-flowto",required:!1,type:{name:"string"}},"aria-grabbed":{defaultValue:null,description:`Indicates an element's "grabbed" state in a drag-and-drop operation.
@deprecated in ARIA 1.1`,name:"aria-grabbed",required:!1,type:{name:"Booleanish"}},"aria-haspopup":{defaultValue:null,description:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an element.",name:"aria-haspopup",required:!1,type:{name:'boolean | "dialog" | "grid" | "listbox" | "menu" | "tree" | "true" | "false"'}},"aria-hidden":{defaultValue:null,description:`Indicates whether the element is exposed to an accessibility API.
@see aria-disabled.`,name:"aria-hidden",required:!1,type:{name:"Booleanish"}},"aria-invalid":{defaultValue:null,description:`Indicates the entered value does not conform to the format expected by the application.
@see aria-errormessage.`,name:"aria-invalid",required:!1,type:{name:'boolean | "true" | "false" | "grammar" | "spelling"'}},"aria-keyshortcuts":{defaultValue:null,description:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element.",name:"aria-keyshortcuts",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:`Defines a string value that labels the current element.
@see aria-labelledby.`,name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:`Identifies the element (or elements) that labels the current element.
@see aria-describedby.`,name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-level":{defaultValue:null,description:"Defines the hierarchical level of an element within a structure.",name:"aria-level",required:!1,type:{name:"number"}},"aria-live":{defaultValue:null,description:"Indicates that an element will be updated, and describes the types of updates the user agents, assistive technologies, and user can expect from the live region.",name:"aria-live",required:!1,type:{name:'"off" | "assertive" | "polite"'}},"aria-modal":{defaultValue:null,description:"Indicates whether an element is modal when displayed.",name:"aria-modal",required:!1,type:{name:"Booleanish"}},"aria-multiline":{defaultValue:null,description:"Indicates whether a text box accepts multiple lines of input or only a single line.",name:"aria-multiline",required:!1,type:{name:"Booleanish"}},"aria-multiselectable":{defaultValue:null,description:"Indicates that the user may select more than one item from the current selectable descendants.",name:"aria-multiselectable",required:!1,type:{name:"Booleanish"}},"aria-orientation":{defaultValue:null,description:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous.",name:"aria-orientation",required:!1,type:{name:'"horizontal" | "vertical"'}},"aria-owns":{defaultValue:null,description:`Identifies an element (or elements) in order to define a visual, functional, or contextual parent/child relationship
between DOM elements where the DOM hierarchy cannot be used to represent the relationship.
@see aria-controls.`,name:"aria-owns",required:!1,type:{name:"string"}},"aria-placeholder":{defaultValue:null,description:`Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value.
A hint could be a sample value or a brief description of the expected format.`,name:"aria-placeholder",required:!1,type:{name:"string"}},"aria-posinset":{defaultValue:null,description:`Defines an element's number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.
@see aria-setsize.`,name:"aria-posinset",required:!1,type:{name:"number"}},"aria-pressed":{defaultValue:null,description:`Indicates the current "pressed" state of toggle buttons.
@see aria-checked
@see aria-selected.`,name:"aria-pressed",required:!1,type:{name:'boolean | "true" | "false" | "mixed"'}},"aria-readonly":{defaultValue:null,description:`Indicates that the element is not editable, but is otherwise operable.
@see aria-disabled.`,name:"aria-readonly",required:!1,type:{name:"Booleanish"}},"aria-relevant":{defaultValue:null,description:`Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified.
@see aria-atomic.`,name:"aria-relevant",required:!1,type:{name:'"additions" | "additions removals" | "additions text" | "all" | "removals" | "removals additions" | "removals text" | "text" | "text additions" | "text removals"'}},"aria-required":{defaultValue:null,description:"Indicates that user input is required on the element before a form may be submitted.",name:"aria-required",required:!1,type:{name:"Booleanish"}},"aria-roledescription":{defaultValue:null,description:"Defines a human-readable, author-localized description for the role of an element.",name:"aria-roledescription",required:!1,type:{name:"string"}},"aria-rowcount":{defaultValue:null,description:`Defines the total number of rows in a table, grid, or treegrid.
@see aria-rowindex.`,name:"aria-rowcount",required:!1,type:{name:"number"}},"aria-rowindex":{defaultValue:null,description:`Defines an element's row index or position with respect to the total number of rows within a table, grid, or treegrid.
@see aria-rowcount
@see aria-rowspan.`,name:"aria-rowindex",required:!1,type:{name:"number"}},"aria-rowindextext":{defaultValue:null,description:`Defines a human readable text alternative of aria-rowindex.
@see aria-colindextext.`,name:"aria-rowindextext",required:!1,type:{name:"string"}},"aria-rowspan":{defaultValue:null,description:`Defines the number of rows spanned by a cell or gridcell within a table, grid, or treegrid.
@see aria-rowindex
@see aria-colspan.`,name:"aria-rowspan",required:!1,type:{name:"number"}},"aria-selected":{defaultValue:null,description:`Indicates the current "selected" state of various widgets.
@see aria-checked
@see aria-pressed.`,name:"aria-selected",required:!1,type:{name:"Booleanish"}},"aria-setsize":{defaultValue:null,description:`Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.
@see aria-posinset.`,name:"aria-setsize",required:!1,type:{name:"number"}},"aria-sort":{defaultValue:null,description:"Indicates if items in a table or grid are sorted in ascending or descending order.",name:"aria-sort",required:!1,type:{name:'"none" | "ascending" | "descending" | "other"'}},"aria-valuemax":{defaultValue:null,description:"Defines the maximum allowed value for a range widget.",name:"aria-valuemax",required:!1,type:{name:"number"}},"aria-valuemin":{defaultValue:null,description:"Defines the minimum allowed value for a range widget.",name:"aria-valuemin",required:!1,type:{name:"number"}},"aria-valuenow":{defaultValue:null,description:`Defines the current value for a range widget.
@see aria-valuetext.`,name:"aria-valuenow",required:!1,type:{name:"number"}},"aria-valuetext":{defaultValue:null,description:"Defines the human readable text alternative of aria-valuenow for a range widget.",name:"aria-valuetext",required:!1,type:{name:"string"}},dangerouslySetInnerHTML:{defaultValue:null,description:"",name:"dangerouslySetInnerHTML",required:!1,type:{name:"{ __html: string | TrustedHTML; }"}},onCopy:{defaultValue:null,description:"",name:"onCopy",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onCopyCapture:{defaultValue:null,description:"",name:"onCopyCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onCut:{defaultValue:null,description:"",name:"onCut",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onCutCapture:{defaultValue:null,description:"",name:"onCutCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onPasteCapture:{defaultValue:null,description:"",name:"onPasteCapture",required:!1,type:{name:"ClipboardEventHandler<HTMLVideoElement>"}},onCompositionEnd:{defaultValue:null,description:"",name:"onCompositionEnd",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onCompositionEndCapture:{defaultValue:null,description:"",name:"onCompositionEndCapture",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onCompositionStart:{defaultValue:null,description:"",name:"onCompositionStart",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onCompositionStartCapture:{defaultValue:null,description:"",name:"onCompositionStartCapture",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onCompositionUpdate:{defaultValue:null,description:"",name:"onCompositionUpdate",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onCompositionUpdateCapture:{defaultValue:null,description:"",name:"onCompositionUpdateCapture",required:!1,type:{name:"CompositionEventHandler<HTMLVideoElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLVideoElement>"}},onFocusCapture:{defaultValue:null,description:"",name:"onFocusCapture",required:!1,type:{name:"FocusEventHandler<HTMLVideoElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLVideoElement>"}},onBlurCapture:{defaultValue:null,description:"",name:"onBlurCapture",required:!1,type:{name:"FocusEventHandler<HTMLVideoElement>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onChangeCapture:{defaultValue:null,description:"",name:"onChangeCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onBeforeInput:{defaultValue:null,description:"",name:"onBeforeInput",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onBeforeInputCapture:{defaultValue:null,description:"",name:"onBeforeInputCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onInputCapture:{defaultValue:null,description:"",name:"onInputCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onResetCapture:{defaultValue:null,description:"",name:"onResetCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onSubmitCapture:{defaultValue:null,description:"",name:"onSubmitCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onInvalid:{defaultValue:null,description:"",name:"onInvalid",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onInvalidCapture:{defaultValue:null,description:"",name:"onInvalidCapture",required:!1,type:{name:"FormEventHandler<HTMLVideoElement>"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadCapture:{defaultValue:null,description:"",name:"onLoadCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onErrorCapture:{defaultValue:null,description:"",name:"onErrorCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onKeyDownCapture:{defaultValue:null,description:"",name:"onKeyDownCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onKeyPress:{defaultValue:null,description:"@deprecated",name:"onKeyPress",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onKeyPressCapture:{defaultValue:null,description:"@deprecated",name:"onKeyPressCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onKeyUpCapture:{defaultValue:null,description:"",name:"onKeyUpCapture",required:!1,type:{name:"KeyboardEventHandler<HTMLVideoElement>"}},onAbort:{defaultValue:null,description:"",name:"onAbort",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onAbortCapture:{defaultValue:null,description:"",name:"onAbortCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onCanPlay:{defaultValue:null,description:"",name:"onCanPlay",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onCanPlayCapture:{defaultValue:null,description:"",name:"onCanPlayCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onCanPlayThrough:{defaultValue:null,description:"",name:"onCanPlayThrough",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onCanPlayThroughCapture:{defaultValue:null,description:"",name:"onCanPlayThroughCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onDurationChange:{defaultValue:null,description:"",name:"onDurationChange",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onDurationChangeCapture:{defaultValue:null,description:"",name:"onDurationChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEmptied:{defaultValue:null,description:"",name:"onEmptied",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEmptiedCapture:{defaultValue:null,description:"",name:"onEmptiedCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEncrypted:{defaultValue:null,description:"",name:"onEncrypted",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEncryptedCapture:{defaultValue:null,description:"",name:"onEncryptedCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEnded:{defaultValue:null,description:"",name:"onEnded",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onEndedCapture:{defaultValue:null,description:"",name:"onEndedCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadedData:{defaultValue:null,description:"",name:"onLoadedData",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadedDataCapture:{defaultValue:null,description:"",name:"onLoadedDataCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadedMetadata:{defaultValue:null,description:"",name:"onLoadedMetadata",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadedMetadataCapture:{defaultValue:null,description:"",name:"onLoadedMetadataCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadStart:{defaultValue:null,description:"",name:"onLoadStart",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onLoadStartCapture:{defaultValue:null,description:"",name:"onLoadStartCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onPauseCapture:{defaultValue:null,description:"",name:"onPauseCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onPlayCapture:{defaultValue:null,description:"",name:"onPlayCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onPlaying:{defaultValue:null,description:"",name:"onPlaying",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onPlayingCapture:{defaultValue:null,description:"",name:"onPlayingCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onProgressCapture:{defaultValue:null,description:"",name:"onProgressCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onRateChange:{defaultValue:null,description:"",name:"onRateChange",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onRateChangeCapture:{defaultValue:null,description:"",name:"onRateChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onResizeCapture:{defaultValue:null,description:"",name:"onResizeCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSeeked:{defaultValue:null,description:"",name:"onSeeked",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSeekedCapture:{defaultValue:null,description:"",name:"onSeekedCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSeeking:{defaultValue:null,description:"",name:"onSeeking",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSeekingCapture:{defaultValue:null,description:"",name:"onSeekingCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onStalled:{defaultValue:null,description:"",name:"onStalled",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onStalledCapture:{defaultValue:null,description:"",name:"onStalledCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSuspend:{defaultValue:null,description:"",name:"onSuspend",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSuspendCapture:{defaultValue:null,description:"",name:"onSuspendCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onTimeUpdate:{defaultValue:null,description:"",name:"onTimeUpdate",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onTimeUpdateCapture:{defaultValue:null,description:"",name:"onTimeUpdateCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onVolumeChangeCapture:{defaultValue:null,description:"",name:"onVolumeChangeCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onWaiting:{defaultValue:null,description:"",name:"onWaiting",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onWaitingCapture:{defaultValue:null,description:"",name:"onWaitingCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onAuxClick:{defaultValue:null,description:"",name:"onAuxClick",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onAuxClickCapture:{defaultValue:null,description:"",name:"onAuxClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onClickCapture:{defaultValue:null,description:"",name:"onClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onContextMenuCapture:{defaultValue:null,description:"",name:"onContextMenuCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onDoubleClickCapture:{defaultValue:null,description:"",name:"onDoubleClickCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragCapture:{defaultValue:null,description:"",name:"onDragCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragEndCapture:{defaultValue:null,description:"",name:"onDragEndCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragEnter:{defaultValue:null,description:"",name:"onDragEnter",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragEnterCapture:{defaultValue:null,description:"",name:"onDragEnterCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragExit:{defaultValue:null,description:"",name:"onDragExit",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragExitCapture:{defaultValue:null,description:"",name:"onDragExitCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragLeave:{defaultValue:null,description:"",name:"onDragLeave",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragLeaveCapture:{defaultValue:null,description:"",name:"onDragLeaveCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragOver:{defaultValue:null,description:"",name:"onDragOver",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragOverCapture:{defaultValue:null,description:"",name:"onDragOverCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDragStartCapture:{defaultValue:null,description:"",name:"onDragStartCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onDropCapture:{defaultValue:null,description:"",name:"onDropCapture",required:!1,type:{name:"DragEventHandler<HTMLVideoElement>"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseDownCapture:{defaultValue:null,description:"",name:"onMouseDownCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseMoveCapture:{defaultValue:null,description:"",name:"onMouseMoveCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseOutCapture:{defaultValue:null,description:"",name:"onMouseOutCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseOverCapture:{defaultValue:null,description:"",name:"onMouseOverCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onMouseUpCapture:{defaultValue:null,description:"",name:"onMouseUpCapture",required:!1,type:{name:"MouseEventHandler<HTMLVideoElement>"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onSelectCapture:{defaultValue:null,description:"",name:"onSelectCapture",required:!1,type:{name:"ReactEventHandler<HTMLVideoElement>"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchCancelCapture:{defaultValue:null,description:"",name:"onTouchCancelCapture",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchEndCapture:{defaultValue:null,description:"",name:"onTouchEndCapture",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchMoveCapture:{defaultValue:null,description:"",name:"onTouchMoveCapture",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onTouchStartCapture:{defaultValue:null,description:"",name:"onTouchStartCapture",required:!1,type:{name:"TouchEventHandler<HTMLVideoElement>"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerDownCapture:{defaultValue:null,description:"",name:"onPointerDownCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerMoveCapture:{defaultValue:null,description:"",name:"onPointerMoveCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerUp:{defaultValue:null,description:"",name:"onPointerUp",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerUpCapture:{defaultValue:null,description:"",name:"onPointerUpCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerCancel:{defaultValue:null,description:"",name:"onPointerCancel",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerCancelCapture:{defaultValue:null,description:"",name:"onPointerCancelCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerEnter:{defaultValue:null,description:"",name:"onPointerEnter",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerLeave:{defaultValue:null,description:"",name:"onPointerLeave",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerOver:{defaultValue:null,description:"",name:"onPointerOver",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerOverCapture:{defaultValue:null,description:"",name:"onPointerOverCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerOut:{defaultValue:null,description:"",name:"onPointerOut",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onPointerOutCapture:{defaultValue:null,description:"",name:"onPointerOutCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onGotPointerCapture:{defaultValue:null,description:"",name:"onGotPointerCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onGotPointerCaptureCapture:{defaultValue:null,description:"",name:"onGotPointerCaptureCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onLostPointerCapture:{defaultValue:null,description:"",name:"onLostPointerCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onLostPointerCaptureCapture:{defaultValue:null,description:"",name:"onLostPointerCaptureCapture",required:!1,type:{name:"PointerEventHandler<HTMLVideoElement>"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"UIEventHandler<HTMLVideoElement>"}},onScrollCapture:{defaultValue:null,description:"",name:"onScrollCapture",required:!1,type:{name:"UIEventHandler<HTMLVideoElement>"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"WheelEventHandler<HTMLVideoElement>"}},onWheelCapture:{defaultValue:null,description:"",name:"onWheelCapture",required:!1,type:{name:"WheelEventHandler<HTMLVideoElement>"}},onAnimationStart:{defaultValue:null,description:"",name:"onAnimationStart",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onAnimationStartCapture:{defaultValue:null,description:"",name:"onAnimationStartCapture",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onAnimationEnd:{defaultValue:null,description:"",name:"onAnimationEnd",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onAnimationEndCapture:{defaultValue:null,description:"",name:"onAnimationEndCapture",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onAnimationIteration:{defaultValue:null,description:"",name:"onAnimationIteration",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onAnimationIterationCapture:{defaultValue:null,description:"",name:"onAnimationIterationCapture",required:!1,type:{name:"AnimationEventHandler<HTMLVideoElement>"}},onTransitionEnd:{defaultValue:null,description:"",name:"onTransitionEnd",required:!1,type:{name:"TransitionEventHandler<HTMLVideoElement>"}},onTransitionEndCapture:{defaultValue:null,description:"",name:"onTransitionEndCapture",required:!1,type:{name:"TransitionEventHandler<HTMLVideoElement>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}},autoPlay:{defaultValue:null,description:"",name:"autoPlay",required:!1,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"boolean"}},loop:{defaultValue:null,description:"",name:"loop",required:!1,type:{name:"boolean"}},mediaGroup:{defaultValue:null,description:"",name:"mediaGroup",required:!1,type:{name:"string"}},muted:{defaultValue:null,description:"",name:"muted",required:!1,type:{name:"boolean"}},playsInline:{defaultValue:null,description:"",name:"playsInline",required:!1,type:{name:"boolean"}},poster:{defaultValue:null,description:"",name:"poster",required:!1,type:{name:"string"}},preload:{defaultValue:null,description:"",name:"preload",required:!1,type:{name:"string"}},src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | readonly string[]"}},suppressContentEditableWarning:{defaultValue:null,description:"",name:"suppressContentEditableWarning",required:!1,type:{name:"boolean"}},accessKey:{defaultValue:null,description:"",name:"accessKey",required:!1,type:{name:"string"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},contentEditable:{defaultValue:null,description:"",name:"contentEditable",required:!1,type:{name:'"inherit" | Booleanish | "plaintext-only"'}},contextMenu:{defaultValue:null,description:"",name:"contextMenu",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!1,type:{name:"Booleanish"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},nonce:{defaultValue:null,description:"",name:"nonce",required:!1,type:{name:"string"}},slot:{defaultValue:null,description:"",name:"slot",required:!1,type:{name:"string"}},spellCheck:{defaultValue:null,description:"",name:"spellCheck",required:!1,type:{name:"Booleanish"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:'"no" | "yes"'}},radioGroup:{defaultValue:null,description:"",name:"radioGroup",required:!1,type:{name:"string"}},about:{defaultValue:null,description:"",name:"about",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},datatype:{defaultValue:null,description:"",name:"datatype",required:!1,type:{name:"string"}},inlist:{defaultValue:null,description:"",name:"inlist",required:!1,type:{name:"any"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"string"}},property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"string"}},rel:{defaultValue:null,description:"",name:"rel",required:!1,type:{name:"string"}},resource:{defaultValue:null,description:"",name:"resource",required:!1,type:{name:"string"}},rev:{defaultValue:null,description:"",name:"rev",required:!1,type:{name:"string"}},typeof:{defaultValue:null,description:"",name:"typeof",required:!1,type:{name:"string"}},vocab:{defaultValue:null,description:"",name:"vocab",required:!1,type:{name:"string"}},autoCapitalize:{defaultValue:null,description:"",name:"autoCapitalize",required:!1,type:{name:"string"}},autoCorrect:{defaultValue:null,description:"",name:"autoCorrect",required:!1,type:{name:"string"}},autoSave:{defaultValue:null,description:"",name:"autoSave",required:!1,type:{name:"string"}},itemProp:{defaultValue:null,description:"",name:"itemProp",required:!1,type:{name:"string"}},itemScope:{defaultValue:null,description:"",name:"itemScope",required:!1,type:{name:"boolean"}},itemType:{defaultValue:null,description:"",name:"itemType",required:!1,type:{name:"string"}},itemID:{defaultValue:null,description:"",name:"itemID",required:!1,type:{name:"string"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"string"}},results:{defaultValue:null,description:"",name:"results",required:!1,type:{name:"number"}},security:{defaultValue:null,description:"",name:"security",required:!1,type:{name:"string"}},unselectable:{defaultValue:null,description:"",name:"unselectable",required:!1,type:{name:'"off" | "on"'}},inputMode:{defaultValue:null,description:`Hints at the type of data that might be entered by the user while editing the element or its contents
@see {@link https://html.spec.whatwg.org/multipage/interaction.html#input-modalities:-the-inputmode-attribute}`,name:"inputMode",required:!1,type:{name:'"none" | "search" | "text" | "tel" | "url" | "email" | "numeric" | "decimal"'}},is:{defaultValue:null,description:`Specify that a standard HTML element should behave like a defined custom built-in element
@see {@link https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is}`,name:"is",required:!1,type:{name:"string"}},disablePictureInPicture:{defaultValue:null,description:"",name:"disablePictureInPicture",required:!1,type:{name:"boolean"}},disableRemotePlayback:{defaultValue:null,description:"",name:"disableRemotePlayback",required:!1,type:{name:"boolean"}},controlsList:{defaultValue:null,description:"",name:"controlsList",required:!1,type:{name:"string"}},thumbnail:{defaultValue:null,description:"",name:"thumbnail",required:!1,type:{name:"string"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"VideoAction"}},volume:{defaultValue:{value:"1"},description:"",name:"volume",required:!1,type:{name:"number"}},volumeSlider:{defaultValue:null,description:"",name:"volumeSlider",required:!1,type:{name:"boolean"}},hideReportButton:{defaultValue:null,description:"",name:"hideReportButton",required:!1,type:{name:"boolean"}},playView:{defaultValue:{value:"inline"},description:"",name:"playView",required:!1,type:{name:"VideoPlayView"}},cdnUrl:{defaultValue:null,description:"",name:"cdnUrl",required:!1,type:{name:"string"}},cssUrl:{defaultValue:null,description:"",name:"cssUrl",required:!1,type:{name:"string"}},cdnVersion:{defaultValue:null,description:"",name:"cdnVersion",required:!1,type:{name:"string"}},a11yLoadText:{defaultValue:null,description:"",name:"a11yLoadText",required:!0,type:{name:"string"}},a11yPlayText:{defaultValue:null,description:"",name:"a11yPlayText",required:!0,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!0,type:{name:"string"}},reportText:{defaultValue:null,description:"",name:"reportText",required:!1,type:{name:"string"}},onLoadError:{defaultValue:{value:`() => {
    }`},description:"",name:"onLoadError",required:!1,type:{name:"(err: Error) => void"}},onPlay:{defaultValue:{value:`() => {
    }`},description:"",name:"onPlay",required:!1,type:{name:"EbayEventHandler<HTMLVideoElement, PlayEventProps>"}},onVolumeChange:{defaultValue:{value:`() => {
    }`},description:"",name:"onVolumeChange",required:!1,type:{name:"EbayEventHandler<HTMLVideoElement, VolumeChangeProps>"}},onReport:{defaultValue:{value:`() => {
    }`},description:"",name:"onReport",required:!1,type:{name:"(event?: MouseEvent<HTMLButtonElement, MouseEvent>) => void"}}}}}catch{}const fM={component:Sn,title:"media/ebay-video"},_n={a11yLoadText:"Loading",a11yPlayText:"Click to play",errorText:"An error has occurred",width:600,height:400,onPlay:(xe,Xe)=>ur("onPlay")(xe,Xe),onVolumeChange:(xe,Xe)=>ur("onVolumeChange")(xe,Xe),onLoadError:xe=>ur("onLoadError")(xe),onReport:xe=>ur("onReport")(xe)},Tl=()=>Ee(Sn,{..._n,thumbnail:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/iphone-thumbnail.jpg",volumeSlider:!0,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})}),Sl=()=>Ee(Sn,{..._n,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/video.mp4"})}),wl=()=>Ya(Sn,{..._n,thumbnail:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/iphone-thumbnail.jpg",children:[Ee(un,{src:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",type:"hls"}),Ee(un,{src:"https://bitmovin-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd",type:"dash"})]}),Al=()=>Ee(Sn,{..._n,children:Ee(un,{src:"wrong"})}),xl=()=>Ee(Sn,{..._n,children:Ee(un,{src:"http://videoservices.vip.qa.ebay.com/videos/v1/b645f08316c0a4e114537903ffffffad/playlist.mpd",type:"dash"})}),Cl=()=>Ee(Sn,{..._n,children:Ee(un,{src:"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd"})}),Il=()=>Ee(Sn,{..._n,reportText:"Report",onReport:ur("report"),children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})}),Ml=()=>Ee(Sn,{..._n,hideReportButton:!0,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})}),Ll=()=>Ee(Sn,{..._n,muted:!0,autoPlay:!0,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})}),kl=()=>Ee("div",{style:{width:"100%"},children:Ee(Sn,{..._n,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})})}),bl=()=>{const[xe,Xe]=Tn.useState(void 0),[at,wn]=Tn.useState(!1);return Ya(GI,{children:[Ee(_E,{onClick:()=>Xe(!xe),children:xe?"Pause":"Play"})," "," ",Ee(_E,{onClick:()=>wn(!at),children:at?"Unmute":"Mute"}),Ee(Sn,{style:{marginTop:"1em"},action:xe?"play":xe===!1?"pause":void 0,muted:at,onPlay:ur("playing"),onVolumeChange:ur("volume changed"),..._n,children:Ee(un,{src:"https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd",type:"dash"})})]})};var OE,VE,HE;Tl.parameters={...Tl.parameters,docs:{...(OE=Tl.parameters)==null?void 0:OE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps} thumbnail="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/iphone-thumbnail.jpg" volumeSlider>
        <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
    </EbayVideo>`,...(HE=(VE=Tl.parameters)==null?void 0:VE.docs)==null?void 0:HE.source}}};var jE,BE,FE;Sl.parameters={...Sl.parameters,docs:{...(jE=Sl.parameters)==null?void 0:jE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps}>
        <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/video.mp4" />
    </EbayVideo>`,...(FE=(BE=Sl.parameters)==null?void 0:BE.docs)==null?void 0:FE.source}}};var qE,GE,zE;wl.parameters={...wl.parameters,docs:{...(qE=wl.parameters)==null?void 0:qE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps} thumbnail="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/iphone-thumbnail.jpg">
        <EbayVideoSource src="https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8" type="hls" />
        <EbayVideoSource src="https://bitmovin-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd" type="dash" />
    </EbayVideo>`,...(zE=(GE=wl.parameters)==null?void 0:GE.docs)==null?void 0:zE.source}}};var KE,WE,XE;Al.parameters={...Al.parameters,docs:{...(KE=Al.parameters)==null?void 0:KE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps}>
        <EbayVideoSource src="wrong" />
    </EbayVideo>`,...(XE=(WE=Al.parameters)==null?void 0:WE.docs)==null?void 0:XE.source}}};var YE,$E,QE;xl.parameters={...xl.parameters,docs:{...(YE=xl.parameters)==null?void 0:YE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps}>
        <EbayVideoSource src="http://videoservices.vip.qa.ebay.com/videos/v1/b645f08316c0a4e114537903ffffffad/playlist.mpd" type="dash" />
    </EbayVideo>`,...(QE=($E=xl.parameters)==null?void 0:$E.docs)==null?void 0:QE.source}}};var JE,ZE,eT;Cl.parameters={...Cl.parameters,docs:{...(JE=Cl.parameters)==null?void 0:JE.docs,source:{originalSource:`() => <EbayVideo {...defaultProps}>
        <EbayVideoSource src="https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd" />
    </EbayVideo>`,...(eT=(ZE=Cl.parameters)==null?void 0:ZE.docs)==null?void 0:eT.source}}};var tT,nT,iT;Il.parameters={...Il.parameters,docs:{...(tT=Il.parameters)==null?void 0:tT.docs,source:{originalSource:`() => <EbayVideo {...defaultProps} reportText="Report" onReport={action('report')}>
        <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
    </EbayVideo>`,...(iT=(nT=Il.parameters)==null?void 0:nT.docs)==null?void 0:iT.source}}};var rT,oT,aT;Ml.parameters={...Ml.parameters,docs:{...(rT=Ml.parameters)==null?void 0:rT.docs,source:{originalSource:`() => <EbayVideo {...defaultProps} hideReportButton>
        <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
    </EbayVideo>`,...(aT=(oT=Ml.parameters)==null?void 0:oT.docs)==null?void 0:aT.source}}};var uT,sT,lT;Ll.parameters={...Ll.parameters,docs:{...(uT=Ll.parameters)==null?void 0:uT.docs,source:{originalSource:`() => <EbayVideo {...defaultProps} muted autoPlay>
        <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
    </EbayVideo>`,...(lT=(sT=Ll.parameters)==null?void 0:sT.docs)==null?void 0:lT.source}}};var dT,cT,pT;kl.parameters={...kl.parameters,docs:{...(dT=kl.parameters)==null?void 0:dT.docs,source:{originalSource:`() => <div style={{
  width: '100%'
}}>
        <EbayVideo {...defaultProps}>
            <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
        </EbayVideo>
    </div>`,...(pT=(cT=kl.parameters)==null?void 0:cT.docs)==null?void 0:pT.source}}};var hT,fT,mT;bl.parameters={...bl.parameters,docs:{...(hT=bl.parameters)==null?void 0:hT.docs,source:{originalSource:`() => {
  const [playing, setPlaying] = useState(undefined);
  const [muted, setMuted] = useState(false);
  return <>
            <EbayButton onClick={() => setPlaying(!playing)}>{playing ? 'Pause' : 'Play'}</EbayButton>{' '}
      &nbsp;
            <EbayButton onClick={() => setMuted(!muted)}>{muted ? 'Unmute' : 'Mute'}</EbayButton>
            <EbayVideo style={{
      marginTop: '1em'
    }} action={playing ? 'play' : playing === false ? 'pause' : undefined} muted={muted} onPlay={action('playing')} onVolumeChange={action('volume changed')} {...defaultProps}>
                <EbayVideoSource src="https://ir.ebaystatic.com/cr/v/c1/ebayui/video/v1/playlist.mpd" type="dash" />
            </EbayVideo>
        </>;
}`,...(mT=(fT=bl.parameters)==null?void 0:fT.docs)==null?void 0:mT.source}}};const mM=["Default","SingleVideo","MultipleVideos","Fail","FailInsidePlaylist","Captions","ReportText","NoReportButton","MutedAutoplay","FlexibleContainer","Controlled"];export{Cl as Captions,bl as Controlled,Tl as Default,Al as Fail,xl as FailInsidePlaylist,kl as FlexibleContainer,wl as MultipleVideos,Ll as MutedAutoplay,Ml as NoReportButton,Il as ReportText,Sl as SingleVideo,mM as __namedExportsOrder,fM as default};
