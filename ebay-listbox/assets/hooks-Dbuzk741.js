import{c as C,a as d,F as w}from"./index-Zi3BSDNR.js";import{r as l}from"./index-CBqU2yxZ.js";const r="floating-label__label",z=["rgb(247, 247, 247)"],M=e=>e&&!z.includes(getComputedStyle(e).backgroundColor),p=e=>{var n;return((n=e==null?void 0:e.value)==null?void 0:n.length)>0},S=e=>(e==null?void 0:e.tagName)==="SELECT",f=(e,n)=>{if(S(e)&&!p(e.querySelector("option"))){e.style["min-width"]="";const o=e.offsetWidth;e.querySelector("option").text=n,!n&&o>e.offsetWidth&&(e.style["min-width"]=`${o}px`)}},T=e=>S(e)?e.querySelector("option").text:e==null?void 0:e.placeholder;function N({ref:e,inputId:n,className:o,disabled:_,label:i,inputSize:x,inputValue:m,placeholder:g,invalid:E,opaqueLabel:L,type:$,onMount:v=()=>{}}){const B=l.useRef(null),t=()=>e||B,[b,u]=l.useState(!!m),[R,y]=l.useState(!1),[c,q]=l.useState(!1),h=l.useRef(""),k=()=>{var a;y(!0),u(p((a=t())==null?void 0:a.current)),q(!1),f(t().current,"")},I=()=>{var a;y(!0),u(!0),q(!0),f((a=t())==null?void 0:a.current,h.current)};l.useEffect(()=>{var a,s;i&&(h.current=T((a=t())==null?void 0:a.current),f((s=t())==null?void 0:s.current,""),v())},[]),l.useEffect(()=>{var a,s,V;i&&u(c||p((a=t())==null?void 0:a.current)||M((V=(s=t())==null?void 0:s.current)==null?void 0:V.parentNode))},[c,m]);const A=C(o,r,{[`${r}--disabled`]:_,[`${r}--animate`]:R,[`${r}--inline`]:!b&&$!=="date",[`${r}--focus`]:c,[`${r}--invalid`]:E}),F=C("floating-label",{"floating-label--large":x==="large","floating-label--opaque":L}),P=l.useCallback(({children:a})=>d(w,{children:a}),[]),W=l.useCallback(({children:a})=>d("span",{className:F,children:a}),[F]);return i?{label:d("label",{htmlFor:n,className:A,children:i}),Container:W,onBlur:k,onFocus:I,ref:t(),placeholder:b?g:null}:{label:null,Container:P,onBlur:()=>{},onFocus:()=>{},ref:t(),placeholder:g}}try{N.displayName="useFloatingLabel",N.__docgenInfo={description:"",displayName:"useFloatingLabel",props:{type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"any"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},inputSize:{defaultValue:null,description:"",name:"inputSize",required:!1,type:{name:'"default" | "large"'}},inputValue:{defaultValue:null,description:"",name:"inputValue",required:!1,type:{name:"string | number | readonly string[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},opaqueLabel:{defaultValue:null,description:"",name:"opaqueLabel",required:!1,type:{name:"boolean"}},onMount:{defaultValue:{value:"() => {}"},description:"",name:"onMount",required:!1,type:{name:"() => void"}}}}}catch{}export{N as u};
