import{c as l}from"./index-DVEpxHKN.js";const a={},h="nid",m=u(3);function d(i){return Math.floor(Math.random()*i)}function u(i){const t="abcdefghijklmnopqrstuvwxyz",e=t+"0123456789";let s=t[d(25)];for(let o=1;o<i;o++)s+=e[d(35)];return s}function r(i,t=h){const e=`${t}${t===""?"":"-"}${m}`;return a[e]=a[e]||0,i.id||i.setAttribute("id",`${e}-${a[e]++}`),i.id}const v={activeDescendantClassName:"active-descendant",autoInit:"none",autoReset:"none",autoScroll:!1,axis:"both",wrap:!1};function _(i){const{items:t,toIndex:n}=i.detail,e=t[n];e&&(e.classList.add(this._options.activeDescendantClassName),this._focusEl.setAttribute("aria-activedescendant",e.id)),this._el.dispatchEvent(new CustomEvent("activeDescendantInit",{detail:i.detail}))}function E(i){const{fromIndex:t,toIndex:n}=i.detail,e=this.items[t],s=this.items[n];e&&e.classList.remove(this._options.activeDescendantClassName),s&&(s.classList.add(this._options.activeDescendantClassName),this._focusEl.setAttribute("aria-activedescendant",s.id),this._options.autoScroll&&this._itemContainerEl&&s.scrollIntoView({block:"center"})),this._el.dispatchEvent(new CustomEvent("activeDescendantChange",{detail:i.detail}))}function f(i){const t=i.detail.toIndex,n=this._options.activeDescendantClassName;if(this.items.forEach(function(e){e.classList.remove(n)}),t!==null&&t!==-1){const e=this.items[t];e.classList.add(n),this._focusEl.setAttribute("aria-activedescendant",e.id)}else this._focusEl.removeAttribute("aria-activedescendant");this._el.dispatchEvent(new CustomEvent("activeDescendantReset",{detail:i.detail}))}function g(i){const{toIndex:t}=i.detail,n=this._options.activeDescendantClassName;this.items.forEach(function(e,s){r(e),s!==t?e.classList.remove(n):e.classList.add(n)}),this._el.dispatchEvent(new CustomEvent("activeDescendantMutation",{detail:i.detail}))}class p{constructor(t){this._el=t,this._onMutationListener=g.bind(this),this._onChangeListener=E.bind(this),this._onResetListener=f.bind(this),this._onInitListener=_.bind(this),this._el.addEventListener("navigationModelMutation",this._onMutationListener),this._el.addEventListener("navigationModelChange",this._onChangeListener),this._el.addEventListener("navigationModelReset",this._onResetListener),this._el.addEventListener("navigationModelInit",this._onInitListener)}destroy(){this._el.removeEventListener("navigationModelMutation",this._onMutationListener),this._el.removeEventListener("navigationModelChange",this._onChangeListener),this._el.removeEventListener("navigationModelReset",this._onResetListener),this._el.removeEventListener("navigationModelInit",this._onInitListener)}}class L extends p{constructor(t,n,e,s,o){super(t),this._options=Object.assign({},v,o),this._focusEl=n,this._itemContainerEl=e,this._itemSelector=s,r(this._itemContainerEl),this._itemContainerEl!==this._focusEl&&n.setAttribute("aria-owns",this._itemContainerEl.id),this._navigationEmitter=l(t,s,{autoInit:this._options.autoInit,autoReset:this._options.autoReset,axis:this._options.axis,ignoreByDelegateSelector:this._options.ignoreByDelegateSelector,wrap:this._options.wrap}),this.items.forEach(function(c){r(c)})}get index(){return this._navigationEmitter.model.index}set index(t){this._navigationEmitter.model.index=t}reset(){this._navigationEmitter.model.reset()}get currentItem(){return this._navigationEmitter.model.currentItem}get items(){return this._navigationEmitter.model.items}set wrap(t){this._navigationEmitter.model.options.wrap=t}destroy(){super.destroy(),this._navigationEmitter.destroy()}}function M(i,t,n,e,s){return new L(i,t,n,e,s)}export{M as c};
