import{r as h,a as Je}from"./index-CBqU2yxZ.js";import"./index-Zi3BSDNR.js";import{r as Qe}from"./index-BtM5VmRH.js";import{c as Ze}from"./index-BQcbYkqw.js";function le(){return typeof window<"u"}function G(e){return Pe(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function T(e){var t;return(t=(Pe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pe(e){return le()?e instanceof Node||e instanceof k(e).Node:!1}function C(e){return le()?e instanceof Element||e instanceof k(e).Element:!1}function M(e){return le()?e instanceof HTMLElement||e instanceof k(e).HTMLElement:!1}function be(e){return!le()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof k(e).ShadowRoot}function ee(e){const{overflow:t,overflowX:o,overflowY:n,display:s}=S(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(s)}function et(e){return["table","td","th"].includes(G(e))}function ue(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function we(e){const t=ye(),o=C(e)?S(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function tt(e){let t=B(e);for(;M(t)&&!X(t);){if(we(t))return t;if(ue(t))return null;t=B(t)}return null}function ye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function X(e){return["html","body","#document"].includes(G(e))}function S(e){return k(e).getComputedStyle(e)}function ae(e){return C(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function B(e){if(G(e)==="html")return e;const t=e.assignedSlot||e.parentNode||be(e)&&e.host||T(e);return be(t)?t.host:t}function We(e){const t=B(e);return X(t)?e.ownerDocument?e.ownerDocument.body:e.body:M(t)&&ee(t)?t:We(t)}function Z(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const s=We(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),i=k(s);if(r){const c=ge(i);return t.concat(i,i.visualViewport||[],ee(s)?s:[],c&&o?Z(c):[])}return t.concat(s,Z(s,[],o))}function ge(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const oe=Math.min,N=Math.max,se=Math.round,te=Math.floor,D=e=>({x:e,y:e}),nt={left:"right",right:"left",bottom:"top",top:"bottom"},ot={start:"end",end:"start"};function Ce(e,t,o){return N(e,oe(t,o))}function fe(e,t){return typeof e=="function"?e(t):e}function V(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function Ie(e){return e==="x"?"y":"x"}function He(e){return e==="y"?"height":"width"}function U(e){return["top","bottom"].includes(V(e))?"y":"x"}function $e(e){return Ie(U(e))}function st(e,t,o){o===void 0&&(o=!1);const n=de(e),s=$e(e),r=He(s);let i=s==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(i=ie(i)),[i,ie(i)]}function it(e){const t=ie(e);return[xe(e),t,xe(t)]}function xe(e){return e.replace(/start|end/g,t=>ot[t])}function rt(e,t,o){const n=["left","right"],s=["right","left"],r=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return o?t?s:n:t?n:s;case"left":case"right":return t?r:i;default:return[]}}function ct(e,t,o,n){const s=de(e);let r=rt(V(e),o==="start",n);return s&&(r=r.map(i=>i+"-"+s),t&&(r=r.concat(r.map(xe)))),r}function ie(e){return e.replace(/left|right|bottom|top/g,t=>nt[t])}function lt(e){return{top:0,right:0,bottom:0,left:0,...e}}function ut(e){return typeof e!="number"?lt(e):{top:e,right:e,bottom:e,left:e}}function re(e){const{x:t,y:o,width:n,height:s}=e;return{width:n,height:s,top:o,left:t,right:t+n,bottom:o+s,x:t,y:o}}function Oe(e,t,o){let{reference:n,floating:s}=e;const r=U(t),i=$e(t),c=He(i),l=V(t),u=r==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,m=n[c]/2-s[c]/2;let a;switch(l){case"top":a={x:f,y:n.y-s.height};break;case"bottom":a={x:f,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:d};break;case"left":a={x:n.x-s.width,y:d};break;default:a={x:n.x,y:n.y}}switch(de(t)){case"start":a[i]-=m*(o&&u?-1:1);break;case"end":a[i]+=m*(o&&u?-1:1);break}return a}const at=async(e,t,o)=>{const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:i}=o,c=r.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Oe(u,n,l),m=n,a={},p=0;for(let v=0;v<c.length;v++){const{name:w,fn:x}=c[v],{x:y,y:g,data:E,reset:L}=await x({x:f,y:d,initialPlacement:n,placement:m,strategy:s,middlewareData:a,rects:u,platform:i,elements:{reference:e,floating:t}});f=y??f,d=g??d,a={...a,[w]:{...a[w],...E}},L&&p<=50&&(p++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(u=L.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):L.rects),{x:f,y:d}=Oe(u,m,l)),v=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:a}};async function Be(e,t){var o;t===void 0&&(t={});const{x:n,y:s,platform:r,rects:i,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:a=0}=fe(t,e),p=ut(a),w=c[m?d==="floating"?"reference":"floating":d],x=re(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(w)))==null||o?w:w.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:u,rootBoundary:f,strategy:l})),y=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),E=await(r.isElement==null?void 0:r.isElement(g))?await(r.getScale==null?void 0:r.getScale(g))||{x:1,y:1}:{x:1,y:1},L=re(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:g,strategy:l}):y);return{top:(x.top-L.top+p.top)/E.y,bottom:(L.bottom-x.bottom+p.bottom)/E.y,left:(x.left-L.left+p.left)/E.x,right:(L.right-x.right+p.right)/E.x}}const ft=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:s,middlewareData:r,rects:i,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...w}=fe(e,t);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const x=V(s),y=U(c),g=V(c)===c,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),L=m||(g||!v?[ie(c)]:it(c)),F=p!=="none";!m&&F&&L.push(...ct(c,v,p,E));const O=[c,...L],I=await Be(t,w),q=[];let P=((n=r.flip)==null?void 0:n.overflows)||[];if(f&&q.push(I[x]),d){const A=st(s,i,E);q.push(I[A[0]],I[A[1]])}if(P=[...P,{placement:s,overflows:q}],!q.every(A=>A<=0)){var z,J;const A=(((z=r.flip)==null?void 0:z.index)||0)+1,Q=O[A];if(Q)return{data:{index:A,overflows:P},reset:{placement:Q}};let R=(J=P.filter(W=>W.overflows[0]<=0).sort((W,b)=>W.overflows[1]-b.overflows[1])[0])==null?void 0:J.placement;if(!R)switch(a){case"bestFit":{var H;const W=(H=P.filter(b=>{if(F){const _=U(b.placement);return _===y||_==="y"}return!0}).map(b=>[b.placement,b.overflows.filter(_=>_>0).reduce((_,$)=>_+$,0)]).sort((b,_)=>b[1]-_[1])[0])==null?void 0:H[0];W&&(R=W);break}case"initialPlacement":R=c;break}if(s!==R)return{reset:{placement:R}}}return{}}}};async function dt(e,t){const{placement:o,platform:n,elements:s}=e,r=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=V(o),c=de(o),l=U(o)==="y",u=["left","top"].includes(i)?-1:1,f=r&&l?-1:1,d=fe(t,e);let{mainAxis:m,crossAxis:a,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof p=="number"&&(a=c==="end"?p*-1:p),l?{x:a*f,y:m*u}:{x:m*u,y:a*f}}const ht=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:s,y:r,placement:i,middlewareData:c}=t,l=await dt(t,e);return i===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:i}}}}},mt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:s}=t,{mainAxis:r=!0,crossAxis:i=!1,limiter:c={fn:w=>{let{x,y}=w;return{x,y}}},...l}=fe(e,t),u={x:o,y:n},f=await Be(t,l),d=U(V(s)),m=Ie(d);let a=u[m],p=u[d];if(r){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",y=a+f[w],g=a-f[x];a=Ce(y,a,g)}if(i){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=p+f[w],g=p-f[x];p=Ce(y,p,g)}const v=c.fn({...t,[m]:a,[d]:p});return{...v,data:{x:v.x-o,y:v.y-n,enabled:{[m]:r,[d]:i}}}}}};function Ne(e){const t=S(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=M(e),r=s?e.offsetWidth:o,i=s?e.offsetHeight:n,c=se(o)!==r||se(n)!==i;return c&&(o=r,n=i),{width:o,height:n,$:c}}function Ee(e){return C(e)?e:e.contextElement}function Y(e){const t=Ee(e);if(!M(t))return D(1);const o=t.getBoundingClientRect(),{width:n,height:s,$:r}=Ne(t);let i=(r?se(o.width):o.width)/n,c=(r?se(o.height):o.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const pt=D(0);function Ve(e){const t=k(e);return!ye()||!t.visualViewport?pt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==k(e)?!1:t}function j(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const s=e.getBoundingClientRect(),r=Ee(e);let i=D(1);t&&(n?C(n)&&(i=Y(n)):i=Y(e));const c=gt(r,o,n)?Ve(r):D(0);let l=(s.left+c.x)/i.x,u=(s.top+c.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(r){const m=k(r),a=n&&C(n)?k(n):n;let p=m,v=ge(p);for(;v&&n&&a!==p;){const w=Y(v),x=v.getBoundingClientRect(),y=S(v),g=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,E=x.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,u*=w.y,f*=w.x,d*=w.y,l+=g,u+=E,p=k(v),v=ge(p)}}return re({width:f,height:d,x:l,y:u})}function Le(e,t){const o=ae(e).scrollLeft;return t?t.left+o:j(T(e)).left+o}function je(e,t,o){o===void 0&&(o=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(o?0:Le(e,n)),r=n.top+t.scrollTop;return{x:s,y:r}}function xt(e){let{elements:t,rect:o,offsetParent:n,strategy:s}=e;const r=s==="fixed",i=T(n),c=t?ue(t.floating):!1;if(n===i||c&&r)return o;let l={scrollLeft:0,scrollTop:0},u=D(1);const f=D(0),d=M(n);if((d||!d&&!r)&&((G(n)!=="body"||ee(i))&&(l=ae(n)),M(n))){const a=j(n);u=Y(n),f.x=a.x+n.clientLeft,f.y=a.y+n.clientTop}const m=i&&!d&&!r?je(i,l,!0):D(0);return{width:o.width*u.x,height:o.height*u.y,x:o.x*u.x-l.scrollLeft*u.x+f.x+m.x,y:o.y*u.y-l.scrollTop*u.y+f.y+m.y}}function vt(e){return Array.from(e.getClientRects())}function wt(e){const t=T(e),o=ae(e),n=e.ownerDocument.body,s=N(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),r=N(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+Le(e);const c=-o.scrollTop;return S(n).direction==="rtl"&&(i+=N(t.clientWidth,n.clientWidth)-s),{width:s,height:r,x:i,y:c}}function yt(e,t){const o=k(e),n=T(e),s=o.visualViewport;let r=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){r=s.width,i=s.height;const u=ye();(!u||u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:r,height:i,x:c,y:l}}function Et(e,t){const o=j(e,!0,t==="fixed"),n=o.top+e.clientTop,s=o.left+e.clientLeft,r=M(e)?Y(e):D(1),i=e.clientWidth*r.x,c=e.clientHeight*r.y,l=s*r.x,u=n*r.y;return{width:i,height:c,x:l,y:u}}function Re(e,t,o){let n;if(t==="viewport")n=yt(e,o);else if(t==="document")n=wt(T(e));else if(C(t))n=Et(t,o);else{const s=Ve(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return re(n)}function qe(e,t){const o=B(e);return o===t||!C(o)||X(o)?!1:S(o).position==="fixed"||qe(o,t)}function Lt(e,t){const o=t.get(e);if(o)return o;let n=Z(e,[],!1).filter(c=>C(c)&&G(c)!=="body"),s=null;const r=S(e).position==="fixed";let i=r?B(e):e;for(;C(i)&&!X(i);){const c=S(i),l=we(i);!l&&c.position==="fixed"&&(s=null),(r?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ee(i)&&!l&&qe(e,i))?n=n.filter(f=>f!==i):s=c,i=B(i)}return t.set(e,n),n}function bt(e){let{element:t,boundary:o,rootBoundary:n,strategy:s}=e;const i=[...o==="clippingAncestors"?ue(t)?[]:Lt(t,this._c):[].concat(o),n],c=i[0],l=i.reduce((u,f)=>{const d=Re(t,f,s);return u.top=N(d.top,u.top),u.right=oe(d.right,u.right),u.bottom=oe(d.bottom,u.bottom),u.left=N(d.left,u.left),u},Re(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ct(e){const{width:t,height:o}=Ne(e);return{width:t,height:o}}function Ot(e,t,o){const n=M(t),s=T(t),r=o==="fixed",i=j(e,!0,r,t);let c={scrollLeft:0,scrollTop:0};const l=D(0);if(n||!n&&!r)if((G(t)!=="body"||ee(s))&&(c=ae(t)),n){const m=j(t,!0,r,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&(l.x=Le(s));const u=s&&!n&&!r?je(s,c):D(0),f=i.left+c.scrollLeft-l.x-u.x,d=i.top+c.scrollTop-l.y-u.y;return{x:f,y:d,width:i.width,height:i.height}}function he(e){return S(e).position==="static"}function _e(e,t){if(!M(e)||S(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return T(e)===o&&(o=o.ownerDocument.body),o}function ze(e,t){const o=k(e);if(ue(e))return o;if(!M(e)){let s=B(e);for(;s&&!X(s);){if(C(s)&&!he(s))return s;s=B(s)}return o}let n=_e(e,t);for(;n&&et(n)&&he(n);)n=_e(n,t);return n&&X(n)&&he(n)&&!we(n)?o:n||tt(e)||o}const Rt=async function(e){const t=this.getOffsetParent||ze,o=this.getDimensions,n=await o(e.floating);return{reference:Ot(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _t(e){return S(e).direction==="rtl"}const kt={convertOffsetParentRelativeRectToViewportRelativeRect:xt,getDocumentElement:T,getClippingRect:bt,getOffsetParent:ze,getElementRects:Rt,getClientRects:vt,getDimensions:Ct,getScale:Y,isElement:C,isRTL:_t};function Ke(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ft(e,t){let o=null,n;const s=T(e);function r(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),r();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:a}=u;if(c||t(),!m||!a)return;const p=te(d),v=te(s.clientWidth-(f+m)),w=te(s.clientHeight-(d+a)),x=te(f),g={rootMargin:-p+"px "+-v+"px "+-w+"px "+-x+"px",threshold:N(0,oe(1,l))||1};let E=!0;function L(F){const O=F[0].intersectionRatio;if(O!==l){if(!E)return i();O?i(!1,O):n=setTimeout(()=>{i(!1,1e-7)},1e3)}O===1&&!Ke(u,e.getBoundingClientRect())&&i(),E=!1}try{o=new IntersectionObserver(L,{...g,root:s.ownerDocument})}catch{o=new IntersectionObserver(L,g)}o.observe(e)}return i(!0),r}function At(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Ee(e),f=s||r?[...u?Z(u):[],...Z(t)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",o,{passive:!0}),r&&x.addEventListener("resize",o)});const d=u&&c?Ft(u,o):null;let m=-1,a=null;i&&(a=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&a&&(a.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=a)==null||g.observe(t)})),o()}),u&&!l&&a.observe(u),a.observe(t));let p,v=l?j(e):null;l&&w();function w(){const x=j(e);v&&!Ke(v,x)&&o(),v=x,p=requestAnimationFrame(w)}return o(),()=>{var x;f.forEach(y=>{s&&y.removeEventListener("scroll",o),r&&y.removeEventListener("resize",o)}),d==null||d(),(x=a)==null||x.disconnect(),a=null,l&&cancelAnimationFrame(p)}}const St=ht,Dt=mt,Mt=ft,Tt=(e,t,o)=>{const n=new Map,s={platform:kt,...o},r={...s.platform,_c:n};return at(e,t,{...s,platform:r})};var ne=typeof document<"u"?h.useLayoutEffect:h.useEffect;function ce(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!ce(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),o=s.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=o;n--!==0;){const r=s[n];if(!(r==="_owner"&&e.$$typeof)&&!ce(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function Ye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ke(e,t){const o=Ye(e);return Math.round(t*o)/o}function me(e){const t=h.useRef(e);return ne(()=>{t.current=e}),t}function Pt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:s,elements:{reference:r,floating:i}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[f,d]=h.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[m,a]=h.useState(n);ce(m,n)||a(n);const[p,v]=h.useState(null),[w,x]=h.useState(null),y=h.useCallback(b=>{b!==F.current&&(F.current=b,v(b))},[]),g=h.useCallback(b=>{b!==O.current&&(O.current=b,x(b))},[]),E=r||p,L=i||w,F=h.useRef(null),O=h.useRef(null),I=h.useRef(f),q=l!=null,P=me(l),z=me(s),J=me(u),H=h.useCallback(()=>{if(!F.current||!O.current)return;const b={placement:t,strategy:o,middleware:m};z.current&&(b.platform=z.current),Tt(F.current,O.current,b).then(_=>{const $={..._,isPositioned:J.current!==!1};A.current&&!ce(I.current,$)&&(I.current=$,Qe.flushSync(()=>{d($)}))})},[m,t,o,z,J]);ne(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(b=>({...b,isPositioned:!1})))},[u]);const A=h.useRef(!1);ne(()=>(A.current=!0,()=>{A.current=!1}),[]),ne(()=>{if(E&&(F.current=E),L&&(O.current=L),E&&L){if(P.current)return P.current(E,L,H);H()}},[E,L,H,P,q]);const Q=h.useMemo(()=>({reference:F,floating:O,setReference:y,setFloating:g}),[y,g]),R=h.useMemo(()=>({reference:E,floating:L}),[E,L]),W=h.useMemo(()=>{const b={position:o,left:0,top:0};if(!R.floating)return b;const _=ke(R.floating,f.x),$=ke(R.floating,f.y);return c?{...b,transform:"translate("+_+"px, "+$+"px)",...Ye(R.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:_,top:$}},[o,c,R.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:H,refs:Q,elements:R,floatingStyles:W}),[f,H,Q,R,W])}const Wt=(e,t)=>({...St(e),options:[e,t]}),It=(e,t)=>({...Dt(e),options:[e,t]}),Ht=(e,t)=>({...Mt(e),options:[e,t]}),Xe={...Je},$t=Xe.useInsertionEffect,Bt=$t||(e=>e());function Nt(e){const t=h.useRef(()=>{});return Bt(()=>{t.current=e}),h.useCallback(function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}var ve=typeof document<"u"?h.useLayoutEffect:h.useEffect;let Fe=!1,Vt=0;const Ae=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vt++;function jt(){const[e,t]=h.useState(()=>Fe?Ae():void 0);return ve(()=>{e==null&&t(Ae())},[]),h.useEffect(()=>{Fe=!0},[]),e}const qt=Xe.useId,zt=qt||jt;function Kt(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(s=>s(o))},on(t,o){e.set(t,[...e.get(t)||[],o])},off(t,o){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(s=>s!==o))||[])}}}const Yt=h.createContext(null),Xt=h.createContext(null),Ut=()=>{var e;return((e=h.useContext(Yt))==null?void 0:e.id)||null},Gt=()=>h.useContext(Xt);function Jt(e){const{open:t=!1,onOpenChange:o,elements:n}=e,s=zt(),r=h.useRef({}),[i]=h.useState(()=>Kt()),c=Ut()!=null,[l,u]=h.useState(n.reference),f=Nt((a,p,v)=>{r.current.openEvent=a?p:void 0,i.emit("openchange",{open:a,event:p,reason:v,nested:c}),o==null||o(a,p,v)}),d=h.useMemo(()=>({setPositionReference:u}),[]),m=h.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return h.useMemo(()=>({dataRef:r,open:t,onOpenChange:f,elements:m,events:i,floatingId:s,refs:d}),[t,f,m,i,s,d])}function Qt(e){e===void 0&&(e={});const{nodeId:t}=e,o=Jt({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,s=n.elements,[r,i]=h.useState(null),[c,l]=h.useState(null),f=(s==null?void 0:s.domReference)||r,d=h.useRef(null),m=Gt();ve(()=>{f&&(d.current=f)},[f]);const a=Pt({...e,elements:{...s,...c&&{reference:c}}}),p=h.useCallback(g=>{const E=C(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;l(E),a.refs.setReference(E)},[a.refs]),v=h.useCallback(g=>{(C(g)||g===null)&&(d.current=g,i(g)),(C(a.refs.reference.current)||a.refs.reference.current===null||g!==null&&!C(g))&&a.refs.setReference(g)},[a.refs]),w=h.useMemo(()=>({...a.refs,setReference:v,setPositionReference:p,domReference:d}),[a.refs,v,p]),x=h.useMemo(()=>({...a.elements,domReference:f}),[a.elements,f]),y=h.useMemo(()=>({...a,...n,refs:w,elements:x,nodeId:t}),[a,w,x,t,n]);return ve(()=>{n.dataRef.current.floatingContext=y;const g=m==null?void 0:m.nodesRef.current.find(E=>E.id===t);g&&(g.context=y)}),h.useMemo(()=>({...a,context:y,refs:w,elements:x}),[a,w,x,y])}const pe={},Zt="nid",en=tn(3);function Se(e){return Math.floor(Math.random()*e)}function tn(e){const t="abcdefghijklmnopqrstuvwxyz",n=t+"0123456789";let s=t[Se(25)];for(let r=1;r<e;r++)s+=n[Se(35)];return s}function Ue(e,t=Zt){const n=`${t}${t===""?"":"-"}${en}`;return pe[n]=pe[n]||0,e.id||e.setAttribute("id",`${n}-${pe[n]++}`),e.id}const De={};function Ge(e,t,o){e.dispatchEvent(new CustomEvent("focusExit",{detail:{fromElement:t,toElement:o},bubbles:!1}))}function nn(e){const t=e.target;this.el.contains(t)===!0?this.currentFocusElement=t:(window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),Ge(this.el,this.currentFocusElement,t),this.currentFocusElement=null)}function on(){Ge(this.el,this.currentFocusElement,void 0)}function sn(){document.addEventListener("focusin",this.onDocumentFocusInListener),window.addEventListener("blur",this.onWindowBlurListener)}class rn{constructor(t){this.el=t,this.currentFocusElement=null,this.onWidgetFocusInListener=sn.bind(this),this.onDocumentFocusInListener=nn.bind(this),this.onWindowBlurListener=on.bind(this),this.el.addEventListener("focusin",this.onWidgetFocusInListener)}removeEventListeners(){window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),this.el.removeEventListener("focusin",this.onWidgetFocusInListener)}}function cn(e){let t=null;return Ue(e),De[e.id]||(t=new rn(e),De[e.id]=t),t}const ln=["a[href]","area[href]","button:not([disabled])","embed","iframe","input:not([disabled])","object","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]"],un=ln.join();function Me(e,t=!1,o){return an(e,t)}function an(e,t=!1){let o=Array.prototype.slice.call(e.querySelectorAll(un));return o=o.filter(function(n){return window.getComputedStyle(n).display!=="none"}),t===!0&&(o=o.filter(function(n){return n.getAttribute("tabindex")!=="-1"})),o}const fn={alwaysDoFocusManagement:!1,ariaControls:!0,autoCollapse:!1,collapseOnFocusOut:!1,collapseOnMouseOut:!1,collapseOnClickOut:!1,contentSelector:".expander__content",expandedClass:null,expandOnClick:!1,expandOnFocus:!1,expandOnHover:!1,focusManagement:null,hostSelector:".expander__host",simulateSpacebarClick:!1};function dn(e){(e.keyCode===13||e.keyCode===32)&&(this._keyboardClickFlag=!0),e.keyCode===32&&this.options.simulateSpacebarClick===!0&&this.hostEl.click()}function hn(){this._mouseClickFlag=!0}function mn(){this._expandWasKeyboardClickActivated=this._keyboardClickFlag,this._expandWasMouseClickActivated=this._mouseClickFlag,this.expanded=!this.expanded}function pn(){this._expandWasFocusActivated=!0,this.expanded=!0}function gn(){clearTimeout(this._mouseLeft),this._expandWasHoverActivated=!0,this.expanded=!0}function xn(){this.expanded=!1}function vn(){clearTimeout(this._mouseLeft),this._mouseLeft=setTimeout(()=>{this.expanded=!1},300)}function wn(e){this.el.contains(e.target)===!1&&(this.expanded=!1)}function yn(){this.documentClick=!0}function En(){this.documentClick=!1}function Ln(e){this.documentClick===!0&&(this.documentClick=!1,this.el.contains(e.target)===!1&&(this.expanded=!1))}function bn(e,t){if(e==="content")t.setAttribute("tabindex","-1"),t.focus();else if(e==="focusable")Me(t)[0].focus();else if(e==="interactive")Me(t,!0)[0].focus();else if(e!==null){const o=t.querySelector(`#${e}`);o&&o.focus()}}class K{constructor(t,o){this.options=Object.assign({},fn,o),this.el=t,this.hostEl=t.querySelector(this.options.hostSelector),this.contentEl=t.querySelector(this.options.contentSelector),cn(this.el),this._hostKeyDownListener=dn.bind(this),this._hostMouseDownListener=hn.bind(this),this._documentClickListener=wn.bind(this),this._documentTouchStartListener=yn.bind(this),this._documentTouchMoveListener=En.bind(this),this._documentTouchEndListener=Ln.bind(this),this._hostClickListener=mn.bind(this),this._hostFocusListener=pn.bind(this),this._hostHoverListener=gn.bind(this),this._focusExitListener=xn.bind(this),this._mouseLeaveListener=vn.bind(this),this.hostEl.getAttribute("aria-expanded")===null&&this.hostEl.setAttribute("aria-expanded","false"),this.options.ariaControls===!0&&(Ue(this.el,"expander"),this.contentEl.id=this.contentEl.id||`${this.el.id}-content`,this.hostEl.setAttribute("aria-controls",this.contentEl.id)),this.expandOnClick=this.options.expandOnClick,this.expandOnFocus=this.options.expandOnFocus,this.expandOnHover=this.options.expandOnHover,this.options.autoCollapse===!1&&(this.collapseOnClickOut=this.options.collapseOnClickOut,this.collapseOnFocusOut=this.options.collapseOnFocusOut,this.collapseOnMouseOut=this.options.collapseOnMouseOut)}set expandOnClick(t){t===!0?(this.hostEl.addEventListener("keydown",this._hostKeyDownListener),this.hostEl.addEventListener("mousedown",this._hostMouseDownListener),this.hostEl.addEventListener("click",this._hostClickListener),this.options.autoCollapse===!0&&(this.collapseOnClickOut=!0,this.collapseOnFocusOut=!0)):(this.hostEl.removeEventListener("click",this._hostClickListener),this.hostEl.removeEventListener("mousedown",this._hostMouseDownListener),this.hostEl.removeEventListener("keydown",this._hostKeyDownListener))}set expandOnFocus(t){t===!0?(this.hostEl.addEventListener("focus",this._hostFocusListener),this.options.autoCollapse===!0&&(this.collapseOnClickOut=!0,this.collapseOnFocusOut=!0)):this.hostEl.removeEventListener("focus",this._hostFocusListener)}set expandOnHover(t){t===!0?(this.hostEl.addEventListener("mouseenter",this._hostHoverListener),this.contentEl.addEventListener("mouseenter",this._hostHoverListener),this.options.autoCollapse===!0&&(this.collapseOnMouseOut=!0)):(this.hostEl.removeEventListener("mouseenter",this._hostHoverListener),this.contentEl.removeEventListener("mouseenter",this._hostHoverListener))}set collapseOnClickOut(t){t===!0?(document.addEventListener("click",this._documentClickListener),document.addEventListener("touchstart",this._documentTouchStartListener),document.addEventListener("touchmove",this._documentTouchMoveListener),document.addEventListener("touchend",this._documentTouchEndListener)):(document.removeEventListener("click",this._documentClickListener),document.removeEventListener("touchstart",this._documentTouchStartListener),document.removeEventListener("touchmove",this._documentTouchMoveListener),document.removeEventListener("touchend",this._documentTouchEndListener))}set collapseOnFocusOut(t){t===!0?this.el.addEventListener("focusExit",this._focusExitListener):this.el.removeEventListener("focusExit",this._focusExitListener)}set collapseOnMouseOut(t){t===!0?(this.el.addEventListener("mouseleave",this._mouseLeaveListener),this.contentEl.addEventListener("mouseleave",this._mouseLeaveListener)):(this.el.removeEventListener("mouseleave",this._mouseLeaveListener),this.contentEl.removeEventListener("mouseleave",this._mouseLeaveListener))}get expanded(){return this.hostEl.getAttribute("aria-expanded")==="true"}set expanded(t){t===!0&&this.expanded===!1&&(this.hostEl.setAttribute("aria-expanded","true"),this.options.expandedClass&&this.el.classList.add(this.options.expandedClass),(this._expandWasKeyboardClickActivated||this._expandWasMouseClickActivated&&this.options.alwaysDoFocusManagement)&&bn(this.options.focusManagement,this.contentEl),this.el.dispatchEvent(new CustomEvent("expander-expand",{bubbles:!0,detail:this.contentEl}))),t===!1&&this.expanded===!0&&(this.hostEl.setAttribute("aria-expanded","false"),this.options.expandedClass&&this.el.classList.remove(this.options.expandedClass),this.el.dispatchEvent(new CustomEvent("expander-collapse",{bubbles:!0,detail:this.contentEl}))),this._expandWasKeyboardClickActivated=!1,this._expandWasMouseClickActivated=!1,this._expandWasFocusActivated=!1,this._expandWasHoverActivated=!1,this._keyboardClickFlag=!1,this._mouseClickFlag=!1}sleep(){this._destroyed!==!0&&(this.expandOnClick=!1,this.expandOnFocus=!1,this.expandOnHover=!1,this.collapseOnClickOut=!1,this.collapseOnFocusOut=!1,this.collapseOnMouseOut=!1)}destroy(){this.sleep(),this._destroyed=!0,this._hostKeyDownListener=null,this._hostMouseDownListener=null,this._documentClickListener=null,this._documentTouchStartListener=null,this._documentTouchMoveListener=null,this._documentTouchEndListener=null,this._hostClickListener=null,this._hostFocusListener=null,this._hostHoverListener=null,this._focusExitListener=null,this._mouseLeaveListener=null}}var Te;const{default:Cn=K}=(Te=K==null?void 0:K.default)!=null&&Te.__esModule?K.default:K;function Fn({open:e,options:t}){const{floatingStyles:o,refs:n}=Qt({placement:t!=null&&t.reverse?"bottom-end":"bottom-start",open:e,middleware:[Wt((t==null?void 0:t.offset)??4),Ht(),It()],whileElementsMounted:At});return{overlayStyles:o,refs:{host:n.reference,overlay:n.floating,setHost:n.setReference,setOverlay:n.setFloating}}}function An({ref:e,expanded:t,options:o,onExpand:n,onCollapse:s},r){const i=h.useRef(),c=h.useSyncExternalStore(l=>{var d,m;function u(){l(),n==null||n()}function f(){l(),s==null||s()}return(d=e.current)==null||d.addEventListener("expander-expand",u),(m=e.current)==null||m.addEventListener("expander-collapse",f),()=>{var a,p;(a=e.current)==null||a.removeEventListener("expander-expand",u),(p=e.current)==null||p.removeEventListener("expander-collapse",f)}},()=>{var l;return(l=i.current)==null?void 0:l.expanded},()=>!1);return h.useEffect(()=>(e.current&&(i.current=new Cn(e.current,o)),()=>{var l;(l=i.current)==null||l.destroy()}),r||[]),h.useEffect(()=>{i.current&&t!==void 0&&(i.current.expanded=t)},[t]),{isExpanded:c,expand:()=>{i.current&&(i.current.expanded=!0)},collapse:()=>{i.current&&(i.current.expanded=!1)}}}function Sn({ref:e,focusElementRef:t,itemContainerRef:o,onChange:n=()=>null,disabled:s,options:r}){const i=h.useRef();return h.useEffect(()=>{const c=l=>{const u={toIndex:l.detail.toIndex};n(l,u)};return s||(i.current=Ze(e.current,t?t.current:e.current,o?o.current:e.current,"[role=option]",r),e.current.addEventListener("activeDescendantChange",c)),()=>{var l,u,f;(l=i.current)==null||l.reset(),(u=i.current)==null||u.destroy(),(f=e.current)==null||f.removeEventListener("activeDescendantChange",c)}},[s,n]),{setIndex(c){i.current.index=c},getIndex(){return i.current.index}}}export{An as a,Sn as b,K as s,Fn as u};
